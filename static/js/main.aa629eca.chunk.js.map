{"version":3,"sources":["pages/home.js","pages/recommendations.js","pages/tinderCards.js","pages/userSelection.js","pages/gettingToKnow.js","pages/SwipeTest.js","pages/recommendationsA.js","pages/checkBox.js","pages/profile.js","App.js","serviceWorker.js","index.js"],"names":["Home","className","to","React","Component","styled","div","props","sliding","dir","capitalizeFLetter","string","returnVal","toUpperCase","slice","e","perc2color","perc","r","g","Math","round","b","toString","sleep","milliseconds","Promise","resolve","setTimeout","Recommendations","state","foods","tags","images","recipe","nutrition","ingredients","similar","socket","initialiseSocket","sendable","generateMeal","bind","getRecommendations","switchViews","generateView","resetSwipes","generateFavorites","goToFavorites","goToRecommends","generateBadges","swipeItem","saveAlert","createCards","onopen","users","JSON","parse","localStorage","getItem","payload","action","i","length","Name","favorites","Liked","name","send","stringify","loading","favorite","onmessage","message","translation","data","console","log","Swal","fire","title","showConfirmButton","timer","FirstTime1","text","icon","confirmButtonText","then","clickConfirm","FirstTime2","setItem","initialfoods","recommends","initialtags","initialimages","shuffled","filterfoods","filteredfoods","filteredTags","filteredImages","setState","initialised","view","swipednumber","value","FirstTime3","undefined","this","array","array2","array3","temporaryValue","randomIndex","currentIndex","floor","random","answer","push","shuffle","newinitialfoods","newinitialtags","newinitialimages","likedItems","dislikedItems","Disliked","filteredFoods","filteredtags","filteredimages","p","includes","noserver","sendRecipe","sendNuttritionSimilar","toLowerCase","ingredipayload","fakemessage","similarpayload","prolist","item","proto","allowOutsideClick","rating","tempUserIndex","size","Length","DisLiked","account","vegan","easy","preparation","amount","names","Preferences","likes","booleansPreferences","k","nutritionLabels","nutritionalInfo","getNutritionInfo","nutritionalInfoHtml","nutritionalInfoHtmlTemp","nutritionalInfoHtmlTemp2","explanationHtmlTemp","similarMeals","getExplanation","empty","number","color","onClick","align","src","alt","style","backgroundColor","modal","trigger","image","recept","getRecipe","recipeHtmlTemp","getIngredients","popUpHtml","ingredientsHtmlTemp","html","position","open","opened","logAction","closeOnDocumentClick","nutritionopened","gerecht","thisCard","dislike","like","getFavorites","refName","ref","recipePopupFromImage","getname","getimage","recipePopupForTinder","nutritionalPopupForTinder","id","tagName","setStack","stack","stackEl","throwoutleft","throwoutright","currentfavorite","badges","forEach","index","badgeName","config","onSwiped","endSwipe","onSwipedLeft","unlike","display","preventDefaultTouchmoveEvent","trackMouse","transition","delta","swipingspecials","showThumbs","abs","shadownr","onSwiping","eventData","swiped","onMouseEnter","onMouseLeave","transform","transformfunc","opacity","transparfunc","recipePopup","nutritionalPopup","food","assets","getAssets","content","onSwipedRight","transparency","f2","liked","t","j","newliked","splice","disliked","thisAction","thisItem","Date","now","v","Log","swiping","deltaX","item2","tutor","wrapperStyles","width","height","actionsStyles","justifyContent","marginTop","TinderCards","remove","cards","indexOf","buttons","left","right","onAfterSwipe","onSwipe","zIndex","UserProfile","handleChange","event","target","tempUsers","alreadyInUsers","emptyDict","Allergies","FirstTime","booleanAllergies","ctrlKey","charCode","logForUser","s","type","placeholder","username","onChange","onKeyPress","handleTest","updateUsers","SwipeTest","context","createRef","RecommendationsA","WebSocket","Checkbox","toggleChange","isChecked","prefs","all","checked","for","Profile","onTextChangedLiked","suggestions","regex","RegExp","items","sort","filter","test","suggestionsLiked","textLiked","onTextChangedDisliked","suggestionsDisliked","textDisliked","alreadySet","amountOfLikes","amountOfDislikes","boxes","getItemLocal","success","updateAccount","tempIndex","returnList","class","renderSuggestionsLiked","doChange","renderSuggestionsDisliked","map","suggestionSelectedLiked","suggestionSelectedDisliked","buttonNb","getRender","renderButton","App","startwebsocket","basename","exact","path","component","UserSelection","f","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.aa629eca.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './LandingPage.css'\r\n\r\n\r\nclass Home extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <div className=\"Circle\">\r\n\r\n                </div>\r\n                <h1 className=\"fadeInLeft1\">Welcome!</h1>\r\n                <p className=\"textLanding fadeInLeft2\">Let's get you started.</p>\r\n                <Link to=\"/profile\">\r\n                    <button className=\"StartButton fadeInLeft3\"><b>CONTINUE</b></button>\r\n                </Link>\r\n                <div className='plate1 fadeInRight1'> </div>\r\n                <div className='plate2 fadeInRight2'> </div>\r\n                <div className='plate3 fadeInRight3'> </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport './FoodPage.css';\r\nimport './Popup.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Popup from \"reactjs-popup\";\r\nimport Swipeable from \"react-swipy\";\r\nimport {Swipeable as Swiping} from \"react-swipeable\";\r\nimport './tinderCards.css';\r\nimport Swal, {clickConfirm} from \"sweetalert2\";\r\nimport styled from \"styled-components\";\r\nimport {  Popup as InfoPopup } from \"semantic-ui-react\";\r\nimport ReactSwing from \"react-swing\";\r\nlet lastItem = null;\r\nlet lastAction  = null;\r\nexport const icanswipe = styled.div`\r\n  display: flex;\r\n  transition: ${props => (props.sliding ? \"none\" : \"transform 1s ease\")};\r\n  transform: ${props => {\r\n    if (!props.sliding) return \"translateX(calc(-80% - 20px))\";\r\n    if (props.dir === \"PREV\") return \"translateX(calc(2 * (-80% - 20px)))\";\r\n    return \"translateX(0%)\";\r\n}};\r\n`;\r\n\r\nconst wrapperStyles = {position: \"relative\", width: \"250px\", height: \"300px\"};\r\nconst actionsStyles = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: 12,\r\n};\r\n\r\nfunction capitalizeFLetter(string) {\r\n    let returnVal = string;\r\n    try {\r\n        returnVal = string[0].toUpperCase() + string.slice(1);\r\n    } catch (e) {\r\n\r\n    }\r\n    return returnVal;\r\n}\r\n\r\nfunction perc2color(perc) {\r\n    var r, g, b = 0;\r\n    if(perc < 50) {\r\n        r = 255;\r\n        g = Math.round(5.1 * perc);\r\n    }\r\n    else {\r\n        g = 255;\r\n        r = Math.round(510 - 5.10 * perc);\r\n    }\r\n    var h = r * 0x10000 + g * 0x100 + b * 0x1;\r\n    return '#' + ('000000' + h.toString(16)).slice(-6);\r\n}\r\n\r\nfunction shuffle(array,array2,array3) {\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n        temporaryValue = array2[currentIndex];\r\n        array2[currentIndex] = array2[randomIndex];\r\n        array2[randomIndex] = temporaryValue;\r\n        temporaryValue = array3[currentIndex];\r\n        array3[currentIndex] = array3[randomIndex];\r\n        array3[randomIndex] = temporaryValue;\r\n    }\r\n    let answer=[];\r\n    answer.push(array,array2,array3);\r\n\r\n    return answer;\r\n}\r\nconst sleep = (milliseconds) => {\r\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n}\r\n\r\nclass Recommendations extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            foods: [],\r\n            tags: [],\r\n            images: [],\r\n            recipe: [],\r\n            nutrition: [],\r\n            ingredients: [],\r\n            similar: [],\r\n\r\n\r\n        };\r\n\r\n\r\n\r\n        this.socket=this.initialiseSocket();\r\n        this.sendable=false;\r\n\r\n        this.generateMeal=this.generateMeal.bind(this);\r\n        this.getRecommendations=this.getRecommendations.bind(this);\r\n        this.switchViews=this.switchViews.bind(this);\r\n        this.generateView=this.generateView.bind(this);\r\n        this.resetSwipes=this.resetSwipes.bind(this);\r\n        this.generateFavorites=this.generateFavorites.bind(this);\r\n        this.goToFavorites=this.goToFavorites.bind(this);\r\n        this.goToRecommends=this.goToRecommends.bind(this);\r\n        this.generateBadges=this.generateBadges.bind(this);\r\n        this.swipeItem = this.swipeItem.bind(this);\r\n        this.saveAlert = this.saveAlert.bind(this);\r\n        this.createCards = this.createCards.bind(this);\r\n\r\n\r\n        this.socket.onopen = () => {\r\n            let users = JSON.parse(localStorage.getItem('users'));\r\n            let payload= {\r\n                action: \"initialise\"\r\n            };\r\n            for (let i = users.length-1; i>=0; i--) {\r\n                if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                    let liked=users[i].Liked;\r\n                     payload={\r\n                        action: \"initialise\",\r\n                        favorites:liked,\r\n                         name: localStorage.getItem('currentUser')\r\n                    };\r\n                }\r\n            }\r\n            this.socket.send(JSON.stringify(payload));\r\n            if (!this.sendable){\r\n                this.loading=false;\r\n                this.sendable=true;\r\n                if(this.state.favorite){\r\n                    this.goToFavorites()\r\n                }\r\n                else{\r\n                    this.getRecommendations();\r\n                }\r\n            }\r\n            // do something after connection is opened\r\n        };\r\n\r\n        this.state.favorite=JSON.parse(localStorage.getItem('favorite'));\r\n\r\n        this.socket.onmessage=((message) => {\r\n            let translation=JSON.parse(message.data);\r\n            console.log(translation);\r\n            switch(translation.action){\r\n                case \"Recommends\":\r\n                    if(this.loading){\r\n                        this.loading=false;\r\n                       // alert(\"this\");\r\n                        Swal.fire({\r\n                            title: \"Finished!\",\r\n                            showConfirmButton: false,\r\n                            timer: 1000\r\n                        });\r\n                    }\r\n                    let users = JSON.parse(localStorage.getItem('users'));\r\n                    for (let i = users.length-1; i>=0; i--) {\r\n                        if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                            if(users[i].FirstTime1){\r\n                                Swal.fire({\r\n\r\n                                    text: \"Drag an item left to dislike it, or right to like it.\",\r\n                                    icon: 'info',\r\n                                    confirmButtonText: 'Okay!'\r\n                                }).then(() => {{\r\n                                    if (clickConfirm) {\r\n                                        Swal.fire({\r\n                                            text: \"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.\",\r\n\r\n                                            icon: 'info',\r\n                                            confirmButtonText: 'Okay!'\r\n                                        }).then(() => {\r\n                                            if (clickConfirm) {\r\n                                                Swal.fire({\r\n                                                    text: \"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. \",\r\n                                                    icon: 'info',\r\n                                                    confirmButtonText: 'Okay!'\r\n                                                })\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }});\r\n                                users[i].FirstTime1 = false;\r\n                                users[i].FirstTime2 = false;\r\n                                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                            }\r\n                            else if(users[i].FirstTime2){\r\n                                Swal.fire({\r\n                                    title: \"You're getting the hang of this!\",\r\n                                    icon: 'success',\r\n                                    confirmButtonText: 'Okay!'\r\n                                }).then(() => {\r\n                                    if (clickConfirm) {\r\n                                        Swal.fire({\r\n                                            text: \"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.\",\r\n\r\n                                            icon: 'info',\r\n                                            confirmButtonText: 'Okay!'\r\n                                        }).then(() => {\r\n                                            if (clickConfirm) {\r\n                                                Swal.fire({\r\n                                                    text: \"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. \",\r\n                                                    icon: 'info',\r\n                                                    confirmButtonText: 'Okay!'\r\n                                                })\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                });\r\n                                users[i].FirstTime2 = false;\r\n                                localStorage.setItem('users', JSON.stringify(users));\r\n                            }\r\n                        }\r\n                        }\r\n\r\n\r\n                    let initialfoods = translation.recommends;\r\n                    let initialtags = translation.tags;\r\n                    let initialimages = translation.images;\r\n                    let shuffled=this.filterfoods(initialfoods,initialtags,initialimages);\r\n                    let filteredfoods=shuffled[0];\r\n                    let filteredTags=shuffled[1];\r\n                    let filteredImages=shuffled[2];\r\n                    this.setState({tags: filteredTags});\r\n                    this.setState({foods: filteredfoods});\r\n                    this.setState({images: filteredImages});\r\n                    localStorage.setItem(\"viewInit\", 1);\r\n                    if(JSON.parse(localStorage.getItem('viewInit'))==1 && this.state.initialised!=true){\r\n                        this.state.view=0;\r\n                        sleep(5).then(() => {\r\n                            this.state.view= JSON.parse(localStorage.getItem('viewInit'));\r\n                            if(this.state.view==1){\r\n                                this.state.swipednumber=0;\r\n                                const value = (this.state.view + 1) % 2;\r\n                                localStorage.setItem(\"view\", value);\r\n                                this.state.initialised=true;\r\n                                this.setState({view: 1});\r\n                            }\r\n                        })\r\n\r\n\r\n                    }\r\n                    break;\r\n                case \"favorites\":\r\n\r\n                    if(this.loading){\r\n                       // alert(\"this favorites\");\r\n                        this.loading=false;\r\n                        Swal.fire({\r\n                            title: \"Finished!\",\r\n                            showConfirmButton: false,\r\n                            timer: 1000\r\n                        });\r\n                        let users = JSON.parse(localStorage.getItem('users'));\r\n                        for (let i = users.length-1; i>=0; i--) {\r\n                            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                               if(users[i].FirstTime3){\r\n                                   Swal.fire({\r\n                                       title: \"Do not lose any of your liked recipes!\",\r\n                                       text: \"You can find them here!\",\r\n                                       icon:\"info\"\r\n                                   });\r\n                                   users[i].FirstTime3 = false;\r\n                                   localStorage.setItem('users', JSON.stringify(users));\r\n                               }\r\n                            }\r\n                        }\r\n                    }\r\n                    this.setState({favorites: translation.favorites});\r\n                  //  alert('favorites set '+ translation.favorites);\r\n                    break;\r\n                case \"Similar\":\r\n\r\n                        // alert(\"this favorites\");\r\n                        this.loading=false;\r\n                        Swal.fire({\r\n                            title: \"Finished!\",\r\n                            showConfirmButton: false,\r\n                            timer: 1000\r\n                        });\r\n\r\n                    this.setState({similar: translation.similar});\r\n                    break;\r\n                case \"Recipe\":\r\n                    this.setState({recipe: translation.recipe});\r\n                    break;\r\n                case \"Nutrition\":\r\n                    this.setState({nutrition: translation.nutrition});\r\n                    break;\r\n                case \"Ingredients\":\r\n                    this.setState({ingredients: translation.ingredients});\r\n                    break\r\n            }\r\n        });\r\n        if(this.state.swipednumber===undefined){\r\n            this.state.swipednumber=0;\r\n        }\r\n\r\n        if(this.state.favorite){\r\n            this.goToFavorites()\r\n        }\r\n        if(this.state.initialised==undefined||this.state.initialised==false){\r\n            this.state.view=0;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    fakemessage(message) {\r\n        let translation = JSON.parse(message.data);\r\n        console.log(translation);\r\n        switch (translation.action) {\r\n            case \"Recommends\":\r\n                if (this.loading) {\r\n                    this.loading = false;\r\n                    // alert(\"this\");\r\n                    Swal.fire({\r\n                        title: \"Finished!\",\r\n                        showConfirmButton: false,\r\n                        timer: 1000\r\n                    });\r\n                }\r\n                let users = JSON.parse(localStorage.getItem('users'));\r\n                for (let i = users.length - 1; i >= 0; i--) {\r\n                    if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                        if (users[i].FirstTime1) {\r\n                            Swal.fire({\r\n\r\n                                text: \"Drag an item left to dislike it, or right to like it.\",\r\n                                icon: 'info',\r\n                                confirmButtonText: 'Okay!'\r\n                            }).then(() => {\r\n                                if (clickConfirm) {\r\n                                    Swal.fire({\r\n                                        text: \"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.\",\r\n                                        icon: 'info',\r\n                                        confirmButtonText: 'Okay!'\r\n                                    }).then(() => {\r\n                                        if (clickConfirm) {\r\n                                            Swal.fire({\r\n                                                text: \"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. \",\r\n                                                icon: 'info',\r\n                                                confirmButtonText: 'Okay!'\r\n                                            })\r\n                                        }\r\n                                    })\r\n                                }\r\n                            });\r\n                            users[i].FirstTime1 = false;\r\n                            users[i].FirstTime2 = false;\r\n                            localStorage.setItem(\"users\", JSON.stringify(users));\r\n                        } else if (users[i].FirstTime2) {\r\n                            Swal.fire({\r\n                                title: \"You're getting the hang of this!\",\r\n                                icon: 'success',\r\n                                confirmButtonText: 'Okay!'\r\n                            }).then(() => {\r\n                                if (clickConfirm) {\r\n                                    Swal.fire({\r\n                                        text: \"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.\",\r\n                                        icon: 'info',\r\n                                        confirmButtonText: 'Okay!'\r\n                                    }).then(() => {\r\n                                        if (clickConfirm) {\r\n                                            Swal.fire({\r\n                                                text: \"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. \",\r\n                                                icon: 'info',\r\n                                                confirmButtonText: 'Okay!'\r\n                                            })\r\n                                        }\r\n                                    })\r\n                                }\r\n                            });\r\n                            users[i].FirstTime2 = false;\r\n                            localStorage.setItem('users', JSON.stringify(users));\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                let initialfoods = translation.recommends;\r\n                let initialtags = translation.tags;\r\n                let initialimages = translation.images;\r\n                let shuffled = this.filterfoods(initialfoods, initialtags, initialimages);\r\n                let filteredfoods = shuffled[0];\r\n                let filteredTags = shuffled[1];\r\n                let filteredImages = shuffled[2];\r\n                this.setState({tags: filteredTags});\r\n                this.setState({foods: filteredfoods});\r\n                this.setState({images: filteredImages});\r\n                localStorage.setItem(\"viewInit\", 1);\r\n                if (JSON.parse(localStorage.getItem('viewInit')) == 1 && this.state.initialised != true) {\r\n                    this.state.view = 0;\r\n                    sleep(5).then(() => {\r\n                        this.state.view = JSON.parse(localStorage.getItem('viewInit'));\r\n                        if (this.state.view == 1) {\r\n                            this.state.swipednumber = 0;\r\n                            const value = (this.state.view + 1) % 2;\r\n                            localStorage.setItem(\"view\", value);\r\n                            this.state.initialised = true;\r\n                            this.setState({view: 1});\r\n                        }\r\n                    })\r\n\r\n\r\n                }\r\n                break;\r\n            case \"favorites\":\r\n\r\n                if (this.loading) {\r\n                    // alert(\"this favorites\");\r\n                    this.loading = false;\r\n                    Swal.fire({\r\n                        title: \"Finished!\",\r\n                        showConfirmButton: false,\r\n                        timer: 1000\r\n                    });\r\n                    let users = JSON.parse(localStorage.getItem('users'));\r\n                    for (let i = users.length - 1; i >= 0; i--) {\r\n                        if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                            if (users[i].FirstTime3) {\r\n                                Swal.fire({\r\n                                    title: \"Do not lose any of your liked recipes!\",\r\n                                    text: \"You can find them here!\",\r\n                                    icon: \"info\"\r\n                                });\r\n                                users[i].FirstTime3 = false;\r\n                                localStorage.setItem('users', JSON.stringify(users));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({favorites: translation.favorites});\r\n//  alert('favorites set '+ translation.favorites);\r\n                break;\r\n            case \"Similar\":\r\n\r\n// alert(\"this favorites\");\r\n                this.loading = false;\r\n                Swal.fire({\r\n                    title: \"Finished!\",\r\n                    showConfirmButton: false,\r\n                    timer: 1000\r\n                });\r\n\r\n                this.setState({similar: translation.similar});\r\n                break;\r\n            case \"Recipe\":\r\n                this.setState({recipe: translation.recipe});\r\n                break;\r\n            case \"Nutrition\":\r\n                this.setState({nutrition: translation.nutrition});\r\n                break;\r\n            case \"Ingredients\":\r\n                this.setState({ingredients: translation.ingredients});\r\n                break;\r\n        }\r\n    }\r\n\r\n    filterfoods(initialfoods,initialtags,initialimages){\r\n        let shuffled=shuffle(initialfoods,initialtags,initialimages);\r\n        let newinitialfoods=shuffled[0];\r\n        let newinitialtags=shuffled[1];\r\n        let newinitialimages=shuffled[2];\r\n\r\n        //initialfoods shuffle\r\n\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n            }\r\n        }\r\n\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let filteredFoods  =[];\r\n        let filteredtags  =[];\r\n        let filteredimages  =[];\r\n        let p=0;\r\n        for (let i = 0; p<7 ; i++) {\r\n            if (newinitialfoods[i] !==\"\" && !likedItems.includes(newinitialfoods[i]) && !dislikedItems.includes(newinitialfoods[i])) {\r\n                p++;\r\n                filteredFoods.push(newinitialfoods[i]);\r\n                filteredtags.push(newinitialtags[i]);\r\n                filteredimages.push((newinitialimages[i]));\r\n                //alert(initialfoods[i]);\r\n            }\r\n        }\r\n        let answer=[];\r\n        answer.push(filteredFoods,filteredtags,filteredimages);\r\n        return answer;\r\n    }\r\n\r\n    initialiseSocket() {\r\n        if(this.socket!==undefined){\r\n            return this.socket;\r\n        }\r\n        this.setState({favorite: false});\r\n       this.state.noserver=true;\r\n        //my public ip should work if my server is running\r\n       // return new WebSocket(\"ws://[2a02:a03f:4a1b:5100:8473:6145:3b2f:6b2e]:9000\");\r\n    }\r\n\r\n    getInfo(string) {\r\n\r\n\r\n        this.sendRecipe(string);\r\n        this.sendNuttritionSimilar(string);\r\n    }\r\n    sendRecipe(name) {\r\n        name=name.toLowerCase();\r\n        console.log(\"send recipe\");\r\n        this.socket=this.initialiseSocket();\r\n        let payload = {\r\n            action: \"Recipe\",\r\n            recipe: name\r\n        };\r\n        let ingredipayload = {\r\n            action: \"Ingredients\",\r\n            name: name\r\n        };\r\n        //  this.socket.close();\r\n        if(this.sendable!==undefined&&this.sendable){\r\n            this.socket.send(JSON.stringify(payload));\r\n            this.socket.send(JSON.stringify(ingredipayload));\r\n        }\r\n            let message2={\r\n                recipe:[\"Stir everything together in a 4 1\\/2 quart or larger slow cooker.\",\"Set power to low and cook for 6 hours or longer (we usually let this cook for 10 hours).\",\"Serve with cheese or sour cream if you wish.\"],\r\n                action:\"Recipe\"\r\n            }\r\n            this.fakemessage(message2);\r\n\r\n\r\n            let message={\r\n                ingredients:[\"1 (15 ounce) can black beans, drained and rinsed (or 1 1\\/2 - 2 cups cooked beans)\",\"1 (15 ounce) can navy beans, drained and rinsed (or 1 1\\/2 - 2 cups cooked beans)\",\"1 (14 1\\/2 ounce) can diced tomatoes\",\"1 (14 1\\/2 ounce) can diced tomatoes and green chilies or (14 1\\/2 ounce) can diced tomatoes with jalapenos\",\"1 cup onion, chopped\",\"6 garlic cloves, minced\",\"2 tablespoons chili powder\",\"1 tablespoon sweet Hungarian paprika\",\"1 tablespoon dried cilantro (optional)\",\"1\\/2 teaspoon fresh coarse ground black pepper\",\"1 teaspoon chipotle chile, minced\"],\r\n                action:\"Ingredients\"\r\n            }\r\n            this.fakemessage(message);\r\n    }\r\n\r\n\r\n    sendNuttritionSimilar(name){\r\n        name=name.toLowerCase();\r\n        this.socket=this.initialiseSocket();\r\n        let payload = {\r\n            action: \"Nutrition\",\r\n            name: name\r\n        };\r\n        if(this.sendable!==undefined&&this.sendable) {\r\n            this.socket.send(JSON.stringify(payload));\r\n\r\n        }\r\n        let similarpayload={\r\n            action: \"Similar\",\r\n            recipe: name,\r\n            prolist:[]\r\n        };\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n            }\r\n        }\r\n\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let prolist = [];\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n           if(likedItems[i]!=name){\r\n               let item = {};\r\n               item['name'] = likedItems[i];\r\n               item['rating']= 1.0;\r\n               prolist.push(item);\r\n           }\r\n\r\n        }\r\n\r\n        for (let i = 0; i < dislikedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = dislikedItems[i];\r\n            item['rating'] = -1.0;\r\n            prolist.push(item)\r\n        }\r\n        similarpayload.prolist = prolist;\r\n        this.state.proto=!this.state.proto;\r\n        if(this.sendable) {\r\n            if(this.state.proto){\r\n                this.socket.send(JSON.stringify(similarpayload));\r\n                Swal.fire({\r\n                    title: \"Loading...\",\r\n                    text: \"Please wait\",\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                });\r\n            }\r\n\r\n        }\r\n        let message={\r\n            nutrition:[\"123.1\",\"2.0\",\"16.0\",\"0.0\",\"11.0\",\"1.0\",\"8.0\"],\r\n            action:\"Nutrition\"\r\n        }\r\n        this.fakemessage(message);\r\n        let message2={\r\n            similar:[{\"image\":\"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/11\\/05\\/46\\/picMI3hkn.jpg\",\"matchfactor\":0.7333333333333333,\"name\":\"black   white vegetarian chipotle chili  crock pot\"},{\"image\":\"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/27\\/17\\/5\\/27175.jpg\",\"matchfactor\":0.4666666666666667,\"name\":\"chocolate raspberry cheesecake trifle\"},{\"image\":\"https:\\/\\/images.unsplash.com\\/photo-1542384557-0824d90731ee?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\"matchfactor\":0.4,\"name\":\"oriental crunch burgers\"},{\"image\":\"https:\\/\\/images.unsplash.com\\/photo-1552246098-2a991afa1c6c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\"matchfactor\":-0.4,\"name\":\"egg  ham and cheese open faced english muffin\"},{\"image\":\"https:\\/\\/images.unsplash.com\\/photo-1550825570-8ae96cf12d87?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\"matchfactor\":-0.5333333333333333,\"name\":\"easy mango salsa\"}],\r\n            action:\"Similar\"\r\n\r\n        }\r\n        this.fakemessage(message2);\r\n\r\n    }\r\n\r\n    getFavorites(){\r\n            let users = JSON.parse(localStorage.getItem('users'));\r\n            let likedItems = null;\r\n            for (let i = users.length - 1; i >= 0; i--) {\r\n                if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                    likedItems = users[i].Liked;\r\n                }\r\n            }\r\n            if (likedItems == null) {\r\n                likedItems = [];\r\n            }\r\n\r\n            let payload = {\r\n                action: \"Favorites\",\r\n                prolist: [{name: \"hot tamale  burgers\", rating: 0.5}]\r\n            };\r\n\r\n            const names = [\"vegetarian\", \"gluten-free\", \"low-carb\", \"vegan\", \"dairy-free\", \"low-cholesterol\", \"kosher\", \"ramadan\", \"low-protein\"];\r\n            const likes = JSON.parse(localStorage.getItem('boxes'));\r\n\r\n            // Creating prolist\r\n            let prolist = [];\r\n\r\n            for (let i = 0; i < likedItems.length; i++) {\r\n                let item = {};\r\n                item['name'] = likedItems[i];\r\n                item['rating'] = 1.0;\r\n                prolist.push(item)\r\n            }\r\n\r\n            payload.prolist = prolist;\r\n            console.log(prolist);\r\n\r\n            console.log(payload);\r\n\r\n            if (this.sendable) {\r\n                this.socket.send(JSON.stringify(payload));\r\n                Swal.fire({\r\n                    title: \"Loading...\",\r\n                    text: \"Please wait\",\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                });\r\n                this.loading = true;\r\n            }\r\n            let message = {\r\n                favorites: [{\r\n                    \"image\": \"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/11\\/05\\/46\\/picMI3hkn.jpg\",\r\n                    \"name\": \"black   white vegetarian chipotle chili  crock pot\",\r\n                    \"tags\": [\"vegan\", \"vegetarian\", \"inexpensive\"]\r\n                }, {\r\n                    \"image\": \"https:\\/\\/images.unsplash.com\\/photo-1542384557-0824d90731ee?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\r\n                    \"name\": \"oriental crunch burgers\",\r\n                    \"tags\": [\"oven\", \"meat\"]\r\n                }, {\r\n                    \"image\": \"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/27\\/17\\/5\\/27175.jpg\",\r\n                    \"name\": \"chocolate raspberry cheesecake trifle\",\r\n                    \"tags\": [\"vegetarian\", \"desserts\"]\r\n                }],\r\n                action: \"favorites\"\r\n            }\r\n            this.fakemessage(message);\r\n\r\n    }\r\n\r\n    getRecommendations(){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let tempUserIndex = -1;\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                tempUserIndex = i;\r\n                likedItems=[];\r\n                while(likedItems.size<users[i].Liked.Length||likedItems.size<7){\r\n                    let random=      Math.random(users[i].Liked.length);\r\n                    if(likedItems.includes(users[i].Liked[random],0)){\r\n                        likedItems.push(users[i].Liked[random])\r\n                    }\r\n\r\n\r\n                }\r\n                dislikedItems=[];\r\n                while(dislikedItems.size<users[i].Disliked.Length||dislikedItems.size<5){\r\n                    let random=      Math.random(users[i].DisLiked.length);\r\n                    if(dislikedItems.includes(users[i].Disliked[random],0)){\r\n                        dislikedItems.push(users[i].Disliked[random])\r\n                    }\r\n\r\n\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let payload = {\r\n            action: \"Recommend\",\r\n            account: {vegan: 1, easy: 1, preparation: 1},\r\n            amount: 7,\r\n            prolist: [{name:\"hot tamale  burgers\", rating:0.5}]\r\n        };\r\n        let amount=7;\r\n\r\n        if(likedItems!=null && likedItems!==undefined){\r\n            amount+=likedItems.length;\r\n        }\r\n        if(dislikedItems!=null &&dislikedItems!==undefined){\r\n            amount+=dislikedItems.length;\r\n        }\r\n\r\n        payload.amount=amount;\r\n        let names = users[tempUserIndex].Preferences;\r\n        let likes = users[tempUserIndex].booleansPreferences;\r\n        for (let k = 0; k<names.length; k++){\r\n            names[k] = names[k].toLowerCase();\r\n        }\r\n\r\n        let account = {};\r\n        // Creating account\r\n        for (let i = 0; i < names.length; i++) {\r\n            if (likes[i] === true) {\r\n                account[names[i]] = 1;\r\n            }\r\n        }\r\n        console.log(account);\r\n        payload.account = account;\r\n        console.log(payload);\r\n\r\n        // Creating prolist\r\n        let prolist = [];\r\n\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = likedItems[i];\r\n            item['rating'] = 1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        for (let i = 0; i < dislikedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = dislikedItems[i];\r\n            item['rating'] = -1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        payload.prolist = prolist;\r\n        console.log(prolist);\r\n        payload.account = account;\r\n        console.log(payload);\r\n\r\n        console.log(payload)\r\n        if(this.sendable) {\r\n\r\n            this.socket.send(JSON.stringify(payload));\r\n            Swal.fire({\r\n                title: \"Loading...\",\r\n                text: \"Please wait\",\r\n                showConfirmButton: false,\r\n                allowOutsideClick: false,\r\n            });\r\n            this.state.initialised=false;\r\n            this.loading=true;\r\n        }\r\n        let message={\r\n            action: \"Recommends\",\r\n            images:[\"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/18\\/66\\/50\\/pic7Hlb5A.jpg\",\"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/26\\/47\\/02\\/picTs7xCP.jpg\",\"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/68\\/16\\/0\\/picHY17iL.jpg\",\"https:\\/\\/images.unsplash.com\\/photo-1467630144534-da2b634ce269?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/31\\/95\\/96\\/picQRQQwF.jpg\",\"https:\\/\\/images.unsplash.com\\/photo-1464052259809-c19ec2ddfc5f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80\",\"https:\\/\\/img.sndimg.com\\/food\\/image\\/upload\\/w_555,h_416,c_fit,fl_progressive,q_95\\/v1\\/img\\/recipes\\/31\\/16\\/97\\/piczU9Utc.jpg\"],\r\n            recommends:[\"cocoa pebbles cereal cookies\",\"ana s asian ny strip steak\",\"pb j energy oat bars\",\"pistachio pudding pie\",\"kittencal s chicken parmesan  low fat and delicious\",\"tilapia tatsuta age\",\"wisconsin cheese soup\"],\r\n            tags:[[\"desserts\"],[\"meat\"],[\"oven\",\"vegetarian\",\"desserts\"],[\"desserts\"],[\"oven\",\"meat\"],[\"fish\"],[\"meat\"]]\r\n        }\r\n        this.fakemessage(message);\r\n\r\n    }\r\n\r\n    //POPUP CODE\r\n    nutritionalPopup(name){\r\n\r\n        let nutritionLabels = ['Carbs','Total Fats', 'Sugar', 'Sodium', 'Protein', 'Saturated Fats', 'Carbohydrates'];\r\n        let nutritionalInfo = this.getNutritionInfo(name);\r\n        let nutritionalInfoHtml = [];\r\n        let nutritionalInfoHtmlTemp = [];\r\n        let nutritionalInfoHtmlTemp2 = [];\r\n        let explanationHtmlTemp = [];\r\n        let similarMeals = this.getExplanation();\r\n        let title=capitalizeFLetter(name);\r\n        if(nutritionalInfo!==undefined){\r\n            for (let i = 0; i < nutritionalInfo.length; i++){\r\n                nutritionalInfoHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {nutritionLabels[i]}\r\n                        <br/>\r\n                    </div>);\r\n                nutritionalInfoHtmlTemp2.push(\r\n                    <div className = \"popupText\">\r\n                        {nutritionalInfo[i]}\r\n                        <br/>\r\n                    </div>);\r\n            }\r\n        }\r\n        let empty = true;\r\n        if(similarMeals!==undefined){\r\n\r\n            for (let i = 0; i < similarMeals.length; i++) {\r\n                let number=Math.floor(similarMeals[i][\"matchfactor\"]*100);\r\n                let color=perc2color(number);\r\n                if (number >= 60){\r\n                    empty= false;\r\n                    explanationHtmlTemp.push(\r\n                        <div className=\"popupText2\">\r\n                            <div className=\"container2\">\r\n                                <img className=\"FoodPhotoLarge3\" onClick={this.goToFavorites} title={similarMeals[i][\"name\"]} align=\"left\" src={similarMeals[i][\"image\"]} alt=\"Food\"/>\r\n                                <button className=\"OnTopButton\" style={{backgroundColor: color}}>{number}%</button>\r\n                            </div>\r\n\r\n                            <br/>\r\n\r\n                        </div>);\r\n                    }\r\n            }\r\n        }\r\n        if (empty){\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            You did not try anything like this! Try it out!\r\n                            <br/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        }\r\n        else{\r\n        nutritionalInfoHtml.push(\r\n            <div className=\"row\">\r\n                <div className=\"Nutritioncolumn\">\r\n                    <div className=\"popupTextTitle\">\r\n                        Nutritional info:\r\n                        <br/>\r\n                    </div>\r\n                    <div className=\"textrow\">\r\n                        <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                        <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"column\">\r\n                    <div className=\"popupTextTitle2\">\r\n                        Because you liked:\r\n                        <br/>\r\n                    </div>\r\n                    {explanationHtmlTemp}\r\n                </div>\r\n            </div>\r\n\r\n        );}\r\n        let html = [\r\n            <Popup  modal trigger={<button title=\"nutrition\" className=\"IconLayout NutritionIcon\" >\r\n            </button>} >\r\n                <div className=\"popUp2\">\r\n                    <div className=\"popupHeader\">Nutritional info for\r\n                        <br/>\r\n                        {title}</div>\r\n                    <br/>\r\n                    {nutritionalInfoHtml}\r\n                </div>\r\n            </Popup>];\r\n\r\n        return html;\r\n    }\r\n\r\n    recipePopup(name,image){\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined){\r\n            for (let i = 0; i < recept.length; i++){\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                        <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n                        <img className=\"FoodPhotoLarge\" align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n        let html = [];\r\n        html.push(\r\n            <Popup className=\"poptry\" modal trigger={<button  title= \"recipe\" className=\"IconLayout RecipeIcon\" onClick={() => this.sendRecipe(name)}>\r\n            </button>} position=\"right center\" >\r\n                <div className=\"popUp2\">\r\n                    <div className=\"popupHeader\">Recipe for\r\n                        <br/>\r\n                        {title}</div>\r\n                    <br/>\r\n                    {popUpHtml}\r\n                </div>\r\n            </Popup>);\r\n        return html;\r\n    }\r\n\r\n    recipePopupForTinder(name,image){\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined){\r\n            for (let i = 0; i < recept.length; i++){\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n                        <img className=\"FoodPhotoLarge3\" onClick={() => this.setState({open: false})} align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n        let html = [];\r\n\r\n        html.push(\r\n            <div>\r\n                <button  title= \"recipe\" className=\"RecipeButton\" title=\"recipe\" align=\"left\" onClick={() => {this.sendRecipe(name); this.setState({opened: name});this.logAction(\"get recipe\",name)}} src={image} >\r\n                </button>\r\n                <Popup  open={this.state.opened==name} onClick={() => this.setState({opened: \"none\"})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n                    <div className=\"popUp3\" onClick={() => {this.setState({opened: \"none\"});this.logAction(\"get recipe\",name) }}>\r\n                        <div className=\"popupHeader\" onClick={() => this.setState({opened: \"none\"})}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n                        {popUpHtml}\r\n                    </div>\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n    recipePopupFromImage(name,image){\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined) {\r\n            for (let i = 0; i < recept.length; i++){\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n\r\n                        <img className=\"FoodPhotoLarge3\" onClick={() => this.setState({open: false})} align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n\r\n        let html = [];\r\n\r\n        html.push(\r\n            <div>\r\n            <img className=\"FoodPhotoTinder\" title=\"recipe\" align=\"left\" onClick={() => {this.sendRecipe(name); this.setState({open: true});}} src={image} >\r\n            </img>\r\n            <Popup  open={false} onClick={() => this.setState({open: false})} closeOnDocumentClick\r\n                      position=\"right center\" >\r\n                <div className=\"popUp3\" onClick={() => this.setState({open: false})}>\r\n                    <div className=\"popupHeader\" onClick={() => this.setState({open: false})}>Recipe for\r\n                        <br/>\r\n                        {title}</div>\r\n                    <br/>\r\n                    {popUpHtml}\r\n                </div>\r\n            </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n    nutritionalPopupForTinder(name,image){\r\n        //Recipe list\r\n        let nutritionLabels = ['Carbs','Total Fats', 'Sugar', 'Sodium', 'Protein', 'Saturated Fats', 'Carbohydrates'];\r\n        let nutritionalInfo = this.getNutritionInfo(name);\r\n        let nutritionalInfoHtml = [];\r\n        let nutritionalInfoHtmlTemp = [];\r\n        let nutritionalInfoHtmlTemp2 = [];\r\n        let explanationHtmlTemp = [];\r\n        let similarMeals = this.getExplanation();\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(nutritionalInfo!==undefined){\r\n\r\n            for (let i = 0; i < nutritionalInfo.length; i++){\r\n\r\n                nutritionalInfoHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionLabels[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n                nutritionalInfoHtmlTemp2.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionalInfo[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n            }\r\n        }\r\n        let empty = true;\r\n        if(similarMeals!==undefined){\r\n\r\n            for (let i = 0; i < similarMeals.length; i++) {\r\n                let number=Math.floor(similarMeals[i][\"matchfactor\"]*100);\r\n                let color=perc2color(number);\r\n                if (number >= 60){\r\n                    empty= false;\r\n                    explanationHtmlTemp.push(\r\n                        <div className=\"popupText2\">\r\n                            <div className=\"container2\">\r\n                                <img className=\"FoodPhotoLarge3\" onClick={this.goToFavorites} title={similarMeals[i][\"name\"]} align=\"left\" src={similarMeals[i][\"image\"]} alt=\"Food\"/>\r\n                                <button className=\"OnTopButton\" style={{backgroundColor: color}}>{number}%</button>\r\n                            </div>\r\n\r\n                            <br/>\r\n\r\n                        </div>);\r\n                }\r\n            }\r\n\r\n        }\r\n        if (empty){\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            You did not try anything like this! Try it out!\r\n                            <br/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        }\r\n        else{\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            Because you liked:\r\n                            <br/>\r\n                        </div>\r\n                        {explanationHtmlTemp}\r\n                    </div>\r\n                </div>\r\n\r\n            );}\r\n\r\n        let html = [];\r\n\r\n\r\n        html.push(\r\n            <div>\r\n                <button  title= \"recipe\" className=\"NutritionButton\" title=\"Nutrition\" align=\"left\" onClick={() => {this.sendNuttritionSimilar(name); this.setState({nutritionopened: name});this.logAction(\"get nutritional values\",name)}} src={image} >\r\n\r\n                </button>\r\n                <Popup  open={this.state.nutritionopened==name} onClick={() => this.setState({nutritionopened: 'none'})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n\r\n                    <div className=\"popUp3\" onClick={() => this.setState({nutritionopened: \"none\"})}>\r\n\r\n                        <div className=\"popupHeader\" onClick={() => {this.setState({nutritionopened: \"none\"});this.logAction(\"get nutritional values\",name)}}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n\r\n                        {nutritionalInfoHtml}\r\n                    </div>\r\n\r\n\r\n\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n    //GET DATA\r\n    getIngredients(gerecht){\r\n        //TODO implementeren\r\n        return this.state.ingredients;\r\n    }\r\n    getRecipe(gerecht){\r\n        //TODO implementeren\r\n        return this.state.recipe;\r\n\r\n    }\r\n    getNutritionInfo(gerecht){\r\n        //TODO implementeren\r\n        //volgorde:\r\n        // Calories in g\r\n        // Total fat in %\r\n        // Suiker in %\r\n        // Sodium in %\r\n        // Protein in %\r\n        // Saturated Fat in %\r\n        // Total Carbohydrate in %\r\n        return this.state.nutrition\r\n\r\n\r\n    }\r\n    getExplanation(){\r\n        return this.state.similar;\r\n    }\r\n\r\n\r\n    getAssets(){\r\n        return this.state.tags;\r\n    }\r\n\r\n    saveAlert() {\r\n       /* Swal.fire({\r\n            title: 'Saved!',\r\n            text: \"Your liked and disliked meals are saved.\",\r\n            icon: 'success',\r\n            confirmButtonText: 'Great!'\r\n        });*/\r\n        this.getRecommendations();\r\n    }\r\n\r\n\r\n\r\n    swipeItem(action) {\r\n        let thisCard = this.state.foods[this.state.swipednumber];\r\n        if (action === 'left') {\r\n            this.dislike(thisCard);\r\n        }\r\n        else if (action === 'right') {\r\n            this.like(thisCard);\r\n        }\r\n    }\r\n\r\n    resetSwipes(){\r\n        this.state.swipednumber=0;\r\n        this.getRecommendations();\r\n        this.setState({view: 1});\r\n        this.setState({favorite: false});\r\n        localStorage.setItem(\"view\", 1);\r\n    }\r\n\r\n    switchViews() {\r\n        this.state.swipednumber=0;\r\n        let  value = (this.state.view + 1) % 2;\r\n        localStorage.setItem(\"viewInit\", value);\r\n        this.setState({view: value});\r\n        this.setState({favorite: false});\r\n\r\n        localStorage.setItem(\"view\", value);\r\n    }\r\n\r\n\r\n    goToFavorites(){\r\n        this.getFavorites();\r\n        localStorage.setItem(\"favorite\", JSON.stringify(true));\r\n        this.setState({favorite: true});\r\n\r\n    }\r\n    goToRecommends(){\r\n\r\n        this.getRecommendations();\r\n\r\n        localStorage.setItem(\"favorite\", JSON.stringify(false));\r\n        this.setState({view: 0,favorite: false, initialised: false});\r\n\r\n\r\n    }\r\n\r\n/*\r\n    generateView() {\r\n        if(this.state.favorite){\r\n            return(\r\n                <div>\r\n                    <div className=\"Listing\">\r\n                        favoritestate\r\n                        {this.generateFavorites()}\r\n                    </div>\r\n                    Times clicked: {this.state.timesClicked}\r\n                    <div className=\"buttons\">\r\n                        <Link to=\"/\"><button className=\"NextButton Green\"><b>SAVE</b></button></Link>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            if (this.state.view === 0) {\r\n                return (\r\n                    <div>\r\n\r\n                        <div className=\"Listing\">\r\n                            {this.generateMeal()}\r\n                        </div>\r\n                        Times clicked: {this.state.timesClicked}\r\n                        <div className=\"buttons\">\r\n                            <button className=\"NextButton Green\" onClick={this.saveAlert}><b>SAVE</b></button>\r\n                        </div>\r\n                    </div>)\r\n            }\r\n            else {\r\n                if (this.state.swipednumber < 6) {\r\n                    return (\r\n                        <div className=\"Span\">\r\n                        <div style={wrapperStyles}>\r\n\r\n                            {this.state.foods.length > 0 ? (\r\n                                <div style={wrapperStyles}>\r\n\r\n                                    <Swipeable\r\n                                        buttons={({left, right}) => (\r\n                                            <div style={actionsStyles}>\r\n                                                <button className=\"tinderButton dislike fadeInLeft1\" onClick={left}><b>Reject</b></button>\r\n                                                <button className=\"tinderButton like fadeInLeft1\" onClick={right}><b>Accept</b></button>\r\n                                            </div>\r\n                                        )}\r\n                                        onAfterSwipe={this.remove}\r\n                                        onSwipe={this.swipeItem}\r\n                                    >\r\n\r\n                                        <div className=\"FoodCard fadeInLeft0\">\r\n                                            <div className=\"FoodHeader\">\r\n                                                <b>{capitalizeFLetter(this.getname(this.state.swipednumber))}</b>\r\n                                            </div>\r\n                                            <div className=\"table\">\r\n\r\n                                                    <div className=\"tablerow1\">\r\n                                                        {this.recipePopupFromImage(this.getname(this.state.swipednumber),this.getimage(this.state.swipednumber))}\r\n                                                    </div>\r\n                                                    <div className=\"tablerow2\">\r\n                                                        {this.generateBadges(this.state.swipednumber)}\r\n                                                    </div>\r\n                                                    <div className=\"tablerow3\">\r\n                                                        {this.recipePopupForTinder(this.state.foods[this.state.swipednumber],this.getimage(this.state.swipednumber))}\r\n                                                        {this.nutritionalPopupForTinder(this.state.foods[this.state.swipednumber])}\r\n                                                    </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </Swipeable>\r\n\r\n                                </div>\r\n                            ) : (\r\n                                <div >\r\n                                    <div className=\"FoodItem\" zIndex={-2}>No more cards</div>\r\n                                    <button className=\"NextButton Green\"  onClick={() => this.setState({view: 0}) }>Recommendations</button>\r\n                                    <button className=\"NextButton Green\"  onClick={this.resetSwipes}>New Cards</button>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        </div>\r\n\r\n                    )\r\n                }\r\n                else{\r\n                    return(\r\n                        <div >\r\n                            <div className=\"FoodItem\" zIndex={-2}>No more cards</div>\r\n                            <button className=\"NextButton\"  onClick={() => this.setState({view: 0}) }>Recommendations</button>\r\n                            <button className=\"NextButton\"  onClick={this.resetSwipes}>New Cards</button>\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n\r\n        }\r\n    } */\r\n\r\n    createCards() {\r\n        let html = [];\r\n        for (let i = 0; i < this.state.foods.length; i++) {\r\n            const refName = \"card\"+ i;\r\n            html.push(<div className=\"card\"  ref={refName}>\r\n                <div className=\"FoodHeader\"><b>{capitalizeFLetter(this.state.foods[i])}</b></div>\r\n                {this.recipePopupFromImage(this.getname(i),this.getimage(i))}\r\n                {this.generateBadges(i)}\r\n                <div className=\"tablerow3\">\r\n                    {this.recipePopupForTinder(this.state.foods[i],this.getimage(i))}\r\n                    {this.nutritionalPopupForTinder(this.state.foods[i])}\r\n                </div>\r\n            </div>)\r\n\r\n        }\r\n        return html\r\n    }\r\n\r\n    generateView() {\r\n\r\n\r\n        if(this.state.favorite){\r\n            return(\r\n                <div>\r\n                    <div className=\"Listing\">\r\n                        favoritestate\r\n                        {this.generateFavorites()}\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            if (this.state.view === 0) {\r\n\r\n                return (\r\n                    <div>\r\n\r\n                        <div className=\"Listing\">\r\n                            {this.generateMeal()}\r\n                        </div>\r\n                        <div className=\"buttons\">\r\n                            <br/>\r\n                            <button className=\"NextButton Green\" onClick={this.saveAlert}><b>Recommend!</b></button>\r\n                        </div>\r\n                    </div>)\r\n            }\r\n\r\n\r\n            else {\r\n\r\n                return (\r\n                    <div>\r\n                        <div id=\"viewport\">\r\n                            <div className=\"dislikeStack\"><b>Dislike</b></div>\r\n                            <div className=\"likeStack\"><b>Like</b></div>\r\n                            <ReactSwing\r\n                                className=\"stack\"\r\n                                tagName=\"div\"\r\n                                setStack={stack => this.setState({ stack })}\r\n                                ref={this.stackEl}\r\n                                throwoutleft={()=>this.dislike(\"\")}\r\n                                throwoutright={()=>this.like(\"\")}\r\n                            >\r\n                                {this.createCards()}\r\n                            </ReactSwing>\r\n                        </div>\r\n                        <div className=\"buttons\">\r\n                            <br/>\r\n                            <button className=\"NextButton Green\" onClick={this.saveAlert}><b>Recommend!</b></button>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    generateFavorites() {\r\n        let favorites = this.state.favorites;\r\n        if(favorites==null||favorites==undefined){\r\n            return;\r\n        }\r\n       // alert(JSON.stringify(favorites));\r\n        let html = [];\r\n        for (let i = 0; i < favorites.length; i++) {\r\n            let currentfavorite=favorites[i];\r\n            let name =currentfavorite[\"name\"];\r\n            let image=currentfavorite[\"image\"];\r\n            let badges = [];\r\n\r\n            if(currentfavorite[\"tags\"]==undefined){\r\n\r\n            }\r\n            else{\r\n                if(currentfavorite[\"tags\"].length!=0) {\r\n\r\n\r\n                    if (currentfavorite[\"tags\"].length <= 1) {\r\n                        badges.push(<button className={\"FoodBadge \" + currentfavorite[\"tags\"]}></button>)\r\n                    } else {\r\n                        currentfavorite[\"tags\"].forEach(function (item, index) {\r\n                            let badgeName = \"FoodBadge \" + item;\r\n                            if (item === \"15-minutes-or-less\") {\r\n                                badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                            }\r\n                            badges.push(<button className={badgeName}></button>);\r\n\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            let className = \"FoodItem fadeInLeft\" + i;\r\n            const config = {\r\n                onSwiped: ()=>this.endSwipe(),\r\n                onSwipedLeft:()=>this.unlike(name),\r\n                display:\"flex\",\r\n                preventDefaultTouchmoveEvent: true,\r\n                trackMouse: true,\r\n                transition: \"transform 1s ease\",\r\n                delta:10\r\n            };\r\n            let tryouy=1;\r\n            let swipingspecials=[];\r\n            if(this.state.showThumbs==name||this.state.translation!=undefined) {\r\n                if (this.state.showThumbs == name || this.state.translation[name] != undefined) {\r\n                    if (Math.abs(this.state.shadownr) > 10) {\r\n                        if (this.state.shadownr > 0) {\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"dislikedimagewithshadow2\"/>\r\n                                </div>\r\n                            );\r\n                        } else {\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"dislikedimage2\"/>\r\n                                </div>\r\n                            );\r\n                        }\r\n                    } else {\r\n                        swipingspecials.push(\r\n                            <div>\r\n                                <img className=\"dislikedimage2\"/>\r\n                            </div>\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            html.push(<div className=\"icanswipe\"  >\r\n                {swipingspecials}\r\n                <Swiping onSwiping={(eventData => this.swiped(eventData,name))}  {...config}  >\r\n                    <button   onMouseEnter={()=>this.setState({showThumbs:name})}\r\n                              onMouseLeave={()=>this.setState({showThumbs:\"\"})} className={className} style={{transform: this.transformfunc(name)\r\n                        , opacity: this.transparfunc(name)} }  >\r\n                        <div className=\"rowbutton\">\r\n                            <div className=\"columbuttonimage\">\r\n                                <img className=\"FoodPhoto\" align=\"left\" src={image} alt=\"Food\"/>\r\n                            </div>\r\n                            <div className=\"columtitle\">\r\n                                <div className=\"foodtitle2\"> <b className=\"FoodTitle\">{name}</b> <br/> </div>\r\n                                <div className=\"foodtags2\">\r\n                                    <div className=\"badgesContainer\">\r\n                                        {badges}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"informationbuttonscolum\">\r\n                                <div className=\"informationbutton1\" onClick={() => {this.logAction(\"get recipe\",name);this.sendRecipe(name)}}>\r\n                                    {this.recipePopup(name,this.getimage(i))}\r\n                                </div>\r\n                                <div className=\"informationbutton2\" onClick={() => {this.logAction(\"get nutritional values\",name);this.sendNuttritionSimilar(name)}}>\r\n                                {this.nutritionalPopup(name)}\r\n                                    </div>\r\n                            </div>\r\n                        </div>\r\n                    </button>\r\n                </Swiping>\r\n            </div>);\r\n        }\r\n        return html\r\n    }\r\n\r\n    generateBadges(food) {\r\n        let badges = [];\r\n        let assets = this.getAssets();\r\n\r\n        if(assets!=undefined && assets.length>0){\r\n            if(assets[food]!=undefined){\r\n            assets[food].forEach(function (item, i) {\r\n                let badgeName = \"FoodBadge \" + item;\r\n                if (item === \"15-minutes-or-less\") {\r\n                    badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                }\r\n                badges.push(<InfoPopup  position='bottom center' content={<h5>{item}</h5>} trigger={<button className={badgeName}> </button>} />);\r\n\r\n            });\r\n        }}\r\n        return badges;\r\n    }\r\n\r\n    //GENERATE MEAL\r\n    generateMeal() {\r\n        if (this.state.foods === undefined) {\r\n            return\r\n        }\r\n        let foods = this.state.foods;\r\n        let assets = this.getAssets();\r\n        let html = [];\r\n\r\n        for (let i = 0; i < foods.length; i++) {\r\n            let name=capitalizeFLetter(foods[i]);\r\n            let badges = [];\r\n\r\n            if(assets!=undefined && assets.length>0){\r\n                if(assets[i]!=undefined){\r\n                    assets[i].forEach(function (item, i) {\r\n                        let badgeName = \"FoodBadge \" + item;\r\n                        if (item === \"15-minutes-or-less\") {\r\n                            badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                        }\r\n                        badges.push(<InfoPopup position='bottom center' content={<h5>{item}</h5>} trigger={<button className={badgeName}> </button>} />);\r\n                    });\r\n                }\r\n\r\n            }\r\n            //this.setState({translation: \"translate(500%,10%)\"});\r\n            let className = \"FoodItem fadeInLeft\" + i;\r\n            const config = {\r\n                onSwiped: ()=>this.endSwipe(),\r\n                onSwipedRight:()=>this.like(name),\r\n                onSwipedLeft:()=>this.dislike(name),\r\n                display:\"flex\",\r\n                preventDefaultTouchmoveEvent: true,\r\n                trackMouse: true,\r\n                transition: \"transform 1s ease\",\r\n                delta:10\r\n            };\r\n            let tryouy=1;\r\n            let swipingspecials=[];\r\n            if(this.state.showThumbs==name||this.state.translation!=undefined){\r\n                if(this.state.showThumbs==name||this.state.translation[name]!=undefined) {\r\n                    if(Math.abs(this.state.shadownr)>10){\r\n                        if (this.state.shadownr>0){\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"likedimage\" />\r\n                                    <img className=\"dislikedimagewithshadow\" />\r\n                                </div>\r\n                            );\r\n                        }\r\n                        else{\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"likedimagewithshadow\" />\r\n                                    <img className=\"dislikedimage\" />\r\n                                </div>\r\n                            );\r\n                        }\r\n                    }\r\n                    else{\r\n                        swipingspecials.push(\r\n                            <div>\r\n                                <img className=\"likedimage\" />\r\n                                <img className=\"dislikedimage\" />\r\n                            </div>\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n            // <button className={className} onClick={this.increaseCounter}\r\n            html.push(<div className=\"icanswipe\"  >\r\n                {swipingspecials}\r\n                <Swiping onSwiping={(eventData => this.swiped(eventData,name))}  {...config}  >\r\n                            <button   onMouseEnter={()=>this.setState({showThumbs:name})}\r\n                                      onMouseLeave={()=>this.setState({showThumbs:\"\"})} className={className} style={{transform: this.transformfunc(name)\r\n                               , opacity: this.transparfunc(name)} } onClick={() => {}}  >\r\n                                <div className=\"rowbutton\">\r\n                                    <div className=\"columbuttonimage\">\r\n                                        <img className=\"FoodPhoto\" align=\"left\" src={this.getimage(i)} alt=\"Food\"/>\r\n                                    </div>\r\n                                    <div className=\"columtitle\">\r\n                                        <div className=\"foodtitle2\"> <b className=\"FoodTitle\">{name}</b> <br/> </div>\r\n                                        <div className=\"foodtags2\">\r\n                                            <div className=\"badgesContainer\">\r\n                                                {badges}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"informationbuttonscolum\">\r\n                                        <div className=\"informationbutton1\" onClick={() => {this.logAction(\"get recipe\",name);this.sendRecipe(name)}}>\r\n                                            {this.recipePopup(foods[i],this.getimage(i))}\r\n                                        </div>\r\n                                        <div className=\"informationbutton2\" onClick={() => {this.logAction(\"get nutritional values\",name);this.sendNuttritionSimilar(name)}} >\r\n                                            {this.nutritionalPopup(foods[i])}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </button>\r\n                </Swiping>\r\n                        </div>)\r\n        }\r\n\r\n        return html\r\n    }\r\n\r\n    transformfunc(name) {\r\n        if(this.state.translation!=undefined){\r\n            return this.state.translation[name];\r\n        }\r\n        return \"\";\r\n\r\n    }\r\n    transparfunc(name){\r\n        if(this.state.transparency!=undefined){\r\n            return this.state.transparency[name];\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    like(name){\r\n        if(name===\"\") name = this.state.foods[this.state.foods.length-1];\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let liked = users[i].Liked;\r\n                let foods = this.state.foods;\r\n                let tags = this.state.tags;\r\n                let images = this.state.images;\r\n                let t=0;\r\n                for(let j=0;j<foods.length;j++){\r\n                    if(foods[j]!=undefined){\r\n                        let f1 = foods[j].toLowerCase();\r\n                        if(f1===f2){\r\n                            t=j;\r\n                        }\r\n                    }\r\n                }\r\n\r\n               // alert(liked.length);\r\n                if( liked.length==undefined){\r\n                    let newliked=[];\r\n                    if(liked!=undefined){\r\n                        newliked.push(liked);\r\n                    }\r\n\r\n                    newliked.push(f2);\r\n                    liked=newliked;\r\n                }\r\n                else{\r\n\r\n                    liked.push(f2);\r\n                }\r\n\r\n                foods.splice(t,1);\r\n                this.setState({foods: foods});\r\n                tags.splice(t,1);\r\n                this.setState({tags: tags});\r\n                images.splice(t,1);\r\n                this.setState({images: images});\r\n\r\n                this.setState({likedItems: liked});\r\n                users[i].Liked = liked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.logAction(\"like\", name);\r\n               // alert(users[i].Liked);\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    unlike(name){\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length -1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let liked = users[i].Liked;\r\n\r\n                let t = 0;\r\n                for (let j = 0; j < liked.length; j++) {\r\n                    if(liked[j]!=undefined) {\r\n                        let f1 = liked[j].toLowerCase();\r\n                        if (f1 === f2) {\r\n                            t = j;\r\n                        }\r\n                    }\r\n                }\r\n                if (liked==undefined){\r\n                    liked=[];\r\n                }\r\n\r\n                liked.splice(t, 1);\r\n                let favorites=this.state.favorites;\r\n                favorites.splice(t,1);\r\n                this.setState({liked: liked});\r\n                this.setState({favorites: favorites});\r\n                users[i].Liked = liked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.setState({likedItems: liked});\r\n                this.logAction(\"unlike\", name);\r\n\r\n                break;\r\n            }\r\n            this.setState({favorite:true});\r\n        }\r\n\r\n    }\r\n    dislike(name){\r\n\r\n        if(name===\"\") name = this.state.foods[this.state.foods.length-1];\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length -1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let disliked = users[i].Disliked;\r\n                let foods = this.state.foods;\r\n                let tags = this.state.tags;\r\n                let images = this.state.images;\r\n                let t = 0;\r\n                for (let j = 0; j < foods.length; j++) {\r\n                    if(foods[j]!=undefined) {\r\n                        let f1 = foods[j].toLowerCase();\r\n                        if (f1 === f2) {\r\n                            localStorage.setItem(\"n\", \"kked\")\r\n\r\n                            t = j;\r\n                        }\r\n                    }\r\n                }\r\n                foods.splice(t, 1);\r\n                this.setState({foods: foods});\r\n                tags.splice(t, 1);\r\n                this.setState({tags: tags});\r\n                images.splice(t, 1);\r\n                this.setState({images: images});\r\n\r\n                if (disliked == null) {\r\n                    disliked = [];\r\n                }\r\n                disliked.push(f2);\r\n                this.setState({dislikedItems: disliked});\r\n                users[i].Disliked = disliked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.logAction(\"dislike\", f2);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    logAction(thisAction, thisItem){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--){\r\n            if(users[i].Name === localStorage.getItem('currentUser')){\r\n                lastItem = thisItem;\r\n                lastAction = thisAction;\r\n                let item = [];\r\n                item.push(Date.now());\r\n                item.push(thisAction);\r\n                let v = 0;\r\n                if(JSON.parse(localStorage.getItem(\"viewInit\")) === 0){\r\n                    v = \"list mode\";\r\n                }\r\n                else v = \"swipe mode\";\r\n                item.push(v);\r\n                item.push(thisItem);\r\n                users[i].Log.push(item);\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    endSwipe(){\r\n        this.setState({swiping: false});\r\n        this.setState({shadownr: 0});\r\n        let item = {};\r\n        this.setState({translation: item, transparency: item});\r\n\r\n    }\r\n\r\n    swiped(eventData,name) {\r\n        this.setState({swiping: true});\r\n        this.setState({shadownr: eventData.deltaX});\r\n        //show smiles\r\n        let number=-1*eventData.deltaX;\r\n        let item = {};\r\n        item[name] = \"translate(\"+number+\"px,0%)\";\r\n        //alert(item[name]);\r\n        let item2 = {};\r\n        item2[name] = 10/Math.abs(eventData.deltaX);\r\n        this.setState({translation: item, transparency: item2});\r\n    }\r\n\r\n    getname(i){\r\n        if(this.state.foods!==undefined) {\r\n            return this.state.foods[i];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getimage(i) {\r\n        if(this.state.images!==undefined){\r\n            return this.state.images[i];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n\r\n    //RENDER\r\n    render() {\r\n\r\n        if(this.state.favorite){\r\n            return (\r\n                <div className=\"App\">\r\n                    <header className=\"App-header\">\r\n                        <div className=\"PageHeader\"> <b className=\"PageTitle\">Favorites</b>\r\n                            <Link to=\"/profile\"><button title=\"profile\" className=\"profile\" ><b> </b></button></Link>\r\n                            <button className=\"favorites\" title=\"favorites\" onClick={this.goToFavorites} ><b></b></button>\r\n                            <button className=\"toRecommendButton\" title=\"recommends\" onClick={this.goToRecommends} ><b></b></button>\r\n                        </div>\r\n                        {this.generateView()}\r\n\r\n                    </header>\r\n\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        // Favorites view\r\n        else{\r\n           let  estratext;\r\n            if(this.state.tutor==undefined) {\r\n            }\r\n\r\n            return (\r\n                <div className=\"App\">\r\n                    <header className=\"App-header\">\r\n                        <div className=\"PageHeader\"> <b className=\"PageTitle\">Recommendations</b>\r\n                            <Link to=\"/profile\"><button title=\"profile\" className=\"profile\" ><b> </b></button></Link>\r\n                            <button className=\"favorites\" title=\"favorites\" onClick={this.goToFavorites} ><b></b></button>\r\n                            <button className=\"toRecommendButton\" title=\"recommends\" onClick={this.goToRecommends} ><b></b></button>\r\n                        </div>\r\n\r\n                        {this.generateView()}\r\n\r\n                    </header>\r\n                </div>\r\n            );\r\n\r\n        }\r\n        //<Link to=\"/recommendations\"><button onclick={() => localStorage.setItem(\"favorite\", JSON.stringify(true)} title=\"recommends\" className=\"toRecommendButton\" ><b> </b></button></Link>\r\n\r\n    }\r\n}\r\n\r\nexport default Recommendations;\r\n","import React, {Component} from \"react\";\r\nimport Swipeable from \"react-swipy\";\r\nimport './tinderCards.css'\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nconst wrapperStyles = {position: \"relative\", width: \"250px\", height: \"250px\"};\r\nconst actionsStyles = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: 12\r\n};\r\n\r\nclass TinderCards extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.swipeItem = this.swipeItem.bind(this);\r\n        let likedItems = [];\r\n        let dislikedItems = [];\r\n        if(localStorage.getItem(\"likedItems\") != null){\r\n            likedItems = JSON.parse(localStorage.getItem(\"likedItems\"));\r\n        }\r\n        else localStorage.setItem(\"likedItems\", JSON.stringify(likedItems));\r\n        if(localStorage.getItem(\"dislikedItems\") != null){\r\n            dislikedItems = JSON.parse(localStorage.getItem(\"dislikedItems\"));\r\n        }\r\n        else localStorage.setItem(\"dislikedItems\", JSON.stringify(dislikedItems));\r\n        this.state = {\r\n            cards: [\"little kick  jalapeno burgers\", \"hot tamale  burgers\", \"hot tamale  burgers\"],\r\n            likedItems: likedItems,\r\n            dislikedItems: dislikedItems,\r\n        };\r\n    }\r\n\r\n    remove = () =>\r\n        this.setState(({cards}) => ({\r\n            cards: cards.slice(1, cards.length),\r\n        }));\r\n\r\n\r\n    swipeItem(action) {\r\n        let thisCard = this.state.cards[0];\r\n\r\n\r\n        let liked = JSON.parse(localStorage.getItem(\"likedItems\"));\r\n        let disliked = JSON.parse(localStorage.getItem(\"dislikedItems\"));\r\n\r\n\r\n        if (action === 'left') {\r\n\r\n            let index = liked.indexOf(thisCard);\r\n            if(index >= 0){\r\n                liked.splice(index, 1);\r\n            }\r\n            if(!disliked.includes(thisCard)) {\r\n                disliked.push(thisCard);\r\n            }\r\n\r\n\r\n        }\r\n        else if (action === 'right') {\r\n            let index = disliked.indexOf(thisCard);\r\n            if(index >= 0){\r\n                disliked.splice(index, 1);\r\n            }\r\n            if(!liked.includes(thisCard)){\r\n                liked.push(thisCard);\r\n\r\n            }\r\n\r\n        }\r\n        this.state.likedItems = liked;\r\n        this.state.dislikedItems = disliked;\r\n        localStorage.setItem(\"likedItems\", JSON.stringify(this.state.likedItems));\r\n        localStorage.setItem(\"dislikedItems\", JSON.stringify(this.state.dislikedItems));\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const {cards} = this.state;\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <header className=\"App-header\">\r\n                    <div className=\"PageHeader\"> <b className=\"PageTitle\">Recommendations</b>\r\n                    </div>\r\n                    <div style={wrapperStyles}>\r\n                        {cards.length > 0 ? (\r\n                            <div style={wrapperStyles}>\r\n                                <Swipeable\r\n                                    buttons={({left, right}) => (\r\n                                        <div style={actionsStyles}>\r\n                                            <button className=\"tinderButton dislike\" onClick={left}><b>Reject</b></button>\r\n                                            <button className=\"tinderButton like\" onClick={right}><b>Accept</b></button>\r\n                                        </div>\r\n                                    )}\r\n                                    onAfterSwipe={this.remove}\r\n                                    onSwipe={this.swipeItem}\r\n                                >\r\n                                    <div className=\"FoodCard\">\r\n                                        <div className=\"FoodHeader\">\r\n                                            <b>{cards[0]}</b>\r\n                                        </div>\r\n                                        <p>\r\n                                            Recipe goes here.\r\n                                        </p>\r\n                                    </div>\r\n                                </Swipeable>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"FoodItem\" zIndex={-2}>No more cards</div>\r\n                        )}\r\n                    </div>\r\n                </header>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TinderCards;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nclass UserProfile extends React.Component {\r\n    constructor() {\r\n        super();\r\n        if(localStorage.getItem(\"users\")===null){\r\n            let tempList = [];\r\n            localStorage.setItem(\"users\", JSON.stringify(tempList));\r\n        }\r\n        this.state = {\r\n            name : \"\"\r\n        }\r\n    }\r\n    handleChange = event => {\r\n        this.setState({ name: event.target.value });\r\n    };\r\n    updateUsers(){\r\n\r\n        let tempUsers = JSON.parse(localStorage.getItem('users'));\r\n        let alreadyInUsers = false;\r\n        for (let i = 0; i<tempUsers.length;i++){\r\n            if(tempUsers[i].Name === this.state.name) {\r\n                alreadyInUsers = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!alreadyInUsers){\r\n            let emptyDict = {\r\n                Name: this.state.name,\r\n                Preferences: [\"vegan\", \"vegetarian\", \"gluten-free\"],\r\n                Allergies: [\"nuts\", \"lactose\", \"seafood\"],\r\n                Log: [],\r\n                Liked: [],\r\n                Disliked: [],\r\n                FirstTime: true,\r\n                FirstTime1: true,\r\n                FirstTime2: true,\r\n                FirstTime3: true,\r\n                booleansPreferences: [false, false, false],\r\n                booleanAllergies: [false, false, false]\r\n            };\r\n            tempUsers.push(emptyDict);\r\n            localStorage.setItem('users', JSON.stringify(tempUsers));\r\n        }\r\n\r\n        localStorage.setItem('currentUser', this.state.name);\r\n\r\n    }\r\n    handleTest(e) {\r\n        if(localStorage.getItem(\"viewInit\") ==undefined){\r\n            localStorage.setItem(\"viewInit\", \"1\")\r\n        }\r\n\r\n        if (e.ctrlKey && e.charCode == 13 ) {\r\n            localStorage.setItem(\"viewInit\", ((JSON.parse( localStorage.getItem(\"viewInit\")))+1)%2);\r\n        }\r\n\r\n\r\n        else if( e.charCode==13){\r\n            let users = JSON.parse(localStorage.getItem(\"users\"));\r\n            let logForUser = users[0].Log;\r\n            let s = \"\";\r\n            let k = \"\";\r\n            for(let j = 0; j<users.length;j++){\r\n                logForUser = users[j].Log;\r\n                k = k+users[j].Name;\r\n                if(j!=users.length-1) {\r\n                    k = k+\", \";\r\n                }\r\n                for(let i = 0; i< logForUser.length; i++){\r\n                    s = s + logForUser[i];\r\n                    if(i!=logForUser.length -1) s =s +\", \"\r\n                }\r\n                if(j!=users.length-1) {\r\n                    s= s+\"; \";\r\n                }\r\n            }\r\n\r\n            localStorage.setItem(\"logForUser\", s);\r\n            localStorage.setItem(\"usersString\", k);\r\n        }\r\n\r\n    }\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div className=\"App\">\r\n                <header className=\"App-header\">\r\n                    <div className=\"DarkBackground\">\r\n                        <div>\r\n                            <h4 className=\"fadeInLeft0\">Hello there! Thank you for wanting to participate in our test.</h4>\r\n                            <h4 className=\"fadeInLeft1\"> Before we start, can we please get your name?</h4>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                className={\"textBox fadeInLeft2\"}\r\n                                placeholder={\"Your name\"}\r\n                                value={this.state.username}\r\n                                onChange={this.handleChange}\r\n                                onKeyPress={this.handleTest}\r\n                            />\r\n\r\n                        </div>\r\n                        <Link to=\"/home\"><button className=\"NextButton White fadeInLeft3\"\r\n                             onClick={\r\n                                ()=>{this.updateUsers()}\r\n                             }>\r\n                        <b>NEXT</b></button></Link>\r\n                    </div>\r\n                </header>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserProfile;\r\n","import React from 'react';\r\nimport './FoodPage.css';\r\nimport './Popup.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Popup from \"reactjs-popup\";\r\nimport Swipeable from \"react-swipy\";\r\nimport {Swipeable as Swiping} from \"react-swipeable\";\r\nimport './tinderCards.css';\r\nimport Swal from \"sweetalert2\";\r\nimport styled from \"styled-components\";\r\nlet listOfTimeStamps = [];\r\nlet lastItem = null;\r\nlet lastAction  = null;\r\nexport const icanswipe = styled.div`\r\n  display: flex;\r\n  transition: ${props => (props.sliding ? \"none\" : \"transform 1s ease\")};\r\n  transform: ${props => {\r\n    if (!props.sliding) return \"translateX(calc(-80% - 20px))\";\r\n    if (props.dir === \"PREV\") return \"translateX(calc(2 * (-80% - 20px)))\";\r\n    return \"translateX(0%)\";\r\n}};\r\n`;\r\n\r\n\r\n\r\n\r\nconst wrapperStyles = {position: \"relative\", width: \"250px\", height: \"300px\"};\r\nconst actionsStyles = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: 12,\r\n};\r\n\r\nfunction capitalizeFLetter(string) {\r\n    let returnVal = string;\r\n    try {\r\n        returnVal = string[0].toUpperCase() + string.slice(1);\r\n    } catch (e) {\r\n\r\n    }\r\n    return returnVal;\r\n}\r\n\r\nfunction perc2color(perc) {\r\n    var r, g, b = 0;\r\n    if(perc < 50) {\r\n        r = 255;\r\n        g = Math.round(5.1 * perc);\r\n    }\r\n    else {\r\n        g = 255;\r\n        r = Math.round(510 - 5.10 * perc);\r\n    }\r\n    var h = r * 0x10000 + g * 0x100 + b * 0x1;\r\n    return '#' + ('000000' + h.toString(16)).slice(-6);\r\n}\r\nfunction shuffle(array,array2,array3) {\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n        temporaryValue = array2[currentIndex];\r\n        array2[currentIndex] = array2[randomIndex];\r\n        array2[randomIndex] = temporaryValue;\r\n        temporaryValue = array3[currentIndex];\r\n        array3[currentIndex] = array3[randomIndex];\r\n        array3[randomIndex] = temporaryValue;\r\n    }\r\n    let answer=[];\r\n    answer.push(array,array2,array3);\r\n\r\n    return answer;\r\n}\r\n\r\nclass GettingToKnow extends React.Component {\r\n    constructor() {\r\n        super();\r\n        if(localStorage.getItem(\"listOfTimeStamps\") === null){\r\n            let newList = [[\"time stamp\", \"action\", \"view\", \"recipe\"]];\r\n            localStorage.setItem(\"listOfTimeStamps\", JSON.stringify(newList));\r\n        }\r\n\r\n        this.state = {\r\n            timesClicked: 0,\r\n            foods: [],\r\n            tags: [],\r\n            images: [],\r\n            recipe: [],\r\n            nutrition: [],\r\n            ingredients: [],\r\n            similar: [],\r\n            view: 0,\r\n\r\n        };\r\n\r\n        this.socket=this.initialiseSocket();\r\n        this.sendable=false;\r\n\r\n        this.increaseCounter=this.increaseCounter.bind(this);\r\n        this.generateMeal=this.generateMeal.bind(this);\r\n        this.getRecommendations=this.getRecommendations.bind(this);\r\n        this.switchViews=this.switchViews.bind(this);\r\n        this.generateView=this.generateView.bind(this);\r\n        this.resetSwipes=this.resetSwipes.bind(this);\r\n        this.generateFavorites=this.generateFavorites.bind(this);\r\n        this.goToFavorites=this.goToFavorites.bind(this);\r\n        this.generateBadges=this.generateBadges.bind(this);\r\n        this.swipeItem = this.swipeItem.bind(this);\r\n\r\n        let payload={\r\n            action: \"initialise\"\r\n        };\r\n        this.socket.onopen = () => {\r\n            this.socket.send(JSON.stringify(payload));\r\n            if (!this.sendable){\r\n                this.loading=false;\r\n                this.sendable=true;\r\n                this.getRecommendations();\r\n            }\r\n\r\n            // do something after connection is opened\r\n        };\r\n\r\n        this.socket.onmessage=((message) => {\r\n            let translation=JSON.parse(message.data);\r\n            console.log(translation);\r\n\r\n            switch(translation.action){\r\n                case \"Recommends\":\r\n                    if(this.loading){\r\n                        this.loading=false;\r\n                        // alert(\"this\");\r\n                        Swal.fire({\r\n                            title: \"Finished!\",\r\n                            showConfirmButton: false,\r\n                            timer: 1000\r\n                        });\r\n                    }\r\n\r\n                    let initialfoods = translation.recommends;\r\n                    let initialtags = translation.tags;\r\n\r\n                    let initialimages = translation.images;\r\n                    let shuffled=this.filterfoods(initialfoods,initialtags,initialimages);\r\n                    let filteredfoods=shuffled[0];\r\n                    let filteredTags=shuffled[1];\r\n                    let filteredImages=shuffled[2];\r\n                    this.setState({tags: filteredTags});\r\n                    this.setState({foods: filteredfoods});\r\n                    this.setState({images: filteredImages});\r\n\r\n                    break;\r\n                case \"favorites\":\r\n                    if(this.loading){\r\n                        // alert(\"this favorites\");\r\n                        this.loading=false;\r\n                        Swal.fire({\r\n                            title: \"Finished!\",\r\n                            showConfirmButton: false,\r\n                            timer: 1000\r\n                        });\r\n                    }\r\n                    this.setState({favorites: translation.favorites});\r\n                    //  alert('favorites set '+ translation.favorites);\r\n                    break;\r\n                case \"Similar\":\r\n                    localStorage.setItem(\"kkk\", JSON.stringify(translation))\r\n                    this.setState({similar: translation.similar});\r\n                    break;\r\n                case \"Recipe\":\r\n                    this.setState({recipe: translation.recipe});\r\n                    break;\r\n                case \"Nutrition\":\r\n                    this.setState({nutrition: translation.nutrition});\r\n                    break;\r\n                case \"Ingredients\":\r\n                    this.setState({ingredients: translation.ingredients});\r\n                    break\r\n            }\r\n        });\r\n        if(this.state.swipednumber==undefined){\r\n            this.state.swipednumber=0;\r\n        }\r\n    }\r\n\r\n    filterfoods(initialfoods,initialtags,initialimages){\r\n        let shuffled=shuffle(initialfoods,initialtags,initialimages);\r\n        let newinitialfoods=shuffled[0];\r\n        let newinitialtags=shuffled[1];\r\n        let newinitialimages=shuffled[2];\r\n\r\n        //initialfoods shuffle\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n            }\r\n        }\r\n\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let filteredFoods  =[];\r\n        let filteredtags  =[];\r\n        let filteredimages  =[];\r\n        let p=0;\r\n        for (let i = 0; p<7 ; i++) {\r\n            if (newinitialfoods[i] !==\"\" && !likedItems.includes(newinitialfoods[i]) && !dislikedItems.includes(newinitialfoods[i])) {\r\n                p++;\r\n                filteredFoods.push(newinitialfoods[i]);\r\n                filteredtags.push(newinitialtags[i]);\r\n                filteredimages.push((newinitialimages[i]));\r\n                //alert(initialfoods[i]);\r\n            }\r\n\r\n        }\r\n        let answer=[]\r\n        answer.push(filteredFoods,filteredtags,filteredimages);\r\n\r\n        return answer;\r\n    }\r\n\r\n    initialiseSocket() {\r\n\r\n        if(this.socket!=undefined){\r\n\r\n            return this.socket;\r\n        }\r\n        this.state.favorite=false;\r\n        return new WebSocket(\"ws://[2a02:a03f:4a1b:5100:8473:6145:3b2f:6b2e]:9000\");\r\n    }\r\n\r\n    increaseCounter() {\r\n\r\n        console.log(\"increased\");\r\n        let clicked = this.state.timesClicked + 1;\r\n        this.setState({timesClicked: clicked})\r\n    }\r\n    getInfo(string) {\r\n        this.sendRecipe(string);\r\n        this.sendNuttritionSimilar(string);\r\n\r\n    }\r\n    sendRecipe(name) {\r\n\r\n        console.log(\"send recipe\");\r\n        this.socket=this.initialiseSocket();\r\n        let payload = {\r\n            action: \"Recipe\",\r\n            recipe: name\r\n        };\r\n\r\n\r\n        let ingredipayload = {\r\n            action: \"Ingredients\",\r\n            name: name\r\n        };\r\n\r\n        //  this.socket.close();\r\n        if(this.sendable!==undefined&&this.sendable){\r\n            this.socket.send(JSON.stringify(payload));\r\n            this.socket.send(JSON.stringify(ingredipayload));\r\n        }\r\n    }\r\n\r\n\r\n    sendNuttritionSimilar(name) {\r\n        this.socket=this.initialiseSocket();\r\n        let payload = {\r\n            action: \"Nutrition\",\r\n            name: name\r\n        };\r\n        if(this.sendable!==undefined&&this.sendable) {\r\n            this.socket.send(JSON.stringify(payload));\r\n\r\n        }\r\n        let similarpayload={\r\n            action: \"Similar\",\r\n            recipe: name,\r\n            prolist:[]\r\n        };\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n            }\r\n        }\r\n\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let prolist = [];\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = likedItems[i];\r\n            item['rating'] = 1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        for (let i = 0; i < dislikedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = dislikedItems[i];\r\n            item['rating'] = -1.0;\r\n            prolist.push(item)\r\n        }\r\n        similarpayload.prolist = prolist;\r\n        if(this.sendable!==undefined&&this.sendable) {\r\n            this.socket.send(JSON.stringify(similarpayload));\r\n\r\n        }\r\n    }\r\n\r\n    getFavorites(){\r\n\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let likedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n            }\r\n        }\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        let payload = {\r\n            action: \"Favorites\",\r\n\r\n\r\n            prolist: [{name:\"hot tamale  burgers\", rating:0.5}]\r\n        };\r\n\r\n\r\n\r\n        const names = [\"vegetarian\", \"gluten-free\", \"low-carb\", \"vegan\", \"dairy-free\",\"low-cholesterol\",\"kosher\",\"ramadan\", \"low-protein\"];\r\n        const likes = JSON.parse(localStorage.getItem('boxes'));\r\n\r\n\r\n        // Creating prolist\r\n        let prolist = [];\r\n\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = likedItems[i];\r\n            item['rating'] = 1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n\r\n\r\n        payload.prolist = prolist;\r\n        console.log(prolist);\r\n\r\n\r\n        console.log(payload);\r\n\r\n        if(this.sendable) {\r\n            this.socket.send(JSON.stringify(payload));\r\n\r\n        }\r\n        /*\r\n        Swal.fire({\r\n            title: 'Results',\r\n            text: \"Waiting for results\",\r\n            icon: 'load',\r\n\r\n        });\r\n\r\n         */\r\n    }\r\n\r\n    getRecommendations(recommendation){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        let tempUserIndex = -1;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n                tempUserIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let payload = {\r\n            action: \"Recommend\",\r\n            account: {vegan: 1, easy: 1, preparation: 1},\r\n            amount: 7,\r\n            prolist: [{name:\"hot tamale  burgers\", rating:0.5}]\r\n        };\r\n        let amount=7;\r\n\r\n        if(likedItems!=null && likedItems!==undefined){\r\n            amount+=likedItems.length;\r\n        }\r\n        if(dislikedItems!=null &&dislikedItems!==undefined){\r\n            amount+=dislikedItems.length;\r\n        }\r\n\r\n        payload.amount=amount;\r\n        let names = users[tempUserIndex].Preferences;\r\n\r\n\r\n        let likes = users[tempUserIndex].booleansPreferences;\r\n\r\n        let account = {};\r\n        // Creating account\r\n        for (let i = 0; i < names.length; i++) {\r\n            if (likes[i] === true) {\r\n                account[names[i]] = 1;\r\n            }\r\n        }\r\n        console.log(account);\r\n        payload.account = account;\r\n        console.log(payload);\r\n\r\n        // Creating prolist\r\n        let prolist = [];\r\n\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = likedItems[i];\r\n            item['rating'] = 1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        for (let i = 0; i < dislikedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = dislikedItems[i];\r\n            item['rating'] = -1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        payload.prolist = prolist;\r\n        console.log(prolist);\r\n        payload.account = account;\r\n        console.log(payload);\r\n        if(this.sendable) {\r\n            this.socket.send(JSON.stringify(payload));\r\n            Swal.fire({\r\n                title: \"Loading...\",\r\n                text: \"Please wait\",\r\n                showConfirmButton: false,\r\n                allowOutsideClick: false,\r\n            });\r\n            this.loading=true;\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    //POPUP CODE\r\n    nutritionalPopup(name){\r\n\r\n        let nutritionLabels = ['Carbs','Total Fats', 'Sugar', 'Sodium', 'Protein', 'Saturated Fats', 'Carbohydrates'];\r\n        let nutritionalInfo = this.getNutritionInfo(name);\r\n        let nutritionalInfoHtml = [];\r\n        let nutritionalInfoHtmlTemp = [];\r\n        let nutritionalInfoHtmlTemp2 = [];\r\n        let explanationHtmlTemp = [];\r\n        let similarMeals = this.getExplanation();\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(nutritionalInfo!==undefined){\r\n\r\n            for (let i = 0; i < nutritionalInfo.length; i++){\r\n\r\n                nutritionalInfoHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionLabels[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n                nutritionalInfoHtmlTemp2.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionalInfo[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n\r\n            }\r\n        }\r\n        if(similarMeals!==undefined){\r\n            for (let i = 0; i < similarMeals.length; i++) {\r\n                let number=Math.floor(similarMeals[i][\"matchfactor\"]*100);\r\n                let color=perc2color(number);\r\n                if (number >= 60){\r\n                    explanationHtmlTemp.push(\r\n                        <div className=\"popupText2\">\r\n                            <div className=\"container2\">\r\n                                <img className=\"FoodPhotoLarge3\" onClick={this.goToFavorites} title={similarMeals[i][\"name\"]} align=\"left\" src={similarMeals[i][\"image\"]} alt=\"Food\"/>\r\n                                <button className=\"OnTopButton\" style={{backgroundColor: color}}>{number}%</button>\r\n                            </div>\r\n\r\n                            <br/>\r\n\r\n                        </div>);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        nutritionalInfoHtml.push(\r\n            <div className=\"row\">\r\n                <div className=\"Nutritioncolumn\">\r\n                    <div className=\"popupTextTitle\">\r\n                        Nutritional info:\r\n                        <br/>\r\n                    </div>\r\n                    <div className=\"textrow\">\r\n                        <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                        <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"column\">\r\n                    <div className=\"popupTextTitle2\">\r\n                        Because you liked:\r\n                        <br/>\r\n                    </div>\r\n                    {explanationHtmlTemp}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n\r\n\r\n\r\n        let html = [\r\n            <Popup  modal trigger={<button title=\"nutrition\" className=\"IconLayout NutritionIcon\" >\r\n            </button>} >\r\n                <div className=\"popUp2\">\r\n                    <div className=\"popupHeader\">Nutritional info for\r\n                        <br/>\r\n                        {title}</div>\r\n                    <br/>\r\n                    {nutritionalInfoHtml}\r\n                </div>\r\n            </Popup>];\r\n\r\n        return html;\r\n    }\r\n    recipePopup(name,image){\r\n\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined){\r\n            for (let i = 0; i < recept.length; i++){\r\n\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n\r\n                    </div>)\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n                        <img className=\"FoodPhotoLarge\" align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n\r\n        let html = [];\r\n        html.push(\r\n            <Popup className=\"poptry\" modal trigger={<button  title= \"recipe\" className=\"IconLayout RecipeIcon\" onClick={() => this.sendRecipe(name)}>\r\n\r\n            </button>} position=\"right center\" >\r\n                <div className=\"popUp2\">\r\n                    <div className=\"popupHeader\">Recipe for\r\n                        <br/>\r\n                        {title}</div>\r\n                    <br/>\r\n\r\n                    {popUpHtml}\r\n                </div>\r\n\r\n            </Popup>);\r\n\r\n        return html;\r\n    }\r\n\r\n    recipePopupFromImage(name,image){\r\n\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined){\r\n            for (let i = 0; i < recept.length; i++){\r\n\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n\r\n                    </div>)\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n\r\n                        <img className=\"FoodPhotoLarge3\" onClick={() => this.setState({open: false})} align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n\r\n\r\n        let html = [];\r\n\r\n\r\n        html.push(\r\n            <div>\r\n                <img className=\"FoodPhotoTinder\" title=\"recipe\" align=\"left\" onClick={() => {this.sendRecipe(name); this.setState({open: true});}} src={image} >\r\n\r\n                </img>\r\n                <Popup  open={this.state.open} onClick={() => this.setState({open: false})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n\r\n                    <div className=\"popUp3\" onClick={() => this.setState({open: false})}>\r\n\r\n                        <div className=\"popupHeader\" onClick={() => this.setState({open: false})}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n\r\n                        {popUpHtml}\r\n                    </div>\r\n\r\n\r\n\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n    recipePopupForTinder(name,image){\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined){\r\n            for (let i = 0; i < recept.length; i++){\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n                        <img className=\"FoodPhotoLarge3\" onClick={() => this.setState({open: false})} align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n        let html = [];\r\n\r\n        html.push(\r\n            <div>\r\n                <button  title= \"recipe\" className=\"RecipeButton\" title=\"recipe\" align=\"left\" onClick={() => {this.sendRecipe(name); this.setState({open: true});}} src={image} >\r\n                </button>\r\n                <Popup  open={this.state.open} onClick={() => this.setState({open: false})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n                    <div className=\"popUp3\" onClick={() => this.setState({open: false})}>\r\n                        <div className=\"popupHeader\" onClick={() => this.setState({open: false})}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n                        {popUpHtml}\r\n                    </div>\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n\r\n\r\n    //GET DATA\r\n    getIngredients(gerecht){\r\n        //TODO implementeren\r\n        return this.state.ingredients;\r\n    }\r\n    getRecipe(gerecht){\r\n        //TODO implementeren\r\n        return this.state.recipe;\r\n\r\n    }\r\n    getNutritionInfo(gerecht){\r\n        //TODO implementeren\r\n        //volgorde:\r\n        // Calories in g\r\n        // Total fat in %\r\n        // Suiker in %\r\n        // Sodium in %\r\n        // Protein in %\r\n        // Saturated Fat in %\r\n        // Total Carbohydrate in %\r\n        return this.state.nutrition\r\n\r\n\r\n    }\r\n    getExplanation(){\r\n        return this.state.similar;\r\n    }\r\n\r\n\r\n    getAssets(){\r\n        return this.state.tags;\r\n    }\r\n\r\n\r\n\r\n    swipeItem(action) {\r\n        let thisCard = this.state.foods[this.state.swipednumber];\r\n        if (action === 'left') {\r\n            this.dislike(thisCard);\r\n        }\r\n        else if (action === 'right') {\r\n            this.like(thisCard);\r\n        }\r\n    }\r\n\r\n    resetSwipes(){\r\n        this.state.swipednumber=0;\r\n        this.getRecommendations();\r\n        this.setState({view: 1});\r\n        this.setState({favorite: false});\r\n    }\r\n\r\n    switchViews() {\r\n        this.state.swipednumber=0;\r\n        const value = (this.state.view + 1) % 2;\r\n        this.setState({view: value});\r\n        this.setState({favorite: false});\r\n        localStorage.setItem(\"view\", value.toString());\r\n    }\r\n    nutritionalPopupForTinder(name,image){\r\n        //Recipe list\r\n        let nutritionLabels = ['Carbs','Total Fats', 'Sugar', 'Sodium', 'Protein', 'Saturated Fats', 'Carbohydrates'];\r\n        let nutritionalInfo = this.getNutritionInfo(name);\r\n        let nutritionalInfoHtml = [];\r\n        let nutritionalInfoHtmlTemp = [];\r\n        let nutritionalInfoHtmlTemp2 = [];\r\n        let explanationHtmlTemp = [];\r\n        let similarMeals = this.getExplanation();\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(nutritionalInfo!==undefined){\r\n\r\n            for (let i = 0; i < nutritionalInfo.length; i++){\r\n\r\n                nutritionalInfoHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionLabels[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n                nutritionalInfoHtmlTemp2.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionalInfo[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n            }\r\n        }\r\n        let empty = true;\r\n        if(similarMeals!==undefined){\r\n\r\n            for (let i = 0; i < similarMeals.length; i++) {\r\n                let number=Math.floor(similarMeals[i][\"matchfactor\"]*100);\r\n                let color=perc2color(number);\r\n                if (number >= 60){\r\n                    empty= false;\r\n                    explanationHtmlTemp.push(\r\n                        <div className=\"popupText2\">\r\n                            <div className=\"container2\">\r\n                                <img className=\"FoodPhotoLarge3\" onClick={this.goToFavorites} title={similarMeals[i][\"name\"]} align=\"left\" src={similarMeals[i][\"image\"]} alt=\"Food\"/>\r\n                                <button className=\"OnTopButton\" style={{backgroundColor: color}}>{number}%</button>\r\n                            </div>\r\n\r\n                            <br/>\r\n\r\n                        </div>);\r\n                }\r\n            }\r\n\r\n        }\r\n        if (empty){\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            You did not try anything like this! Try it out!\r\n                            <br/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        }\r\n        else{\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            Because you liked:\r\n                            <br/>\r\n                        </div>\r\n                        {explanationHtmlTemp}\r\n                    </div>\r\n                </div>\r\n\r\n            );}\r\n\r\n        let html = [];\r\n\r\n\r\n        html.push(\r\n            <div>\r\n                <button  title= \"recipe\" className=\"NutritionButton\" title=\"Nutrition\" align=\"left\" onClick={() => {this.sendNuttritionSimilar(name); this.setState({nutritionopen: true});}} src={image} >\r\n\r\n                </button>\r\n                <Popup  open={this.state.nutritionopen} onClick={() => this.setState({nutritionopen: false})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n\r\n                    <div className=\"popUp3\" onClick={() => this.setState({nutritionopen: false})}>\r\n\r\n                        <div className=\"popupHeader\" onClick={() => this.setState({nutritionopen: false})}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n\r\n                        {nutritionalInfoHtml}\r\n                    </div>\r\n\r\n\r\n\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n\r\n    goToFavorites(){\r\n        this.getFavorites();\r\n        this.setState({favorite: true});\r\n    }\r\n\r\n    generateView() {\r\n        if(this.state.favorite){\r\n            return(\r\n                <div>\r\n\r\n                    <div>\r\n                        favoritestate\r\n                        {this.generateFavorites()}\r\n                    </div>\r\n                    Times clicked: {this.state.timesClicked}\r\n                    <div className=\"buttons\">\r\n                        <Link to=\"/\"><button className=\"NextButton Green\"><b>SAVE</b></button></Link>\r\n                        <button className=\"NextButton Green\" onClick={()=> alert('hi')}>Recommendations</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            if (this.state.view === 0) {\r\n                return (\r\n                    <div>\r\n\r\n                        <div>\r\n                            {this.generateMeal()}\r\n                        </div>\r\n                        Times clicked: {this.state.timesClicked}\r\n                        <div className=\"buttons\">\r\n                            <Link to=\"/recommendations\"><button className=\"NextButton Green\"><b>Recommend</b></button></Link>\r\n                        </div>\r\n                    </div>)\r\n            }\r\n            else {\r\n                if (this.state.swipednumber < 6) {\r\n                    return (\r\n                        <div className=\"Span\">\r\n                            <div style={wrapperStyles}>\r\n\r\n                                {this.state.foods.length > 0 ? (\r\n                                    <div style={wrapperStyles}>\r\n\r\n                                        <Swipeable\r\n                                            buttons={({left, right}) => (\r\n                                                <div style={actionsStyles}>\r\n                                                    <button className=\"tinderButton dislike fadeInLeft1\" onClick={left}><b>Reject</b></button>\r\n                                                    <button className=\"tinderButton like fadeInLeft1\" onClick={right}><b>Accept</b></button>\r\n                                                </div>\r\n                                            )}\r\n                                            onAfterSwipe={this.remove}\r\n                                            onSwipe={this.swipeItem}\r\n                                        >\r\n\r\n                                            <div className=\"FoodCard fadeInLeft0\">\r\n                                                <div className=\"FoodHeader\">\r\n                                                    <b>{this.getname(this.state.swipednumber)}</b>\r\n                                                </div>\r\n                                                {this.recipePopupFromImage(this.getname(this.state.swipednumber),this.getimage(this.state.swipednumber))}\r\n\r\n                                                {this.generateBadges(this.state.swipednumber)}\r\n                                                <div>\r\n                                                    {this.recipePopupForTinder(this.state.foods[this.state.swipednumber],this.getimage(this.state.swipednumber))}\r\n                                                    {this.nutritionalPopupForTinder(this.state.foods[this.state.swipednumber])}\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </Swipeable>\r\n\r\n                                    </div>\r\n                                ) : (\r\n                                    <div >\r\n                                        <div className=\"FoodItem\" zIndex={-2}>No more cards</div>\r\n                                        <button className=\"NextButton Green\"  onClick={() => this.setState({view: 0}) }>Recommendations</button>\r\n                                        <button className=\"NextButton Green\"  onClick={this.resetSwipes}>New Cards</button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                    )\r\n                }\r\n                else{\r\n                    return(\r\n                        <div >\r\n                            <div className=\"FoodItem\" zIndex={-2}>No more cards</div>\r\n                            <button className=\"NextButton\"  onClick={() => this.setState({view: 0}) }>Recommendations</button>\r\n                            <button className=\"NextButton\"  onClick={this.resetSwipes}>New Cards</button>\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    generateFavorites() {\r\n        let favorites = this.state.favorites;\r\n        if(favorites==null||favorites==undefined){\r\n            return;\r\n        }\r\n        let html = [];\r\n\r\n\r\n        for (let i = 0; i < favorites.length; i++) {\r\n            let currentfavorite=favorites[i];\r\n\r\n            let badges = [];\r\n            currentfavorite[\"tags\"].forEach(function (item, index) {\r\n\r\n                let badgeName = \"FoodBadge \" + item;\r\n                if (item === \"15-minutes-or-less\") {\r\n                    badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                }\r\n                badges.push(<button className={badgeName}> </button>);\r\n\r\n            });\r\n            let className = \"FoodItem fadeInLeft\" + i;\r\n            html.push(<div>\r\n                <button className={className} onClick={() => this.getInfo(currentfavorite[\"name\"])}  >\r\n\r\n                    <img className=\"FoodPhoto\" align=\"left\" src={currentfavorite[\"image\"]} alt=\"Food\"/>\r\n\r\n                    <b className=\"FoodTitle\">{currentfavorite[\"name\"]}</b> <br/>\r\n                    {badges}\r\n\r\n                    {this.recipePopup(currentfavorite[\"name\"],currentfavorite[\"image\"])}\r\n                    {this.nutritionalPopup(currentfavorite[\"name\"])}\r\n                </button>\r\n            </div>)\r\n\r\n        }\r\n\r\n        return html\r\n    }\r\n\r\n    generateBadges(food) {\r\n        let badges = [];\r\n        let assets = this.getAssets();\r\n\r\n\r\n        if(assets!=undefined && assets.length>0){\r\n            if(assets[food]!=undefined){\r\n                assets[food].forEach(function (item, i) {\r\n                    let badgeName = \"FoodBadge \" + item;\r\n                    if (item === \"15-minutes-or-less\") {\r\n                        badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                    }\r\n                    badges.push(<button className={badgeName}> </button>);\r\n\r\n                });\r\n            }}\r\n        return badges;\r\n    }\r\n\r\n    //GENERATE MEAL\r\n    generateMeal() {\r\n\r\n        if (this.state.foods === undefined) {\r\n            return\r\n        }\r\n        let foods = this.state.foods;\r\n\r\n        let assets = this.getAssets();\r\n        let html = [];\r\n\r\n\r\n        for (let i = 0; i < foods.length; i++) {\r\n            let name=capitalizeFLetter(foods[i]);\r\n\r\n\r\n            let badges = [];\r\n\r\n            if(assets!=undefined && assets.length>1){\r\n                if (assets[i]!=undefined){\r\n                    assets[i].forEach(function (item, i) {\r\n                        let badgeName = \"FoodBadge \" + item;\r\n                        if (item === \"15-minutes-or-less\") {\r\n                            badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                        }\r\n                        badges.push(<button className={badgeName}> </button>);\r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n            const config = {\r\n                onSwiped: ()=>this.endSwipe(),\r\n                onSwipedRight:()=>this.like(name),\r\n                onSwipedLeft:()=>this.dislike(name),\r\n                display:\"flex\",\r\n                preventDefaultTouchmoveEvent: true,\r\n                trackMouse: true,\r\n                transition: \"transform 1s ease\",\r\n                delta:10\r\n            };\r\n            //this.setState({translation: \"translate(500%,10%)\"});\r\n\r\n            let className = \"FoodItem fadeInLeft\" + i;\r\n            let tryouy=1;\r\n            let swipingspecials=[];\r\n            if(this.state.showThumbs==name||this.state.translation!=undefined){\r\n                if(this.state.showThumbs==name||this.state.translation[name]!=undefined) {\r\n                    if(Math.abs(this.state.shadownr)>10){\r\n                        if (this.state.shadownr>0){\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"likedimage\" />\r\n                                    <img className=\"dislikedimagewithshadow\" />\r\n                                </div>\r\n                            );\r\n                        }\r\n                        else{\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"likedimagewithshadow\" />\r\n                                    <img className=\"dislikedimage\" />\r\n                                </div>\r\n                            );\r\n                        }\r\n                    }\r\n                    else{\r\n                        swipingspecials.push(\r\n                            <div>\r\n                                <img className=\"likedimage\" />\r\n                                <img className=\"dislikedimage\" />\r\n                            </div>\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            // <button className={className} onClick={this.increaseCounter}\r\n            html.push(<div className=\"icanswipe\"  >\r\n                {swipingspecials}\r\n                <Swiping onSwiping={(eventData => this.swiped(eventData,name))}  {...config}  >\r\n                    <button   onMouseEnter={()=>this.setState({showThumbs:name})}\r\n                              onMouseLeave={()=>this.setState({showThumbs:\"\"})} className={className} style={{transform: this.transformfunc(name)\r\n                        , opacity: this.transparfunc(name)} } onClick={() => this.getInfo(foods[i])}  >\r\n                        <div className=\"rowbutton\">\r\n                            <div className=\"columbuttonimage\">\r\n                                <img className=\"FoodPhoto\" align=\"left\" src={this.getimage(i)} alt=\"Food\"/>\r\n                            </div>\r\n                            <div className=\"columtitle\">\r\n                                <div className=\"foodtitle2\"> <b className=\"FoodTitle\">{name}</b> <br/> </div>\r\n                                <div className=\"foodtags2\">\r\n                                    <div className=\"badgesContainer\">\r\n                                        {badges}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"informationbuttonscolum\">\r\n                                <div className=\"informationbutton1\" onClick={() => this.logAction(\"get recipe\",name)}>\r\n                                    {this.recipePopup(foods[i],this.getimage(i))}\r\n                                </div>\r\n                                <div className=\"informationbutton2\" onClick={() => this.logAction(\"get nutritional values\",name)}>\r\n                                    {this.nutritionalPopup(foods[i])}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </button>\r\n                </Swiping>\r\n            </div>)\r\n        }\r\n\r\n        return html\r\n    }\r\n\r\n    transformfunc(name) {\r\n        if(this.state.translation!=undefined){\r\n\r\n            return this.state.translation[name];\r\n        }\r\n        return \"\";\r\n\r\n    }\r\n    transparfunc(name){\r\n        if(this.state.transparency!=undefined){\r\n\r\n            return this.state.transparency[name];\r\n        }\r\n        return 1;\r\n\r\n    }\r\n\r\n    like(name){\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let liked = users[i].Liked;\r\n                let foods = this.state.foods;\r\n                let tags = this.state.tags;\r\n                let images = this.state.images;\r\n\r\n                let t=0;\r\n\r\n                for(let j=0;j<foods.length;j++){\r\n                    let f1 = foods[j].toLowerCase();\r\n\r\n                    if(f1===f2){\r\n                        t=j;\r\n                    }\r\n                }\r\n                if(liked==null){\r\n                    liked=[];\r\n                }\r\n                foods.splice(t,1);\r\n                this.state.foods=foods;\r\n                tags.splice(t,1);\r\n                this.state.tags=tags;\r\n                images.splice(t,1);\r\n                this.state.images=images;\r\n\r\n                liked.push(name);\r\n\r\n                this.state.likedItems = liked;\r\n\r\n                this.setState({likedItems: liked});\r\n                users[i].Liked = liked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.logAction(\"like\", name);\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n    dislike(name){\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length -1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let disliked = users[i].Disliked;\r\n                let foods = this.state.foods;\r\n                let tags = this.state.tags;\r\n                let images = this.state.images;\r\n                let t = 0;\r\n                for (let j = 0; j < foods.length; j++) {\r\n                    let f1 = foods[j].toLowerCase();\r\n                    if (f1 === f2) {\r\n                        t = j;\r\n                    }\r\n                }\r\n                foods.splice(t, 1);\r\n                this.state.foods = foods;\r\n                tags.splice(t, 1);\r\n                this.state.tags = tags;\r\n                images.splice(t, 1);\r\n                this.state.images = images;\r\n\r\n\r\n\r\n                if (disliked == null) {\r\n                    disliked = [];\r\n                }\r\n\r\n                disliked.push(name);\r\n\r\n\r\n                this.state.dislikedItems = disliked;\r\n                this.setState({dislikedItems: disliked});\r\n                users[i].Disliked = disliked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.logAction(\"dislike\", name);\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    logAction(thisAction, thisItem){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--){\r\n            if(users[i].Name === localStorage.getItem('currentUser')){\r\n                lastItem = thisItem;\r\n                lastAction = thisAction;\r\n                let item = [];\r\n                item.push(Date.now());\r\n                item.push(thisAction);\r\n                let v = 0;\r\n                if(JSON.parse(localStorage.getItem(\"view\")) === 1){\r\n                    v = \"list mode\";\r\n                }\r\n                else v = \"swipe mode\";\r\n                item.push(v);\r\n                item.push(thisItem);\r\n                users[i].Log.push(item);\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    endSwipe(){\r\n        this.state.swiping=false;\r\n        this.state.shadownr=0;\r\n        let item = {};\r\n        this.setState({translation: item, transparency: item});\r\n\r\n    }\r\n    swiped(eventData,name) {\r\n        this.state.swiping=true;\r\n        this.state.shadownr=eventData.deltaX;\r\n\r\n        //show smiles\r\n        let number=-1*eventData.deltaX;\r\n        let transit=this.state.transparency;\r\n        let item = {};\r\n        item[name] = \"translate(\"+number+\"px,0%)\";\r\n        //alert(item[name]);\r\n        let item2 = {};\r\n        item2[name] = 10/Math.abs(eventData.deltaX);\r\n        this.setState({translation: item, transparency: item2});\r\n\r\n    }\r\n\r\n\r\n    getname(i){\r\n        if(this.state.foods!==undefined) {\r\n            return this.state.foods[i];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getimage(i) {\r\n        if(this.state.images!==undefined){\r\n            return this.state.images[i];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    //RENDER\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <header className=\"App-header\">\r\n                    <div className=\"PageHeader\"> <b className=\"PageTitle\">Let's get to know you!</b>\r\n                        <Link to=\"/profile\"><button className=\"profile\" ><b> </b></button></Link>\r\n                        <Link to=\"/recommendations\"><button onClick={() => {localStorage.setItem(\"favorite\", JSON.stringify(true));}} title=\"favorites\" className=\"favorites\" ><b> </b></button></Link>\r\n                        <Link to=\"/recommendations\"><button onClick={() => localStorage.setItem(\"favorite\", JSON.stringify(false))} title=\"recommends\" className=\"toRecommendButton\" ><b> </b></button></Link>\r\n                        <div className=\"sliderBox\" >\r\n                            <label className=\"switch\">\r\n                                <input type=\"checkbox\"></input>\r\n                                <span className=\"slider round\" onClick={this.switchViews}></span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    {this.generateView()}\r\n                </header>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GettingToKnow;\r\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport ReactSwing from \"react-swing\";\r\n\r\nclass SwipeTest extends Component {\r\n    stackEl = React.createRef();\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n\r\n        // An instance of the Stack\r\n        this.state = {\r\n            stack: null,\r\n            foods: [\"Turkey\", \"Ham\", \"Pineapple\", \"Test\", 'Seeds']\r\n        };\r\n\r\n        this.createCards = this.createCards.bind(this);\r\n    }\r\n\r\n    createCards() {\r\n        let html = [];\r\n        for (let i = 0; i < this.state.foods.length; i++) {\r\n            const refName = \"card\"+ i;\r\n            html.push(<div className=\"card clubs\" ref={refName}>\r\n                <div className=\"FoodHeader\"><b>{this.state.foods[i]}</b></div>\r\n\r\n            </div>)\r\n        }\r\n        return html\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"viewport\">\r\n                    <div className=\"dislikeStack\"><b>Dislike</b></div>\r\n                    <div className=\"likeStack\"><b>Like</b></div>\r\n                    {/*ReactSwing Element*/}\r\n                    <ReactSwing\r\n                        className=\"stack\"\r\n                        tagName=\"div\"\r\n                        setStack={stack => this.setState({ stack })}\r\n                        ref={this.stackEl}\r\n                    >\r\n                        {/*children elements is will be Card*/}\r\n                        {this.createCards()}\r\n                    </ReactSwing>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SwipeTest;","import React from 'react';\r\nimport './FoodPage.css';\r\nimport './Popup.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Popup from \"reactjs-popup\";\r\nimport Swipeable from \"react-swipy\";\r\nimport {Swipeable as Swiping} from \"react-swipeable\";\r\nimport './tinderCards.css';\r\nimport Swal, {clickConfirm} from \"sweetalert2\";\r\nimport styled from \"styled-components\";\r\nimport {  Popup as InfoPopup } from \"semantic-ui-react\";\r\nimport ReactSwing from \"react-swing\";\r\nlet lastItem = null;\r\nlet lastAction  = null;\r\nexport const icanswipe = styled.div`\r\n  display: flex;\r\n  transition: ${props => (props.sliding ? \"none\" : \"transform 1s ease\")};\r\n  transform: ${props => {\r\n    if (!props.sliding) return \"translateX(calc(-80% - 20px))\";\r\n    if (props.dir === \"PREV\") return \"translateX(calc(2 * (-80% - 20px)))\";\r\n    return \"translateX(0%)\";\r\n}};\r\n`;\r\n\r\nconst wrapperStyles = {position: \"relative\", width: \"250px\", height: \"300px\"};\r\nconst actionsStyles = {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    marginTop: 12,\r\n};\r\n\r\nfunction capitalizeFLetter(string) {\r\n    let returnVal = string;\r\n    try {\r\n        returnVal = string[0].toUpperCase() + string.slice(1);\r\n    } catch (e) {\r\n\r\n    }\r\n    return returnVal;\r\n}\r\n\r\nfunction perc2color(perc) {\r\n    var r, g, b = 0;\r\n    if(perc < 50) {\r\n        r = 255;\r\n        g = Math.round(5.1 * perc);\r\n    }\r\n    else {\r\n        g = 255;\r\n        r = Math.round(510 - 5.10 * perc);\r\n    }\r\n    var h = r * 0x10000 + g * 0x100 + b * 0x1;\r\n    return '#' + ('000000' + h.toString(16)).slice(-6);\r\n}\r\n\r\nfunction shuffle(array,array2,array3) {\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n        temporaryValue = array2[currentIndex];\r\n        array2[currentIndex] = array2[randomIndex];\r\n        array2[randomIndex] = temporaryValue;\r\n        temporaryValue = array3[currentIndex];\r\n        array3[currentIndex] = array3[randomIndex];\r\n        array3[randomIndex] = temporaryValue;\r\n    }\r\n    let answer=[];\r\n    answer.push(array,array2,array3);\r\n\r\n    return answer;\r\n}\r\nconst sleep = (milliseconds) => {\r\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\r\n}\r\n\r\nclass RecommendationsA extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            foods: [],\r\n            tags: [],\r\n            images: [],\r\n            recipe: [],\r\n            nutrition: [],\r\n            ingredients: [],\r\n            similar: [],\r\n\r\n\r\n        };\r\n\r\n\r\n\r\n        this.socket=this.initialiseSocket();\r\n        this.sendable=false;\r\n\r\n        this.generateMeal=this.generateMeal.bind(this);\r\n        this.getRecommendations=this.getRecommendations.bind(this);\r\n        this.switchViews=this.switchViews.bind(this);\r\n        this.generateView=this.generateView.bind(this);\r\n        this.resetSwipes=this.resetSwipes.bind(this);\r\n        this.generateFavorites=this.generateFavorites.bind(this);\r\n        this.goToFavorites=this.goToFavorites.bind(this);\r\n        this.goToRecommends=this.goToRecommends.bind(this);\r\n        this.generateBadges=this.generateBadges.bind(this);\r\n        this.swipeItem = this.swipeItem.bind(this);\r\n        this.saveAlert = this.saveAlert.bind(this);\r\n        this.createCards = this.createCards.bind(this);\r\n\r\n\r\n        this.socket.onopen = () => {\r\n            let users = JSON.parse(localStorage.getItem('users'));\r\n            let payload= {\r\n                action: \"initialise\"\r\n            };\r\n            for (let i = users.length-1; i>=0; i--) {\r\n                if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                               users[i].FirstTime1 = false;\r\n                               localStorage.setItem(\"users\", JSON.stringify(users));\r\n\r\n                    let liked=users[i].Liked;\r\n                    payload={\r\n                        action: \"initialise\",\r\n                        favorites:liked,\r\n                        name: localStorage.getItem('currentUser')\r\n                    };\r\n                }\r\n            }\r\n            this.socket.send(JSON.stringify(payload));\r\n            if (!this.sendable){\r\n                this.loading=false;\r\n                this.sendable=true;\r\n                if(this.state.favorite){\r\n                    this.goToFavorites()\r\n                }\r\n                else{\r\n                    this.getRecommendations();\r\n                }\r\n            }\r\n            // do something after connection is opened\r\n        };\r\n\r\n        this.state.favorite=JSON.parse(localStorage.getItem('favorite'));\r\n\r\n        this.socket.onmessage=((message) => {\r\n            let translation=JSON.parse(message.data);\r\n            console.log(translation);\r\n            switch(translation.action){\r\n                case \"Recommends\":\r\n                    if(this.loading){\r\n                        this.loading=false;\r\n                        // alert(\"this\");\r\n                        Swal.fire({\r\n                            title: \"Finished!\",\r\n                            showConfirmButton: false,\r\n                            timer: 1000\r\n                        });\r\n                    }\r\n                    Swal.fire({\r\n                        title: 'Great!',\r\n                        text: \"Now let's choose some meals you like or dislike, so we can get a small glimpse into your preferences.\",\r\n                        icon: 'success',\r\n                        confirmButtonText: 'Okay!'\r\n                    }).then(() => {\r\n                        if (clickConfirm) {\r\n                            Swal.fire({\r\n                                text: \" Drag an item left to dislike it, or right to like it.\",\r\n                                icon: 'info',\r\n                                confirmButtonText: 'Okay!'\r\n                            }).then(() => {\r\n                                if (clickConfirm) {\r\n                                    Swal.fire({\r\n                                        text: \" If you're ready, press the button down bellow for some personalized recommendations!\",\r\n                                        icon: 'info',\r\n                                        confirmButtonText: 'Okay!'\r\n                                    });\r\n                                }\r\n                            })\r\n                        }});\r\n\r\n\r\n                    let initialfoods = translation.recommends;\r\n                    let initialtags = translation.tags;\r\n                    let initialimages = translation.images;\r\n                    let shuffled=this.filterfoods(initialfoods,initialtags,initialimages);\r\n                    let filteredfoods=shuffled[0];\r\n                    let filteredTags=shuffled[1];\r\n                    let filteredImages=shuffled[2];\r\n                    this.setState({tags: filteredTags});\r\n                    this.setState({foods: filteredfoods});\r\n                    this.setState({images: filteredImages});\r\n                    if(JSON.parse(localStorage.getItem('viewInit'))==1 && this.state.initialised!=true){\r\n                        this.state.view=0;\r\n                        sleep(5).then(() => {\r\n                            this.state.view= JSON.parse(localStorage.getItem('viewInit'));\r\n                            if(this.state.view==1){\r\n                                this.state.swipednumber=0;\r\n                                const value = (this.state.view + 1) % 2;\r\n                                localStorage.setItem(\"view\", value);\r\n                                this.state.initialised=true;\r\n                                this.setState({view: 1});\r\n                            }\r\n                        })\r\n\r\n\r\n                    }\r\n                    break;\r\n                case \"favorites\":\r\n\r\n                    if(this.loading){\r\n                        // alert(\"this favorites\");\r\n                        this.loading=false;\r\n                        Swal.fire({\r\n                            title: \"Finished!\",\r\n                            showConfirmButton: false,\r\n                            timer: 1000\r\n                        });\r\n                    }\r\n                    this.setState({favorites: translation.favorites});\r\n                    //  alert('favorites set '+ translation.favorites);\r\n                    break;\r\n                case \"Similar\":\r\n\r\n                    // alert(\"this favorites\");\r\n                    this.loading=false;\r\n                    Swal.fire({\r\n                        title: \"Finished!\",\r\n                        showConfirmButton: false,\r\n                        timer: 1000\r\n                    });\r\n\r\n                    this.setState({similar: translation.similar});\r\n                    break;\r\n                case \"Recipe\":\r\n                    this.setState({recipe: translation.recipe});\r\n                    break;\r\n                case \"Nutrition\":\r\n                    this.setState({nutrition: translation.nutrition});\r\n                    break;\r\n                case \"Ingredients\":\r\n                    this.setState({ingredients: translation.ingredients});\r\n                    break\r\n            }\r\n        });\r\n        if(this.state.swipednumber===undefined){\r\n            this.state.swipednumber=0;\r\n        }\r\n\r\n        if(this.state.favorite){\r\n            this.goToFavorites()\r\n        }\r\n        if(this.state.initialised==undefined||this.state.initialised==false){\r\n            this.state.view=0;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    filterfoods(initialfoods,initialtags,initialimages){\r\n        let shuffled=shuffle(initialfoods,initialtags,initialimages);\r\n        let newinitialfoods=shuffled[0];\r\n        let newinitialtags=shuffled[1];\r\n        let newinitialimages=shuffled[2];\r\n\r\n        //initialfoods shuffle\r\n\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n            }\r\n        }\r\n\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let filteredFoods  =[];\r\n        let filteredtags  =[];\r\n        let filteredimages  =[];\r\n        let p=0;\r\n        for (let i = 0; p<7 ; i++) {\r\n            if (newinitialfoods[i] !==\"\" && !likedItems.includes(newinitialfoods[i]) && !dislikedItems.includes(newinitialfoods[i])) {\r\n                p++;\r\n                filteredFoods.push(newinitialfoods[i]);\r\n                filteredtags.push(newinitialtags[i]);\r\n                filteredimages.push((newinitialimages[i]));\r\n                //alert(initialfoods[i]);\r\n            }\r\n        }\r\n        let answer=[];\r\n        answer.push(filteredFoods,filteredtags,filteredimages);\r\n        return answer;\r\n    }\r\n\r\n    initialiseSocket() {\r\n        if(this.socket!==undefined){\r\n            return this.socket;\r\n        }\r\n        this.setState({favorite: false});\r\n        return new WebSocket(\"ws://localhost:9000\");\r\n    }\r\n\r\n    getInfo(string) {\r\n\r\n\r\n        this.sendRecipe(string);\r\n        this.sendNuttritionSimilar(string);\r\n    }\r\n    sendRecipe(name) {\r\n        name=name.toLowerCase();\r\n        console.log(\"send recipe\");\r\n        this.socket=this.initialiseSocket();\r\n        let payload = {\r\n            action: \"Recipe\",\r\n            recipe: name\r\n        };\r\n        let ingredipayload = {\r\n            action: \"Ingredients\",\r\n            name: name\r\n        };\r\n        //  this.socket.close();\r\n        if(this.sendable!==undefined&&this.sendable){\r\n            this.socket.send(JSON.stringify(payload));\r\n            this.socket.send(JSON.stringify(ingredipayload));\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    sendNuttritionSimilar(name) {\r\n        name=name.toLowerCase();\r\n        this.socket=this.initialiseSocket();\r\n        let payload = {\r\n            action: \"Nutrition\",\r\n            name: name\r\n        };\r\n        if(this.sendable!==undefined&&this.sendable) {\r\n            this.socket.send(JSON.stringify(payload));\r\n\r\n        }\r\n        let similarpayload={\r\n            action: \"Similar\",\r\n            recipe: name,\r\n            prolist:[]\r\n        };\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n            }\r\n        }\r\n\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let prolist = [];\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n            if(likedItems[i]!=name){\r\n                let item = {};\r\n                item['name'] = likedItems[i];\r\n                item['rating']= 1.0;\r\n                prolist.push(item);\r\n            }\r\n\r\n        }\r\n\r\n        for (let i = 0; i < dislikedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = dislikedItems[i];\r\n            item['rating'] = -1.0;\r\n            prolist.push(item)\r\n        }\r\n        similarpayload.prolist = prolist;\r\n        this.state.proto=!this.state.proto;\r\n        if(this.sendable) {\r\n            if(this.state.proto){\r\n                this.socket.send(JSON.stringify(similarpayload));\r\n                Swal.fire({\r\n                    title: \"Loading...\",\r\n                    text: \"Please wait\",\r\n                    showConfirmButton: false,\r\n                    allowOutsideClick: false,\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    getFavorites(){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let likedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                likedItems = users[i].Liked;\r\n            }\r\n        }\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n\r\n        let payload = {\r\n            action: \"Favorites\",\r\n            prolist: [{name:\"hot tamale  burgers\", rating:0.5}]\r\n        };\r\n\r\n        const names = [\"vegetarian\", \"gluten-free\", \"low-carb\", \"vegan\", \"dairy-free\",\"low-cholesterol\",\"kosher\",\"ramadan\", \"low-protein\"];\r\n        const likes = JSON.parse(localStorage.getItem('boxes'));\r\n\r\n        // Creating prolist\r\n        let prolist = [];\r\n\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = likedItems[i];\r\n            item['rating'] = 1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        payload.prolist = prolist;\r\n        console.log(prolist);\r\n\r\n        console.log(payload);\r\n\r\n        if(this.sendable) {\r\n            this.socket.send(JSON.stringify(payload));\r\n            Swal.fire({\r\n                title: \"Loading...\",\r\n                text: \"Please wait\",\r\n                showConfirmButton: false,\r\n                allowOutsideClick: false,\r\n            });\r\n            this.loading=true;\r\n        }\r\n    }\r\n\r\n    getRecommendations(){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let tempUserIndex = -1;\r\n        let likedItems = null;\r\n        let dislikedItems = null;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                tempUserIndex = i;\r\n                likedItems = users[i].Liked;\r\n                dislikedItems = users[i].Disliked;\r\n            }\r\n        }\r\n        if(likedItems==null){\r\n            likedItems=[];\r\n        }\r\n        if(dislikedItems==null){\r\n            dislikedItems=[];\r\n        }\r\n        let payload = {\r\n            action: \"Recommend\",\r\n            account: {vegan: 1, easy: 1, preparation: 1},\r\n            amount: 7,\r\n            prolist: [{name:\"hot tamale  burgers\", rating:0.5}]\r\n        };\r\n        let amount=7;\r\n\r\n        if(likedItems!=null && likedItems!==undefined){\r\n            amount+=likedItems.length;\r\n        }\r\n        if(dislikedItems!=null &&dislikedItems!==undefined){\r\n            amount+=dislikedItems.length;\r\n        }\r\n\r\n        payload.amount=amount;\r\n        let names = users[tempUserIndex].Preferences;\r\n        let likes = users[tempUserIndex].booleansPreferences;\r\n        for (let k = 0; k<names.length; k++){\r\n            names[k] = names[k].toLowerCase();\r\n        }\r\n\r\n        let account = {};\r\n        // Creating account\r\n        for (let i = 0; i < names.length; i++) {\r\n            if (likes[i] === true) {\r\n                account[names[i]] = 1;\r\n            }\r\n        }\r\n        console.log(account);\r\n        payload.account = account;\r\n        console.log(payload);\r\n\r\n        // Creating prolist\r\n        let prolist = [];\r\n\r\n        for (let i = 0; i < likedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = likedItems[i];\r\n            item['rating'] = 1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        for (let i = 0; i < dislikedItems.length; i++) {\r\n            let item = {};\r\n            item['name'] = dislikedItems[i];\r\n            item['rating'] = -1.0;\r\n            prolist.push(item)\r\n        }\r\n\r\n        payload.prolist = prolist;\r\n        console.log(prolist);\r\n        payload.account = account;\r\n        console.log(payload);\r\n\r\n        console.log(payload)\r\n        if(this.sendable) {\r\n\r\n            this.socket.send(JSON.stringify(payload));\r\n            Swal.fire({\r\n                title: \"Loading...\",\r\n                text: \"Please wait\",\r\n                showConfirmButton: false,\r\n                allowOutsideClick: false,\r\n            });\r\n            this.state.initialised=false;\r\n            this.loading=true;\r\n        }\r\n    }\r\n\r\n    //POPUP CODE\r\n    nutritionalPopup(name){\r\n\r\n        let nutritionLabels = ['Carbs','Total Fats', 'Sugar', 'Sodium', 'Protein', 'Saturated Fats', 'Carbohydrates'];\r\n        let nutritionalInfo = this.getNutritionInfo(name);\r\n        let nutritionalInfoHtml = [];\r\n        let nutritionalInfoHtmlTemp = [];\r\n        let nutritionalInfoHtmlTemp2 = [];\r\n        let explanationHtmlTemp = [];\r\n        let similarMeals = this.getExplanation();\r\n        let title=capitalizeFLetter(name);\r\n        if(nutritionalInfo!==undefined){\r\n            for (let i = 0; i < nutritionalInfo.length; i++){\r\n                nutritionalInfoHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {nutritionLabels[i]}\r\n                        <br/>\r\n                    </div>);\r\n                nutritionalInfoHtmlTemp2.push(\r\n                    <div className = \"popupText\">\r\n                        {nutritionalInfo[i]}\r\n                        <br/>\r\n                    </div>);\r\n            }\r\n        }\r\n        let empty = true;\r\n        if(similarMeals!==undefined){\r\n\r\n            for (let i = 0; i < similarMeals.length; i++) {\r\n                let number=Math.floor(similarMeals[i][\"matchfactor\"]*100);\r\n                let color=perc2color(number);\r\n                if (number >= 60){\r\n                    empty= false;\r\n                    explanationHtmlTemp.push(\r\n                        <div className=\"popupText2\">\r\n                            <div className=\"container2\">\r\n                                <img className=\"FoodPhotoLarge3\" onClick={this.goToFavorites} title={similarMeals[i][\"name\"]} align=\"left\" src={similarMeals[i][\"image\"]} alt=\"Food\"/>\r\n                                <button className=\"OnTopButton\" style={{backgroundColor: color}}>{number}%</button>\r\n                            </div>\r\n\r\n                            <br/>\r\n\r\n                        </div>);\r\n                }\r\n            }\r\n        }\r\n        if (empty){\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            You did not try anything like this! Try it out!\r\n                            <br/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        }\r\n        else{\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            Because you liked:\r\n                            <br/>\r\n                        </div>\r\n                        {explanationHtmlTemp}\r\n                    </div>\r\n                </div>\r\n\r\n            );}\r\n        let html = [\r\n            <Popup  modal trigger={<button title=\"nutrition\" className=\"IconLayout NutritionIcon\" >\r\n            </button>} >\r\n                <div className=\"popUp2\">\r\n                    <div className=\"popupHeader\">Nutritional info for\r\n                        <br/>\r\n                        {title}</div>\r\n                    <br/>\r\n                    {nutritionalInfoHtml}\r\n                </div>\r\n            </Popup>];\r\n\r\n        return html;\r\n    }\r\n\r\n    recipePopup(name,image){\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined){\r\n            for (let i = 0; i < recept.length; i++){\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n                        <img className=\"FoodPhotoLarge\" align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n        let html = [];\r\n        html.push(\r\n            <Popup className=\"poptry\" modal trigger={<button  title= \"recipe\" className=\"IconLayout RecipeIcon\" onClick={() => this.sendRecipe(name)}>\r\n            </button>} position=\"right center\" >\r\n                <div className=\"popUp2\">\r\n                    <div className=\"popupHeader\">Recipe for\r\n                        <br/>\r\n                        {title}</div>\r\n                    <br/>\r\n                    {popUpHtml}\r\n                </div>\r\n            </Popup>);\r\n        return html;\r\n    }\r\n\r\n    recipePopupForTinder(name,image){\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined){\r\n            for (let i = 0; i < recept.length; i++){\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n                        <img className=\"FoodPhotoLarge3\" onClick={() => this.setState({open: false})} align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n        let html = [];\r\n\r\n        html.push(\r\n            <div>\r\n                <button  title= \"recipe\" className=\"RecipeButton\" title=\"recipe\" align=\"left\" onClick={() => {this.sendRecipe(name); this.setState({opened: name});this.logAction(\"get recipe\",name)}} src={image} >\r\n                </button>\r\n                <Popup  open={this.state.opened==name} onClick={() => this.setState({opened: \"none\"})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n                    <div className=\"popUp3\" onClick={() => {this.setState({opened: \"none\"});this.logAction(\"get recipe\",name) }}>\r\n                        <div className=\"popupHeader\" onClick={() => this.setState({opened: \"none\"})}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n                        {popUpHtml}\r\n                    </div>\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n    recipePopupFromImage(name,image){\r\n        //Recipe list\r\n        let recept = this.getRecipe();\r\n        let recipeHtmlTemp = [];\r\n        let ingredients = this.getIngredients();\r\n        let popUpHtml = [];\r\n        let ingredientsHtmlTemp = [];\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(ingredients!==undefined){\r\n            for (let i = 0; i < ingredients.length; i++){\r\n                ingredientsHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n                        {ingredients[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n        if(recept!==undefined) {\r\n            for (let i = 0; i < recept.length; i++){\r\n                recipeHtmlTemp.push(\r\n                    <div className = \"popupRecipeText\">\r\n                        {i + 1}. {recept[i]}\r\n                        <br/>\r\n                    </div>)\r\n            }\r\n        }\r\n\r\n        //, width: \"30%\" vs 70%\r\n        //add an extra element to the column that includes the image\r\n\r\n        popUpHtml.push(\r\n            <div className=\"row:after\">\r\n                <div className=\"column\">\r\n                    <div className=\"rowingredi\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Ingredients:\r\n                            <br/>\r\n                        </div>\r\n                        {ingredientsHtmlTemp}\r\n                    </div>\r\n                    <div className=\"row2\">\r\n\r\n                        <img className=\"FoodPhotoLarge3\" onClick={() => this.setState({open: false})} align=\"left\" src={image} alt=\"Food\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"column2\">\r\n                    <div className=\"reciperow\">\r\n                        <div className=\"popupTextTitleRecipe\">\r\n                            Steps:\r\n                            <br/>\r\n                        </div>\r\n                        {recipeHtmlTemp}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n\r\n        let html = [];\r\n\r\n        html.push(\r\n            <div>\r\n                <img className=\"FoodPhotoTinder\" title=\"recipe\" align=\"left\" onClick={() => {this.sendRecipe(name); this.setState({open: true});}} src={image} >\r\n                </img>\r\n                <Popup  open={false} onClick={() => this.setState({open: false})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n                    <div className=\"popUp3\" onClick={() => this.setState({open: false})}>\r\n                        <div className=\"popupHeader\" onClick={() => this.setState({open: false})}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n                        {popUpHtml}\r\n                    </div>\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n    nutritionalPopupForTinder(name,image){\r\n        //Recipe list\r\n        let nutritionLabels = ['Carbs','Total Fats', 'Sugar', 'Sodium', 'Protein', 'Saturated Fats', 'Carbohydrates'];\r\n        let nutritionalInfo = this.getNutritionInfo(name);\r\n        let nutritionalInfoHtml = [];\r\n        let nutritionalInfoHtmlTemp = [];\r\n        let nutritionalInfoHtmlTemp2 = [];\r\n        let explanationHtmlTemp = [];\r\n        let similarMeals = this.getExplanation();\r\n        let title=capitalizeFLetter(name);\r\n\r\n        if(nutritionalInfo!==undefined){\r\n\r\n            for (let i = 0; i < nutritionalInfo.length; i++){\r\n\r\n                nutritionalInfoHtmlTemp.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionLabels[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n                nutritionalInfoHtmlTemp2.push(\r\n                    <div className = \"popupText\">\r\n\r\n                        {nutritionalInfo[i]}\r\n                        <br/>\r\n\r\n                    </div>);\r\n            }\r\n        }\r\n        let empty = true;\r\n        if(similarMeals!==undefined){\r\n\r\n            for (let i = 0; i < similarMeals.length; i++) {\r\n                let number=Math.floor(similarMeals[i][\"matchfactor\"]*100);\r\n                let color=perc2color(number);\r\n                if (number >= 60){\r\n                    empty= false;\r\n                    explanationHtmlTemp.push(\r\n                        <div className=\"popupText2\">\r\n                            <div className=\"container2\">\r\n                                <img className=\"FoodPhotoLarge3\" onClick={this.goToFavorites} title={similarMeals[i][\"name\"]} align=\"left\" src={similarMeals[i][\"image\"]} alt=\"Food\"/>\r\n                                <button className=\"OnTopButton\" style={{backgroundColor: color}}>{number}%</button>\r\n                            </div>\r\n\r\n                            <br/>\r\n\r\n                        </div>);\r\n                }\r\n            }\r\n\r\n        }\r\n        if (empty){\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            You did not try anything like this! Try it out!\r\n                            <br/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        }\r\n        else{\r\n            nutritionalInfoHtml.push(\r\n                <div className=\"row\">\r\n                    <div className=\"Nutritioncolumn\">\r\n                        <div className=\"popupTextTitle\">\r\n                            Nutritional info:\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"textrow\">\r\n                            <div className=\"textcolumn1\">{nutritionalInfoHtmlTemp}</div>\r\n                            <div className=\"textcolumn2\">{nutritionalInfoHtmlTemp2}</div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"popupTextTitle2\">\r\n                            Because you liked:\r\n                            <br/>\r\n                        </div>\r\n                        {explanationHtmlTemp}\r\n                    </div>\r\n                </div>\r\n\r\n            );}\r\n\r\n        let html = [];\r\n\r\n\r\n        html.push(\r\n            <div>\r\n                <button  title= \"recipe\" className=\"NutritionButton\" title=\"Nutrition\" align=\"left\" onClick={() => {this.sendNuttritionSimilar(name); this.setState({nutritionopened: name});this.logAction(\"get nutritional values\",name)}} src={image} >\r\n\r\n                </button>\r\n                <Popup  open={this.state.nutritionopened==name} onClick={() => this.setState({nutritionopened: 'none'})} closeOnDocumentClick\r\n                        position=\"right center\" >\r\n\r\n                    <div className=\"popUp3\" onClick={() => this.setState({nutritionopened: \"none\"})}>\r\n\r\n                        <div className=\"popupHeader\" onClick={() => {this.setState({nutritionopened: \"none\"});this.logAction(\"get nutritional values\",name)}}>Recipe for\r\n                            <br/>\r\n                            {title}</div>\r\n                        <br/>\r\n\r\n                        {nutritionalInfoHtml}\r\n                    </div>\r\n\r\n\r\n\r\n                </Popup>\r\n            </div>\r\n        );\r\n\r\n        return html;\r\n    }\r\n\r\n    //GET DATA\r\n    getIngredients(gerecht){\r\n        //TODO implementeren\r\n        return this.state.ingredients;\r\n    }\r\n    getRecipe(gerecht){\r\n        //TODO implementeren\r\n        return this.state.recipe;\r\n\r\n    }\r\n    getNutritionInfo(gerecht){\r\n        //TODO implementeren\r\n        //volgorde:\r\n        // Calories in g\r\n        // Total fat in %\r\n        // Suiker in %\r\n        // Sodium in %\r\n        // Protein in %\r\n        // Saturated Fat in %\r\n        // Total Carbohydrate in %\r\n        return this.state.nutrition\r\n\r\n\r\n    }\r\n    getExplanation(){\r\n        return this.state.similar;\r\n    }\r\n\r\n\r\n    getAssets(){\r\n        return this.state.tags;\r\n    }\r\n\r\n    saveAlert() {\r\n        Swal.fire({\r\n            title: 'Saved!',\r\n            text: \"Your liked and disliked meals are saved.\",\r\n            icon: 'success',\r\n            confirmButtonText: 'Great!'\r\n        });\r\n        this.getRecommendations();\r\n    }\r\n\r\n\r\n\r\n    swipeItem(action) {\r\n        let thisCard = this.state.foods[this.state.swipednumber];\r\n        if (action === 'left') {\r\n            this.dislike(thisCard);\r\n        }\r\n        else if (action === 'right') {\r\n            this.like(thisCard);\r\n        }\r\n    }\r\n\r\n    resetSwipes(){\r\n        this.state.swipednumber=0;\r\n        this.getRecommendations();\r\n        this.setState({view: 1});\r\n        this.setState({favorite: false});\r\n        localStorage.setItem(\"view\", 1);\r\n    }\r\n\r\n    switchViews() {\r\n        this.state.swipednumber=0;\r\n        let  value = (this.state.view + 1) % 2;\r\n        localStorage.setItem(\"viewInit\", value);\r\n        this.setState({view: value});\r\n        this.setState({favorite: false});\r\n\r\n        localStorage.setItem(\"view\", value);\r\n    }\r\n\r\n\r\n    goToFavorites(){\r\n        this.getFavorites();\r\n        localStorage.setItem(\"favorite\", JSON.stringify(true));\r\n        this.setState({favorite: true});\r\n\r\n    }\r\n    goToRecommends(){\r\n        this.getRecommendations();\r\n        localStorage.setItem(\"favorite\", JSON.stringify(false));\r\n        this.setState({favorite: false});\r\n\r\n    }\r\n\r\n    /*\r\n        generateView() {\r\n            if(this.state.favorite){\r\n                return(\r\n                    <div>\r\n                        <div className=\"Listing\">\r\n                            favoritestate\r\n                            {this.generateFavorites()}\r\n                        </div>\r\n                        Times clicked: {this.state.timesClicked}\r\n                        <div className=\"buttons\">\r\n                            <Link to=\"/\"><button className=\"NextButton Green\"><b>SAVE</b></button></Link>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n            else{\r\n                if (this.state.view === 0) {\r\n                    return (\r\n                        <div>\r\n\r\n                            <div className=\"Listing\">\r\n                                {this.generateMeal()}\r\n                            </div>\r\n                            Times clicked: {this.state.timesClicked}\r\n                            <div className=\"buttons\">\r\n                                <button className=\"NextButton Green\" onClick={this.saveAlert}><b>SAVE</b></button>\r\n                            </div>\r\n                        </div>)\r\n                }\r\n                else {\r\n                    if (this.state.swipednumber < 6) {\r\n                        return (\r\n                            <div className=\"Span\">\r\n                            <div style={wrapperStyles}>\r\n\r\n                                {this.state.foods.length > 0 ? (\r\n                                    <div style={wrapperStyles}>\r\n\r\n                                        <Swipeable\r\n                                            buttons={({left, right}) => (\r\n                                                <div style={actionsStyles}>\r\n                                                    <button className=\"tinderButton dislike fadeInLeft1\" onClick={left}><b>Reject</b></button>\r\n                                                    <button className=\"tinderButton like fadeInLeft1\" onClick={right}><b>Accept</b></button>\r\n                                                </div>\r\n                                            )}\r\n                                            onAfterSwipe={this.remove}\r\n                                            onSwipe={this.swipeItem}\r\n                                        >\r\n\r\n                                            <div className=\"FoodCard fadeInLeft0\">\r\n                                                <div className=\"FoodHeader\">\r\n                                                    <b>{capitalizeFLetter(this.getname(this.state.swipednumber))}</b>\r\n                                                </div>\r\n                                                <div className=\"table\">\r\n\r\n                                                        <div className=\"tablerow1\">\r\n                                                            {this.recipePopupFromImage(this.getname(this.state.swipednumber),this.getimage(this.state.swipednumber))}\r\n                                                        </div>\r\n                                                        <div className=\"tablerow2\">\r\n                                                            {this.generateBadges(this.state.swipednumber)}\r\n                                                        </div>\r\n                                                        <div className=\"tablerow3\">\r\n                                                            {this.recipePopupForTinder(this.state.foods[this.state.swipednumber],this.getimage(this.state.swipednumber))}\r\n                                                            {this.nutritionalPopupForTinder(this.state.foods[this.state.swipednumber])}\r\n                                                        </div>\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </Swipeable>\r\n\r\n                                    </div>\r\n                                ) : (\r\n                                    <div >\r\n                                        <div className=\"FoodItem\" zIndex={-2}>No more cards</div>\r\n                                        <button className=\"NextButton Green\"  onClick={() => this.setState({view: 0}) }>Recommendations</button>\r\n                                        <button className=\"NextButton Green\"  onClick={this.resetSwipes}>New Cards</button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            </div>\r\n\r\n                        )\r\n                    }\r\n                    else{\r\n                        return(\r\n                            <div >\r\n                                <div className=\"FoodItem\" zIndex={-2}>No more cards</div>\r\n                                <button className=\"NextButton\"  onClick={() => this.setState({view: 0}) }>Recommendations</button>\r\n                                <button className=\"NextButton\"  onClick={this.resetSwipes}>New Cards</button>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n\r\n            }\r\n        } */\r\n\r\n    createCards() {\r\n        let html = [];\r\n        for (let i = 0; i < this.state.foods.length; i++) {\r\n            const refName = \"card\"+ i;\r\n            html.push(<div className=\"card\"  ref={refName}>\r\n                <div className=\"FoodHeader\"><b>{capitalizeFLetter(this.state.foods[i])}</b></div>\r\n                {this.recipePopupFromImage(this.getname(i),this.getimage(i))}\r\n                {this.generateBadges(i)}\r\n                <div className=\"tablerow3\">\r\n                    {this.recipePopupForTinder(this.state.foods[i],this.getimage(i))}\r\n                    {this.nutritionalPopupForTinder(this.state.foods[i])}\r\n                </div>\r\n            </div>)\r\n\r\n        }\r\n        return html\r\n    }\r\n\r\n    generateView() {\r\n\r\n\r\n        if(this.state.favorite){\r\n            return(\r\n                <div>\r\n                    <div className=\"Listing\">\r\n                        favoritestate\r\n                        {this.generateFavorites()}\r\n                    </div>\r\n\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            if (this.state.view === 0) {\r\n\r\n                return (\r\n                    <div>\r\n\r\n                        <div className=\"Listing\">\r\n                            {this.generateMeal()}\r\n                        </div>\r\n                        <div className=\"buttons\">\r\n                            <br/>\r\n                            <Link to=\"/recommendations\"><button className=\"NextButton Green\"><b>Recommend!</b></button></Link>\r\n                        </div>\r\n                    </div>)\r\n            }\r\n\r\n\r\n            else {\r\n\r\n                return (\r\n                    <div>\r\n                        <div id=\"viewport\">\r\n                            <div className=\"dislikeStack\"><b>Dislike</b></div>\r\n                            <div className=\"likeStack\"><b>Like</b></div>\r\n                            <ReactSwing\r\n                                className=\"stack\"\r\n                                tagName=\"div\"\r\n                                setStack={stack => this.setState({ stack })}\r\n                                ref={this.stackEl}\r\n                                throwoutleft={()=>this.dislike(\"\")}\r\n                                throwoutright={()=>this.like(\"\")}\r\n                            >\r\n                                {this.createCards()}\r\n                            </ReactSwing>\r\n                        </div>\r\n                        <div className=\"buttons\">\r\n                            <br/>\r\n                            <Link to=\"/recommendations\"><button className=\"NextButton Green\" ><b>Recommend!</b></button></Link>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    generateFavorites() {\r\n        let favorites = this.state.favorites;\r\n        if(favorites==null||favorites==undefined){\r\n            return;\r\n        }\r\n        // alert(JSON.stringify(favorites));\r\n        let html = [];\r\n        for (let i = 0; i < favorites.length; i++) {\r\n            let currentfavorite=favorites[i];\r\n            let name =currentfavorite[\"name\"];\r\n            let image=currentfavorite[\"image\"];\r\n            let badges = [];\r\n\r\n            if(currentfavorite[\"tags\"]==undefined){\r\n\r\n            }\r\n            else{\r\n                if(currentfavorite[\"tags\"].length<=1){\r\n                    badges.push(<button className={\"FoodBadge \"+currentfavorite[\"tags\"]}> </button> )\r\n                }\r\n                else{\r\n                    currentfavorite[\"tags\"].forEach(function (item, index) {\r\n                        let badgeName = \"FoodBadge \" + item;\r\n                        if (item === \"15-minutes-or-less\") {\r\n                            badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                        }\r\n                        badges.push(<button className={badgeName}> </button>);\r\n\r\n                    });\r\n                }\r\n            }\r\n\r\n\r\n            let className = \"FoodItem fadeInLeft\" + i;\r\n            const config = {\r\n                onSwiped: ()=>this.endSwipe(),\r\n                onSwipedLeft:()=>this.unlike(name),\r\n                display:\"flex\",\r\n                preventDefaultTouchmoveEvent: true,\r\n                trackMouse: true,\r\n                transition: \"transform 1s ease\",\r\n                delta:10\r\n            };\r\n            let tryouy=1;\r\n            let swipingspecials=[];\r\n            if(this.state.showThumbs==name||this.state.translation!=undefined) {\r\n                if (this.state.showThumbs == name || this.state.translation[name] != undefined) {\r\n                    if (Math.abs(this.state.shadownr) > 10) {\r\n                        if (this.state.shadownr > 0) {\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"dislikedimagewithshadow2\"/>\r\n                                </div>\r\n                            );\r\n                        } else {\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"dislikedimage2\"/>\r\n                                </div>\r\n                            );\r\n                        }\r\n                    } else {\r\n                        swipingspecials.push(\r\n                            <div>\r\n                                <img className=\"dislikedimage2\"/>\r\n                            </div>\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            html.push(<div className=\"icanswipe\"  >\r\n                {swipingspecials}\r\n                <Swiping onSwiping={(eventData => this.swiped(eventData,name))}  {...config}  >\r\n                    <button   onMouseEnter={()=>this.setState({showThumbs:name})}\r\n                              onMouseLeave={()=>this.setState({showThumbs:\"\"})} className={className} style={{transform: this.transformfunc(name)\r\n                        , opacity: this.transparfunc(name)} }  >\r\n                        <div className=\"rowbutton\">\r\n                            <div className=\"columbuttonimage\">\r\n                                <img className=\"FoodPhoto\" align=\"left\" src={image} alt=\"Food\"/>\r\n                            </div>\r\n                            <div className=\"columtitle\">\r\n                                <div className=\"foodtitle2\"> <b className=\"FoodTitle\">{name}</b> <br/> </div>\r\n                                <div className=\"foodtags2\">\r\n                                    <div className=\"badgesContainer\">\r\n                                        {badges}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"informationbuttonscolum\">\r\n                                <div className=\"informationbutton1\" onClick={() => {this.logAction(\"get recipe\",name);this.sendRecipe(name)}}>\r\n                                    {this.recipePopup(name,this.getimage(i))}\r\n                                </div>\r\n                                <div className=\"informationbutton2\" onClick={() => {this.logAction(\"get nutritional values\",name);this.sendNuttritionSimilar(name)}}>\r\n                                    {this.nutritionalPopup(name)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </button>\r\n                </Swiping>\r\n            </div>);\r\n        }\r\n        return html\r\n    }\r\n\r\n    generateBadges(food) {\r\n        let badges = [];\r\n        let assets = this.getAssets();\r\n\r\n        if(assets!=undefined && assets.length>0){\r\n            if(assets[food]!=undefined){\r\n                assets[food].forEach(function (item, i) {\r\n                    let badgeName = \"FoodBadge \" + item;\r\n                    if (item === \"15-minutes-or-less\") {\r\n                        badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                    }\r\n                    badges.push(<InfoPopup  position='bottom center' content={<h5>{item}</h5>} trigger={<button className={badgeName}> </button>} />);\r\n\r\n                });\r\n            }}\r\n        return badges;\r\n    }\r\n\r\n    //GENERATE MEAL\r\n    generateMeal() {\r\n        if (this.state.foods === undefined) {\r\n            return\r\n        }\r\n        let foods = this.state.foods;\r\n        let assets = this.getAssets();\r\n        let html = [];\r\n\r\n        for (let i = 0; i < foods.length; i++) {\r\n            let name=capitalizeFLetter(foods[i]);\r\n            let badges = [];\r\n\r\n            if(assets!=undefined && assets.length>0){\r\n                if(assets[i]!=undefined){\r\n                    assets[i].forEach(function (item, i) {\r\n                        let badgeName = \"FoodBadge \" + item;\r\n                        if (item === \"15-minutes-or-less\") {\r\n                            badgeName = \"FoodBadge fifteen-minutes-or-less\";\r\n                        }\r\n                        badges.push(<InfoPopup position='bottom center' content={<h5>{item}</h5>} trigger={<button className={badgeName}> </button>} />);\r\n                    });\r\n                }\r\n\r\n            }\r\n            //this.setState({translation: \"translate(500%,10%)\"});\r\n            let className = \"FoodItem fadeInLeft\" + i;\r\n            const config = {\r\n                onSwiped: ()=>this.endSwipe(),\r\n                onSwipedRight:()=>this.like(name),\r\n                onSwipedLeft:()=>this.dislike(name),\r\n                display:\"flex\",\r\n                preventDefaultTouchmoveEvent: true,\r\n                trackMouse: true,\r\n                transition: \"transform 1s ease\",\r\n                delta:10\r\n            };\r\n            let tryouy=1;\r\n            let swipingspecials=[];\r\n            if(this.state.showThumbs==name||this.state.translation!=undefined){\r\n                if(this.state.showThumbs==name||this.state.translation[name]!=undefined) {\r\n                    if(Math.abs(this.state.shadownr)>10){\r\n                        if (this.state.shadownr>0){\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"likedimage\" />\r\n                                    <img className=\"dislikedimagewithshadow\" />\r\n                                </div>\r\n                            );\r\n                        }\r\n                        else{\r\n                            swipingspecials.push(\r\n                                <div>\r\n                                    <img className=\"likedimagewithshadow\" />\r\n                                    <img className=\"dislikedimage\" />\r\n                                </div>\r\n                            );\r\n                        }\r\n                    }\r\n                    else{\r\n                        swipingspecials.push(\r\n                            <div>\r\n                                <img className=\"likedimage\" />\r\n                                <img className=\"dislikedimage\" />\r\n                            </div>\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\n            // <button className={className} onClick={this.increaseCounter}\r\n            html.push(<div className=\"icanswipe\"  >\r\n                {swipingspecials}\r\n                <Swiping onSwiping={(eventData => this.swiped(eventData,name))}  {...config}  >\r\n                    <button   onMouseEnter={()=>this.setState({showThumbs:name})}\r\n                              onMouseLeave={()=>this.setState({showThumbs:\"\"})} className={className} style={{transform: this.transformfunc(name)\r\n                        , opacity: this.transparfunc(name)} } onClick={() => {}}  >\r\n                        <div className=\"rowbutton\">\r\n                            <div className=\"columbuttonimage\">\r\n                                <img className=\"FoodPhoto\" align=\"left\" src={this.getimage(i)} alt=\"Food\"/>\r\n                            </div>\r\n                            <div className=\"columtitle\">\r\n                                <div className=\"foodtitle2\"> <b className=\"FoodTitle\">{name}</b> <br/> </div>\r\n                                <div className=\"foodtags2\">\r\n                                    <div className=\"badgesContainer\">\r\n                                        {badges}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"informationbuttonscolum\">\r\n                                <div className=\"informationbutton1\" onClick={() => {this.logAction(\"get recipe\",name);this.sendRecipe(name)}}>\r\n                                    {this.recipePopup(foods[i],this.getimage(i))}\r\n                                </div>\r\n                                <div className=\"informationbutton2\" onClick={() => {this.logAction(\"get nutritional values\",name);this.sendNuttritionSimilar(name)}} >\r\n                                    {this.nutritionalPopup(foods[i])}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </button>\r\n                </Swiping>\r\n            </div>)\r\n        }\r\n\r\n        return html\r\n    }\r\n\r\n    transformfunc(name) {\r\n        if(this.state.translation!=undefined){\r\n            return this.state.translation[name];\r\n        }\r\n        return \"\";\r\n\r\n    }\r\n    transparfunc(name){\r\n        if(this.state.transparency!=undefined){\r\n            return this.state.transparency[name];\r\n        }\r\n        return 1;\r\n    }\r\n\r\n    like(name){\r\n        if(name===\"\") name = this.state.foods[this.state.foods.length-1];\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let liked = users[i].Liked;\r\n                let foods = this.state.foods;\r\n                let tags = this.state.tags;\r\n                let images = this.state.images;\r\n                let t=0;\r\n                for(let j=0;j<foods.length;j++){\r\n                    if(foods[j]!=undefined){\r\n                        let f1 = foods[j].toLowerCase();\r\n                        if(f1===f2){\r\n                            t=j;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // alert(liked.length);\r\n                if( liked.length==undefined){\r\n                    let newliked=[];\r\n                    if(liked!=undefined){\r\n                        newliked.push(liked);\r\n                    }\r\n\r\n                    newliked.push(f2);\r\n                    liked=newliked;\r\n                }\r\n                else{\r\n\r\n                    liked.push(f2);\r\n                }\r\n\r\n                foods.splice(t,1);\r\n                this.setState({foods: foods});\r\n                tags.splice(t,1);\r\n                this.setState({tags: tags});\r\n                images.splice(t,1);\r\n                this.setState({images: images});\r\n\r\n                this.setState({likedItems: liked});\r\n                users[i].Liked = liked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.logAction(\"like\", name);\r\n                // alert(users[i].Liked);\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    unlike(name){\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length -1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let liked = users[i].Liked;\r\n\r\n                let t = 0;\r\n                for (let j = 0; j < liked.length; j++) {\r\n                    if(liked[j]!=undefined) {\r\n                        let f1 = liked[j].toLowerCase();\r\n                        if (f1 === f2) {\r\n                            t = j;\r\n                        }\r\n                    }\r\n                }\r\n                if (liked==undefined){\r\n                    liked=[];\r\n                }\r\n\r\n                liked.splice(t, 1);\r\n                let favorites=this.state.favorites;\r\n                favorites.splice(t,1);\r\n                this.setState({liked: liked});\r\n                this.setState({favorites: favorites});\r\n                users[i].Liked = liked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.setState({likedItems: liked});\r\n                this.logAction(\"unlike\", name);\r\n\r\n                break;\r\n            }\r\n            this.setState({favorite:true});\r\n        }\r\n\r\n    }\r\n    dislike(name){\r\n        if(name===\"\") name = this.state.foods[this.state.foods.length-1];\r\n        let f2 = name.toLowerCase();\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length -1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let disliked = users[i].Disliked;\r\n                let foods = this.state.foods;\r\n                let tags = this.state.tags;\r\n                let images = this.state.images;\r\n                let t = 0;\r\n                for (let j = 0; j < foods.length; j++) {\r\n                    if(foods[j]!=undefined) {\r\n                        let f1 = foods[j].toLowerCase();\r\n                        if (f1 === f2) {\r\n\r\n                            t = j;\r\n                        }\r\n                    }\r\n                }\r\n                foods.splice(t, 1);\r\n                this.setState({foods: foods});\r\n                tags.splice(t, 1);\r\n                this.setState({tags: tags});\r\n                images.splice(t, 1);\r\n                this.setState({images: images});\r\n\r\n                if (disliked == null) {\r\n                    disliked = [];\r\n                }\r\n                disliked.push(name);\r\n                this.setState({dislikedItems: disliked});\r\n                users[i].Disliked = disliked;\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                this.logAction(\"dislike\", name);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    logAction(thisAction, thisItem){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length-1; i>=0; i--){\r\n            if(users[i].Name === localStorage.getItem('currentUser')){\r\n                lastItem = thisItem;\r\n                lastAction = thisAction;\r\n                let item = [];\r\n                item.push(Date.now());\r\n                item.push(thisAction);\r\n                let v = 0;\r\n                if(JSON.parse(localStorage.getItem(\"viewInit\")) === 0){\r\n                    v = \"list mode\";\r\n                }\r\n                else v = \"tinder mode\";\r\n                item.push(v);\r\n                item.push(thisItem);\r\n                users[i].Log.push(item);\r\n                localStorage.setItem(\"users\", JSON.stringify(users));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    endSwipe(){\r\n        this.setState({swiping: false});\r\n        this.setState({shadownr: 0});\r\n        let item = {};\r\n        this.setState({translation: item, transparency: item});\r\n\r\n    }\r\n\r\n    swiped(eventData,name) {\r\n        this.setState({swiping: true});\r\n        this.setState({shadownr: eventData.deltaX});\r\n        //show smiles\r\n        let number=-1*eventData.deltaX;\r\n        let item = {};\r\n        item[name] = \"translate(\"+number+\"px,0%)\";\r\n        //alert(item[name]);\r\n        let item2 = {};\r\n        item2[name] = 10/Math.abs(eventData.deltaX);\r\n        this.setState({translation: item, transparency: item2});\r\n    }\r\n\r\n    getname(i){\r\n        if(this.state.foods!==undefined) {\r\n            return this.state.foods[i];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    getimage(i) {\r\n        if(this.state.images!==undefined){\r\n            return this.state.images[i];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n\r\n    //RENDER\r\n    render() {\r\n\r\n        if(this.state.favorite){\r\n            return (\r\n                <div className=\"App\">\r\n                    <header className=\"App-header\">\r\n                        <div className=\"PageHeader\"> <b className=\"PageTitle\">Favorites</b>\r\n                            <Link to=\"/profile\"><button title=\"profile\" className=\"profile\" ><b> </b></button></Link>\r\n                            <button className=\"favorites\" title=\"favorites\" onClick={this.goToFavorites} ><b></b></button>\r\n                            <button className=\"toRecommendButton\" title=\"recommends\" onClick={this.goToRecommends} ><b></b></button>\r\n                        </div>\r\n                        {this.generateView()}\r\n\r\n                    </header>\r\n\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        // Favorites view\r\n        else{\r\n            return (\r\n                <div className=\"App\">\r\n                    <header className=\"App-header\">\r\n                        <div className=\"PageHeader\"> <b className=\"PageTitle\">Let's get to know you!</b>\r\n\r\n                        </div>\r\n                        {this.generateView()}\r\n\r\n                    </header>\r\n                </div>\r\n            );\r\n\r\n        }\r\n        //<Link to=\"/recommendations\"><button onclick={() => localStorage.setItem(\"favorite\", JSON.stringify(true)} title=\"recommends\" className=\"toRecommendButton\" ><b> </b></button></Link>\r\n\r\n    }\r\n}\r\n\r\nexport default RecommendationsA\r\n","import React from 'react';\r\nimport './Profile.css';\r\n\r\nclass Checkbox extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isChecked: props.checked,\r\n            name: props.name,\r\n            id: props.id,\r\n            prefs : props.prefs\r\n        };\r\n    }\r\n    toggleChange = () => {\r\n        this.setState({\r\n            isChecked: !this.state.isChecked,\r\n        });\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for(let i = 0; i<users.length; i++) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                let prefs = users[i].booleansPreferences;\r\n                let all = users[i].booleanAllergies;\r\n                if (this.state.prefs === true) {\r\n\r\n                        prefs[this.state.id] = !prefs[this.state.id];\r\n                        users[i].booleansPreferences = prefs;\r\n\r\n                }\r\n                else {\r\n                        all[-this.state.id -1] = !all[-this.state.id -1];\r\n                        users[i].booleanAllergies = all;\r\n\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n\r\n        localStorage.setItem(\"users\", JSON.stringify(users))\r\n    }\r\n    render() {\r\n        return (\r\n            <li>\r\n                <input type=\"checkbox\"\r\n                       checked={this.state.isChecked}\r\n                       onChange={this.toggleChange}\r\n                       id={this.state.id}\r\n                />\r\n            <label for={this.state.id}>\r\n                {this.state.name}\r\n            </label>\r\n            </li>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Checkbox;","import React from 'react';\r\nimport './Profile.css';\r\nimport { Link } from 'react-router-dom';\r\nimport Checkbox from \"./checkBox\";\r\nimport Swal, {clickCancel, clickConfirm} from 'sweetalert2';\r\n\r\nclass Profile extends React.Component {\r\n    constructor() {\r\n        super();\r\n        let alreadySet = false;\r\n        this.amountOfLikes = 0;\r\n        this.amountOfDislikes = 0;\r\n        if(localStorage.getItem('users') != null){\r\n            let users = JSON.parse(localStorage.getItem('users'));\r\n            for(let i = 0; i<users.length; i++){\r\n                if(users[i].Name === localStorage.getItem('currentUser')){\r\n                    if(users[i].Preferences && users[i].Preferences.length && users[i].Allergies&& users[i].Preferences){\r\n                        alreadySet = true;\r\n                        this.amountOfDislikes = users[i].Allergies.length;\r\n                        this.amountOfLikes = users[i].Preferences.length;\r\n                        break;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n        if(!alreadySet){\r\n            let list = [];\r\n        }\r\n        this.items = ['60-minutes-or-less', 'time-to-make', 'course', 'main-ingredient', 'cuisine', 'preparation', 'occasion', 'north-american', 'side-dishes', 'vegetables', 'mexican', 'easy', 'fall', 'holiday-event', 'vegetarian', 'winter', 'dietary', 'christmas', 'seasonal', 'squash', '30-minutes-or-less', 'breakfast', 'main-dish', 'pork', 'american', 'oven', 'kid-friendly', 'pizza', 'northeastern-united-states', 'meat', 'equipment', 'chili', 'crock-pot-slow-cooker', '4-hours-or-less', 'eggs-dairy', 'potatoes', 'dinner-party', 'easter', 'cheese', 'stove-top', 'new-years', 'thanksgiving', 'independence-day', 'st-patricks-day', 'valentines-day', 'inexpensive', 'brunch', 'superbowl', 'presentation', 'served-hot', 'weeknight', 'canning', 'condiments-etc', 'heirloom-historical', 'amish-mennonite', 'number-of-servings', 'technique', '15-minutes-or-less', 'low-protein', '5-ingredients-or-less', 'beverages', 'fruit', 'low-sodium', 'shakes', 'low-calorie', 'low-in-something', 'apples', 'served-cold', '3-steps-or-less', 'appetizers', 'canadian', 'vegan', 'freezer', 'south-west-pacific', 'hawaiian', 'spicy', 'copycat', 'pork-ribs', 'super-bowl', 'novelty', 'taste-mood', 'savory', 'sweet', 'pies-and-tarts', 'desserts', 'lunch', 'snacks', 'no-cook', 'refrigerator', 'frozen-desserts', 'pies', 'chocolate', 'breads', 'oamc-freezer-make-ahead', 'quick-breads', 'tropical-fruit', 'bananas', 'healthy', '1-day-or-more', 'comfort-food', 'berries', 'strawberries', 'beans', 'potluck', 'to-go', 'greens', 'collard-greens', 'pork-chops', 'southwestern-united-states', 'deep-fry', 'candy', 'beef', 'one-dish-meal', 'lactose', 'bisques-cream-soups', 'soups-stews', 'spring', 'food-processor-blender', 'free-of-something', 'cauliflower', 'small-appliance', 'beginner-cook', 'low-cholesterol', 'low-carb', 'healthy-2', 'spinach', 'low-saturated-fat', 'high-calcium', 'high-in-something', 'very-low-carbs', 'sauces', 'eggs', 'savory-sauces', 'asian', 'indian', 'herb-and-spice-mixes', 'cooking-mixes', 'peppers', 'poultry', 'chicken', 'gluten-free', 'californian', 'black-beans', 'grilling', 'picnic', 'cookies-and-brownies', 'bar-cookies', 'brownies', 'gifts', 'casseroles', 'ground-beef', 'wild-game', 'deer', 'low-fat', 'summer', 'toddler-friendly', 'mixer', 'clear-soups', 'salads', 'pasta', 'pasta-rice-and-grains', 'for-large-groups', 'muffins', 'sandwiches', 'cakes', 'nuts', 'pineapple', 'corn', 'german', 'european', 'yeast', 'italian', 'lasagna', 'omelets-and-frittatas', 'for-1-or-2', 'romantic', 'ramadan', 'chicken-breasts', 'diabetic', 'dips', 'barbecue', 'marinades-and-rubs', 'finger-food', 'infant-baby-friendly', 'roast', 'veal', 'garnishes', 'cheesecake', 'grains', 'wedding', 'kosher', 'high-protein', 'mushrooms', 'seafood', 'fish', 'tuna', 'saltwater-fish', 'elbow-macaroni', 'pancakes-and-waffles', 'midwestern', 'southern-united-states', 'chicken-thighs-legs', 'salmon', 'indonesian', 'soy-tofu', 'tempeh', 'spreads', 'beef-ribs', 'grapes', 'smoothies', 'bacon', 'broil', 'pacific-northwest', 'tomatoes', 'cocktails', 'no-shell-fish', 'squid', 'polish', 'chinese', 'steam', 'onions', 'british-columbian', 'broccoli', 'kwanzaa', 'meatloaf', 'simply-potatoes2', 'rolled-cookies', 'drop-cookies', 'cake-fillings-and-frostings', 'lettuces', 'stews', 'lentils', 'danish', 'scandinavian', 'swiss', 'swedish', 'french', 'from-scratch', 'microwave', 'granola-and-porridge', 'bread-machine', 'asparagus', 'gumbo', 'african', 'cajun', 'shrimp', 'creole', 'shellfish', 'savory-pies', 'salad-dressings', 'orange-roughy', 'leftovers', 'simply-potatoes', 'crab', 'mango', 'curries', 'egg-free', 'roast-beef', 'pork-sausage', 'brown-bag', 'turkey', 'whole-turkey', 'green-yellow-beans', 'beef-sausage', 'australian', 'rice', 'brown-rice', 'white-rice', 'long-grain-rice', 'caribbean', 'central-american', 'stuffings-dressings', 'english', 'spaghetti', 'coconut', 'quebec', 'freshwater-fish', 'catfish', 'middle-eastern', 'lebanese', 'ravioli-tortellini', 'steak', 'clams', 'rolls-biscuits', 'gelatin', 'greek', 'citrus', 'oranges', 'papaya', 'punch', 'pitted-fruit', 'peaches', 'moose', 'wings', 'pasta-shells', 'blueberries', 'fudge', 'celebrity', 'south-american', 'sweet-sauces', 'russian', 'pork-loins', 'ham', 'burgers', 'biscotti', 'peanut-butter', 'baja', 'halloween', 'dairy-free', 'high-fiber', 'zucchini', 'puddings-and-mousses', 'japanese', 'lemon', 'chick-peas-garbanzos', 'cobblers-and-crisps', 'lamb-sheep', 'flat-shapes', 'turkey-burgers', 'carrots', 'penne', 'micro-melanesia', 'yams-sweet-potatoes', 'cinco-de-mayo', 'native-american', 'artichoke', 'salsas', 'cupcakes', 'puerto-rican', 'stir-fry', 'hand-formed-cookies', 'spanish', 'steaks', 'irish', 'scones', 'oaxacan', 'lime', 'camping', 'thai', 'polynesian', 'melons', 'jewish-ashkenazi', 'hanukkah', 'rosh-hashana', 'iraqi', 'saudi-arabian', 'whole-chicken', 'sourdough', 'baking', 'medium-grain-rice', 'pakistani', 'scottish', 'chutneys', 'somalian', 'non-alcoholic', 'mardi-gras-carnival', 'ontario', 'raspberries', 'crusts-pastry-dough-2', 'coffee-cakes', 'memorial-day', 'tex-mex', 'south-african', 'passover', 'new-zealand', '', 'chowders', 'pressure-cooker', 'whitefish', 'halibut', 'bok-choys', 'pennsylvania-dutch', 'ice-cream', 'pears', 'scallops', 'pheasant', 'water-bath', 'stocks', 'tarts', 'chinese-new-year', 'chicken-livers', 'manicotti', 'szechuan', 'birthday', 'nut-free', 'fillings-and-frostings-chocolate', 'jams-and-preserves', 'unprocessed-freezer', 'cherries', 'chard', 'tilapia', 'colombian', 'welsh', 'short-grain-rice', 'kiwifruit', 'breakfast-eggs', 'eggs-breakfast', 'czech', 'filipino', 'turkey-breasts', 'cuban', 'perch', 'smoker', 'college', 'belgian', 'costa-rican', 'guatemalan', 'honduran', 'finnish', 'moroccan', 'a1-sauce', 'avocado', 'jellies', 'labor-day', 'iranian-persian', 'jewish-sephardi', 'dutch', 'pumpkin', 'cod', 'sole-and-flounder', 'plums', 'turkish', 'portuguese', 'soul', 'hungarian', 'georgian', 'brazilian', 'nigerian', 'ethiopian', 'fathers-day', 'sudanese', 'congolese', 'ecuadorean', 'mussels', 'peruvian', 'meatballs', 'egyptian', 'argentine', 'mahi-mahi', 'chilean', 'hidden-valley-ranch', 'dehydrator', 'crawfish', 'oatmeal', 'reynolds-wrap', 'malaysian', 'duck', 'rosh-hashanah', 'nepalese', 'eggplant', 'goose', 'icelandic', 'veggie-burgers', 'mothers-day', 'mashed-potatoes', 'chocolate-chip-cookies', 'vietnamese', 'elk', 'oysters', 'palestinian', 'rabbit', 'norwegian', 'lobster', 'main-dish-beef', 'beef-crock-pot', 'pot-roast', 'hunan', 'austrian', 'halloween-cocktails', 'libyan', 'april-fools-day', 'beef-organ-meats', 'beef-liver', 'angolan', 'korean', 'cantonese', 'whole-duck', 'halloween-cupcakes', 'halloween-cakes', 'ragu-recipe-contest', 'macaroni-and-cheese', 'trout', 'irish-st-patricks-day', 'bass', 'beijing', 'quail', 'pickeral', 'main-dish-chicken', 'bear', 'brewing', 'cambodian', 'beef-kidney', 'beef-sauces', 'spaghetti-sauce', 'heirloom-historical-recipes', 'pot-pie', 'dips-lunch-snacks', 'pressure-canning', 'main-dish-pork', 'pork-loins-roast', 'quiche', 'sugar-cookies', 'venezuelan', 'octopus', 'side-dishes-beans', 'beans-side-dishes', 'baked-beans', 'snacks-kid-friendly', 'snacks-sweet', 'duck-breasts', 'main-dish-pasta', 'pasta-salad', 'pasta-elbow-macaroni', 'namibian', 'mushroom-soup', 'beef-barley-soup', 'pork-crock-pot', 'crock-pot-main-dish', 'desserts-fruit', 'desserts-easy', 'lasagne', 'laotian', 'cabbage', 'prepared-potatoes', 'middle-eastern-main-dish', 'high-in-something-diabetic-friendly', 'dips-summer', 'black-bean-soup', 'bean-soup', 'served-hot-new-years', 'ham-and-bean-soup', 'lamb-sheep-main-dish', 'mongolian', 'for-large-groups-holiday-event', 'stews-poultry', 'pasta-rice-and-grains-elbow-macaroni', 'pork-loin', 'cranberry-sauce', 'marinara-sauce', 'breakfast-casseroles', 'breakfast-potatoes', 'main-dish-seafood', 'shrimp-main-dish', 'pumpkin-bread', 'bread-pudding', 'less_thansql:name_topics_of_recipegreater_than', 'chicken-crock-pot', 'chicken-stews', 'chicken-stew', 'Throw the ultimate fiesta with this sopaipillas recipe from Food.com.', 'roast-beef-main-dish', 'roast-beef-comfort-food'];\r\n\r\n        this.state = {\r\n            boxes: this.getItemLocal(\"boxes\"),\r\n            suggestionsLiked: [],\r\n            suggestionsDisliked: [],\r\n            textLiked: '',\r\n            textDisliked: ''\r\n        };\r\n\r\n        this.success = this.success.bind(this);\r\n        this.updateAccount = this.updateAccount.bind(this);\r\n\r\n    }\r\n\r\n\r\n    getItemLocal(name) {\r\n        return (JSON.parse(localStorage.getItem(name)))\r\n    }\r\n\r\n    getRender() {\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        let tempIndex = -1;\r\n        for (let i = users.length-1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                tempIndex = i;\r\n                localStorage.setItem(\"favorite\", JSON.stringify(false));\r\n                if (users[i].FirstTime){\r\n\r\n                    Swal.fire({\r\n                        title: 'Welcome!',\r\n                        text: \"Let's set you up! First, choose your preferences and things you dislike, like allergies for example.\",\r\n                        icon: 'info',\r\n                        confirmButtonText: 'Okay!'\r\n                    });\r\n\r\n                    users[i].FirstTime = false;\r\n                    localStorage.setItem('users', JSON.stringify(users));\r\n\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        let returnVal = [];\r\n        let returnList = [];\r\n        returnVal.push( <h3> Things you like </h3>);\r\n        const {textLiked} = this.state;\r\n        const {textDisliked} = this.state;\r\n\r\n        for (let i = 0; i < this.amountOfLikes; i++) {\r\n            returnList.push(<Checkbox name={users[tempIndex].Preferences[i]} checked={users[tempIndex].booleansPreferences[i]} id={i} prefs={true}/>)\r\n        }\r\n\r\n\r\n        returnVal.push(<div class={\"container\"}><ul class={\"ks-cboxtags\"}> {returnList} </ul></div>);\r\n        returnVal.push( <input className=\"textBoxAdd\" value={textLiked}  onChange={this.onTextChangedLiked}  type={'text'}/>);\r\n        returnVal.push(this.renderSuggestionsLiked());\r\n        returnVal.push(<input className=\"addButton\" type={\"submit\"} value={\"Add something you like\"} onClick={() =>this.doChange(textLiked, 1)}/>);\r\n        returnVal.push(<h3> Things you dislike </h3>);\r\n        returnList = [];\r\n        for (let i = 0; i <  this.amountOfDislikes; i++) {\r\n            returnList.push(<Checkbox name={users[tempIndex].Allergies[i]} checked={users[tempIndex].booleanAllergies[i]} id={-i-1} prefs={false}/>)\r\n        }\r\n\r\n        returnVal.push(<div class={\"container\"}><ul class={\"ks-cboxtags\"}> {returnList} </ul></div>);\r\n        returnVal.push( <input className=\"textBoxAdd\" value={textDisliked}  onChange={this.onTextChangedDisliked}  type={'text'}/>);\r\n        returnVal.push(this.renderSuggestionsDisliked());\r\n        returnVal.push(<input className=\"addButton\" type={\"submit\"} value={\"Add something you dislike\"} onClick={() =>this.doChange(textDisliked, 2)}/>);\r\n        return returnVal\r\n\r\n    }\r\n\r\n    success() {\r\n\r\n\r\n    }\r\n    updateAccount(){\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for(let i = 0; i<users.length; i++){\r\n            if(users[i].Name === localStorage.getItem('currentUser')){\r\n                //let prefAndAllergies = JSON.parse(localStorage.getItem('boxes'));\r\n                //users[i].booleanAllergies = prefAndAllergies.slice(0, this.amountOfLikes);\r\n                //users[i].booleansPreferences = prefAndAllergies.slice(this.amountOfLikes+1, this.amountOfLikes+this.amountOfDislikes);\r\n                break;\r\n\r\n            }\r\n        }\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n        this.success();\r\n    }\r\n\r\n    renderButton() {\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for (let i = users.length -1; i>=0; i--) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                if (users[i].FirstTime1){\r\n\r\n                    localStorage.setItem('users', JSON.stringify(users));\r\n                   return <Link to=\"/recommendations\"><button className=\"NextButton Green\" onClick={this.updateAccount}><b>Recommend!</b></button></Link>\r\n\r\n                }\r\n                else\r\n                    return <Link to=\"/recommendations\"><button className=\"NextButton Green\" onClick={this.updateAccount}><b>Recommend!</b></button></Link>\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    onTextChangedLiked = (e) => {\r\n        const value = e.target.value;\r\n        let suggestions = [];\r\n        if(value.length > 0){\r\n            const regex = new RegExp(`^${value}`, 'i');\r\n            suggestions = this.items.sort().filter(v => regex.test(v));\r\n        }\r\n        this.setState(() => ({suggestionsLiked: suggestions, textLiked: value}));\r\n    }\r\n    onTextChangedDisliked = (e) => {\r\n        const value = e.target.value;\r\n        let suggestions = [];\r\n        if(value.length > 0){\r\n            const regex = new RegExp(`^${value}`, 'i');\r\n            suggestions = this.items.sort().filter(v => regex.test(v));\r\n        }\r\n\r\n        this.setState(() => ({suggestionsDisliked: suggestions, textDisliked: value}));\r\n    }\r\n    suggestionSelectedLiked(value){\r\n\r\n        this.setState(()=>({\r\n            textLiked: value,\r\n            suggestionsLiked: []\r\n        }))\r\n        this.state.textLiked = value;\r\n    }\r\n    suggestionSelectedDisliked(value){\r\n        this.setState(()=>({\r\n            textDisliked: value,\r\n            suggestionsDisliked: []\r\n        }))\r\n        this.state.textDisliked = value;\r\n    }\r\n    renderSuggestionsLiked(){\r\n\r\n        const {suggestionsLiked} = this.state;\r\n\r\n        if(suggestionsLiked.length === 0 ){\r\n            return null;\r\n        }\r\n        return(\r\n            <div className={\"AutoCompleteText\"}>\r\n            <ul>\r\n                {suggestionsLiked.map((i) => <li onClick={() =>this.suggestionSelectedLiked(i)}>{i}</li>)}\r\n            </ul>\r\n            </div>\r\n        );\r\n    }\r\n    renderSuggestionsDisliked(){\r\n\r\n        const {suggestionsDisliked} = this.state;\r\n\r\n        if(suggestionsDisliked.length === 0 ){\r\n            return null;\r\n        }\r\n        return(\r\n            <div className={\"AutoCompleteText\"}>\r\n                <ul>\r\n                    {suggestionsDisliked.map((i) => <li onClick={() =>this.suggestionSelectedDisliked(i)}>{i}</li>)}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n    doChange(item, buttonNb){\r\n        let items = this.items;\r\n        let users = JSON.parse(localStorage.getItem('users'));\r\n        for(let i = 0; i<users.length; i++) {\r\n            if (users[i].Name === localStorage.getItem('currentUser')) {\r\n                if(items.includes(item) && item!==''){\r\n                    if(buttonNb === 1){\r\n                        users[i].Preferences.push(item);\r\n                        users[i].booleansPreferences.push(true);\r\n                        this.amountOfLikes = this.amountOfLikes + 1;\r\n                        this.setState(() => ({textLiked: item}));\r\n\r\n                    }\r\n                    else if(buttonNb === 2){\r\n                        users[i].Allergies.push(item);\r\n                        users[i].booleanAllergies.push(true);\r\n                        this.amountOfDislikes = this.amountOfDislikes + 1;\r\n                        this.setState(() => ({textDisliked: item}));\r\n\r\n                    }\r\n                    items.splice(this.items.indexOf(item),1);\r\n                    this.items = items\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n        localStorage.setItem('users', JSON.stringify(users));\r\n    }\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div className=\"App\">\r\n                <div className=\"PageHeader\"> <b className=\"PageTitle\">Your profile</b>\r\n                    <Link to=\"/profile\"><button className=\"profile\" ><b> </b></button></Link>\r\n                    <Link to=\"/recommendations\"><button onClick={() => {localStorage.setItem(\"favorite\", JSON.stringify(true));}} title=\"favorites\" className=\"favorites\" ><b> </b></button></Link>\r\n                    <Link to=\"/recommendations\"><button onClick={() => localStorage.setItem(\"favorite\", JSON.stringify(false))} title=\"recommends\" className=\"toRecommendButton\" ><b> </b></button></Link>\r\n\r\n                </div>\r\n                <header className=\"App-header\">\r\n                    {this.getRender()}\r\n                    {this.renderButton()}\r\n\r\n\r\n                </header>\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\n// eslint-disable-next-line\r\nimport { HashRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport Home from './pages/home';\r\nimport Recommendations from './pages/recommendations';\r\nimport TinderCards from './pages/tinderCards';\r\nimport UserSelection from './pages/userSelection';\r\nimport GettingToKnow from './pages/gettingToKnow';\r\nimport SwipeTest from './pages/SwipeTest';\r\nimport RecommendationsA from \"./pages/recommendationsA\";\r\n\r\nimport './App.css';\r\nimport Profile from \"./pages/profile\";\r\n\r\n\r\n\r\nclass App extends Component {\r\n\r\n\r\n\r\n\r\n    sendmessage(message){\r\n        let socket = new WebSocket(\"ws://localhost:9000\");\r\n        //get an amount of recommends\r\n        // account is acount factors\r\n        //amount is the number of things to recommend\r\n        //prolist is the list of previously liked recipes each as a string of the name\r\n        let payload = {\r\n                action: \"Recommend\",\r\n                account: {vegan: 1, easy: 1, preparation: 1},\r\n                amount: 3,\r\n                prolist: [{name:\"hot tamale  burgers\", rating:0.5},{name:\"hot tamale  burgers\", rating:0.5}]\r\n            }\r\n        ;\r\n\r\n        //example output\r\n        let recipeoutput= {\r\n           // recommends1=[{name:\"hot tamale  burgers\"}];\r\n\r\n        }\r\n\r\n        //get similar elements\r\n        //recipe is the name ofe recipe to get similar to\r\n        //prolist is the list of previously liked recipes each as a string of the name\r\n        let Similar={\r\n            action: \"Similar\",\r\n            recipe: \"hot tamale  burgers\",\r\n            prolist: [{name:\"hot tamale  burgers\", rating:0.5}]\r\n        }\r\n        //get the recipe of an element\r\n        //recipe is the name of the recipe to get the similar element to\r\n        let Recipe={\r\n            action: \"Recipe\",\r\n            recipe: \"little kick  jalapeno burgers\"\r\n\r\n        }\r\n        this.socket.send(message);\r\n    }\r\n\r\n    startwebsocket(){\r\n        this.socket=new WebSocket(\"ws://localhost:9000\");\r\n\r\n        let payload={\r\n            action: \"initialise\"\r\n        }\r\n        this.socket.onopen = () => {\r\n            this.socket.send(JSON.stringify(payload));\r\n            // do something after connection is opened\r\n        }\r\n        this.socket.onmessage = (message) => {\r\n            this.initialised=true;\r\n\r\n            // handle message from backend\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.initialised=false;\r\n        this.startwebsocket();\r\n        /*\r\n        while(!this.initialised){\r\n            //await sleep(500);\r\n        }\r\n        */\r\n\r\n\r\n\r\n        return (\r\n            <Router basename=\"/react-auth-ui/\">\r\n                <div className=\"App\">\r\n                    <Switch>\r\n                        <Route exact path=\"/test\" component={SwipeTest}></Route>\r\n                        <Route exact path=\"/\" component={UserSelection}></Route>\r\n                        <Route exact path=\"/recommendations\" component={Recommendations}></Route>\r\n                        <Route exact path=\"/profile\" component={Profile}></Route>\r\n                        <Route exact path=\"/tinderCards\" component={TinderCards}></Route>\r\n                        <Route exact path=\"/home\" component={Home}></Route>\r\n                        <Route exact path=\"/gettingToKnow\" component={Recommendations}></Route>\r\n                        <Route exact path=\"/recommendationsA\" component={RecommendationsA}></Route>\r\n\r\n                    </Switch>\r\n                </div>\r\n            </Router>\r\n        );\r\n    }\r\n\r\n    static socketchange(f) {\r\n        this.socket.onopen=f;\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
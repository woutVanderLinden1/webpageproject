(this.webpackJsonprecommender=this.webpackJsonprecommender||[]).push([[0],{155:function(e,t,a){},182:function(e,t,a){e.exports=a(337)},187:function(e,t,a){},188:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(27),r=a.n(s),o=(a(187),a(10)),l=a(11),c=a(12),m=a(13),u=a(14),d=a(8),g=a(41),h=(a(188),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"Circle"}),n.a.createElement("h1",{className:"fadeInLeft1"},"Welcome!"),n.a.createElement("p",{className:"textLanding fadeInLeft2"},"Let's get you started."),n.a.createElement(d.b,{to:"/profile"},n.a.createElement("button",{className:"StartButton fadeInLeft3"},n.a.createElement("b",null,"CONTINUE"))),n.a.createElement("div",{className:"plate1 fadeInRight1"}," "),n.a.createElement("div",{className:"plate2 fadeInRight2"}," "),n.a.createElement("div",{className:"plate3 fadeInRight3"}," "))}}]),t}(n.a.Component)),p=a(6),f=a(5),v=a(49),k=(a(81),a(82),a(18)),b=a(46),E=a.n(b),N=a(40),S=(a(62),a(4)),w=a.n(S),y=a(51),I=a(341),O=a(50),x=a.n(O);function T(){var e=Object(v.a)(["\n  display: flex;\n  transition: ",";\n  transform: ",";\n"]);return T=function(){return e},e}y.a.div(T(),(function(e){return e.sliding?"none":"transform 1s ease"}),(function(e){return e.sliding?"PREV"===e.dir?"translateX(calc(2 * (-80% - 20px)))":"translateX(0%)":"translateX(calc(-80% - 20px))"}));function C(e){var t=e;try{t=e[0].toUpperCase()+e.slice(1)}catch(a){}return t}function F(e){var t,a;return e<50?(t=255,a=Math.round(5.1*e)):(a=255,t=Math.round(510-5.1*e)),"#"+("000000"+(65536*t+256*a+0).toString(16)).slice(-6)}var j=function(e){return new Promise((function(t){return setTimeout(t,e)}))},L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={foods:[],tags:[],images:[],recipe:[],nutrition:[],ingredients:[],similar:[]},e.socket=e.initialiseSocket(),e.sendable=!1,e.generateMeal=e.generateMeal.bind(Object(f.a)(e)),e.getRecommendations=e.getRecommendations.bind(Object(f.a)(e)),e.switchViews=e.switchViews.bind(Object(f.a)(e)),e.generateView=e.generateView.bind(Object(f.a)(e)),e.resetSwipes=e.resetSwipes.bind(Object(f.a)(e)),e.generateFavorites=e.generateFavorites.bind(Object(f.a)(e)),e.goToFavorites=e.goToFavorites.bind(Object(f.a)(e)),e.goToRecommends=e.goToRecommends.bind(Object(f.a)(e)),e.generateBadges=e.generateBadges.bind(Object(f.a)(e)),e.swipeItem=e.swipeItem.bind(Object(f.a)(e)),e.saveAlert=e.saveAlert.bind(Object(f.a)(e)),e.createCards=e.createCards.bind(Object(f.a)(e)),e.socket.onopen=function(){for(var t=JSON.parse(localStorage.getItem("users")),a={action:"initialise"},i=t.length-1;i>=0;i--){if(t[i].Name===localStorage.getItem("currentUser"))a={action:"initialise",favorites:t[i].Liked,name:localStorage.getItem("currentUser")}}e.socket.send(JSON.stringify(a)),e.sendable||(e.loading=!1,e.sendable=!0,e.state.favorite?e.goToFavorites():e.getRecommendations())},e.state.favorite=JSON.parse(localStorage.getItem("favorite")),e.socket.onmessage=function(t){var a=JSON.parse(t.data);switch(console.log(a),a.action){case"Recommends":e.loading&&(e.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3}));for(var i=JSON.parse(localStorage.getItem("users")),n=i.length-1;n>=0;n--)i[n].Name===localStorage.getItem("currentUser")&&(i[n].FirstTime1?(w.a.fire({text:"Drag an item left to dislike it, or right to like it.",icon:"info",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.",icon:"info",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. ",icon:"info",confirmButtonText:"Okay!"})}))})),i[n].FirstTime1=!1,i[n].FirstTime2=!1,localStorage.setItem("users",JSON.stringify(i))):i[n].FirstTime2&&(w.a.fire({title:"You're getting the hang of this!",icon:"success",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.",icon:"info",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. ",icon:"info",confirmButtonText:"Okay!"})}))})),i[n].FirstTime2=!1,localStorage.setItem("users",JSON.stringify(i))));var s=a.recommends,r=a.tags,o=a.images,l=e.filterfoods(s,r,o),c=l[0],m=l[1],u=l[2];e.setState({tags:m}),e.setState({foods:c}),e.setState({images:u}),localStorage.setItem("viewInit",1),1==JSON.parse(localStorage.getItem("viewInit"))&&1!=e.state.initialised&&(e.state.view=0,j(5).then((function(){if(e.state.view=JSON.parse(localStorage.getItem("viewInit")),1==e.state.view){e.state.swipednumber=0;var t=(e.state.view+1)%2;localStorage.setItem("view",t),e.state.initialised=!0,e.setState({view:1})}})));break;case"favorites":if(e.loading){e.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3});for(var d=JSON.parse(localStorage.getItem("users")),g=d.length-1;g>=0;g--)d[g].Name===localStorage.getItem("currentUser")&&d[g].FirstTime3&&(w.a.fire({title:"Do not lose any of your liked recipes!",text:"You can find them here!",icon:"info"}),d[g].FirstTime3=!1,localStorage.setItem("users",JSON.stringify(d)))}e.setState({favorites:a.favorites});break;case"Similar":e.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3}),e.setState({similar:a.similar});break;case"Recipe":e.setState({recipe:a.recipe});break;case"Nutrition":e.setState({nutrition:a.nutrition});break;case"Ingredients":e.setState({ingredients:a.ingredients})}},void 0===e.state.swipednumber&&(e.state.swipednumber=0),e.state.favorite&&e.goToFavorites(),void 0!=e.state.initialised&&0!=e.state.initialised||(e.state.view=0),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"fakemessage",value:function(e){var t=this,a=JSON.parse(e.data);switch(console.log(a),a.action){case"Recommends":this.loading&&(this.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3}));for(var i=JSON.parse(localStorage.getItem("users")),n=i.length-1;n>=0;n--)i[n].Name===localStorage.getItem("currentUser")&&(i[n].FirstTime1?(w.a.fire({text:"Drag an item left to dislike it, or right to like it.",icon:"info",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.",icon:"info",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. ",icon:"info",confirmButtonText:"Okay!"})}))})),i[n].FirstTime1=!1,i[n].FirstTime2=!1,localStorage.setItem("users",JSON.stringify(i))):i[n].FirstTime2&&(w.a.fire({title:"You're getting the hang of this!",icon:"success",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"To see the recipe of the dish or the nutritional values, press the small buttons on the cards.",icon:"info",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:"You can navigate to your profile and to your liked items by clicking on the icons on top of the page. ",icon:"info",confirmButtonText:"Okay!"})}))})),i[n].FirstTime2=!1,localStorage.setItem("users",JSON.stringify(i))));var s=a.recommends,r=a.tags,o=a.images,l=this.filterfoods(s,r,o),c=l[0],m=l[1],u=l[2];this.setState({tags:m}),this.setState({foods:c}),this.setState({images:u}),localStorage.setItem("viewInit",1),1==JSON.parse(localStorage.getItem("viewInit"))&&1!=this.state.initialised&&(this.state.view=0,j(5).then((function(){if(t.state.view=JSON.parse(localStorage.getItem("viewInit")),1==t.state.view){t.state.swipednumber=0;var e=(t.state.view+1)%2;localStorage.setItem("view",e),t.state.initialised=!0,t.setState({view:1})}})));break;case"favorites":if(this.loading){this.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3});for(var d=JSON.parse(localStorage.getItem("users")),g=d.length-1;g>=0;g--)d[g].Name===localStorage.getItem("currentUser")&&d[g].FirstTime3&&(w.a.fire({title:"Do not lose any of your liked recipes!",text:"You can find them here!",icon:"info"}),d[g].FirstTime3=!1,localStorage.setItem("users",JSON.stringify(d)))}this.setState({favorites:a.favorites});break;case"Similar":this.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3}),this.setState({similar:a.similar});break;case"Recipe":this.setState({recipe:a.recipe});break;case"Nutrition":this.setState({nutrition:a.nutrition});break;case"Ingredients":this.setState({ingredients:a.ingredients})}}},{key:"filterfoods",value:function(e,t,a){for(var i=function(e,t,a){for(var i,n,s=e.length;0!==s;)n=Math.floor(Math.random()*s),i=e[s-=1],e[s]=e[n],e[n]=i,i=t[s],t[s]=t[n],t[n]=i,i=a[s],a[s]=a[n],a[n]=i;var r=[];return r.push(e,t,a),r}(e,t,a),n=i[0],s=i[1],r=i[2],o=null,l=null,c=JSON.parse(localStorage.getItem("users")),m=c.length-1;m>=0;m--)c[m].Name===localStorage.getItem("currentUser")&&(o=c[m].Liked,l=c[m].Disliked);null==o&&(o=[]),null==l&&(l=[]);for(var u=[],d=[],g=[],h=0,p=0;h<7;p++)""===n[p]||o.includes(n[p])||l.includes(n[p])||(h++,u.push(n[p]),d.push(s[p]),g.push(r[p]));var f=[];return f.push(u,d,g),f}},{key:"initialiseSocket",value:function(){if(void 0!==this.socket)return this.socket;this.setState({favorite:!1}),this.state.noserver=!0}},{key:"getInfo",value:function(e){this.sendRecipe(e),this.sendNuttritionSimilar(e)}},{key:"sendRecipe",value:function(e){e=e.toLowerCase(),console.log("send recipe"),this.socket=this.initialiseSocket();var t={action:"Recipe",recipe:e},a={action:"Ingredients",name:e};void 0!==this.sendable&&this.sendable&&(this.socket.send(JSON.stringify(t)),this.socket.send(JSON.stringify(a)));this.fakemessage({recipe:["Stir everything together in a 4 1/2 quart or larger slow cooker.","Set power to low and cook for 6 hours or longer (we usually let this cook for 10 hours).","Serve with cheese or sour cream if you wish."],action:"Recipe"});this.fakemessage({ingredients:["1 (15 ounce) can black beans, drained and rinsed (or 1 1/2 - 2 cups cooked beans)","1 (15 ounce) can navy beans, drained and rinsed (or 1 1/2 - 2 cups cooked beans)","1 (14 1/2 ounce) can diced tomatoes","1 (14 1/2 ounce) can diced tomatoes and green chilies or (14 1/2 ounce) can diced tomatoes with jalapenos","1 cup onion, chopped","6 garlic cloves, minced","2 tablespoons chili powder","1 tablespoon sweet Hungarian paprika","1 tablespoon dried cilantro (optional)","1/2 teaspoon fresh coarse ground black pepper","1 teaspoon chipotle chile, minced"],action:"Ingredients"})}},{key:"sendNuttritionSimilar",value:function(e){e=e.toLowerCase(),this.socket=this.initialiseSocket();var t={action:"Nutrition",name:e};void 0!==this.sendable&&this.sendable&&this.socket.send(JSON.stringify(t));for(var a={action:"Similar",recipe:e,prolist:[]},i=JSON.parse(localStorage.getItem("users")),n=null,s=null,r=i.length-1;r>=0;r--)i[r].Name===localStorage.getItem("currentUser")&&(n=i[r].Liked,s=i[r].Disliked);null==n&&(n=[]),null==s&&(s=[]);for(var o=[],l=0;l<n.length;l++)if(n[l]!=e){var c={};c.name=n[l],c.rating=1,o.push(c)}for(var m=0;m<s.length;m++){var u={};u.name=s[m],u.rating=-1,o.push(u)}a.prolist=o,this.state.proto=!this.state.proto,this.sendable&&this.state.proto&&(this.socket.send(JSON.stringify(a)),w.a.fire({title:"Loading...",text:"Please wait",showConfirmButton:!1,allowOutsideClick:!1}));this.fakemessage({nutrition:["123.1","2.0","16.0","0.0","11.0","1.0","8.0"],action:"Nutrition"});this.fakemessage({similar:[{image:"https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/11/05/46/picMI3hkn.jpg",matchfactor:.7333333333333333,name:"black   white vegetarian chipotle chili  crock pot"},{image:"https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/27/17/5/27175.jpg",matchfactor:.4666666666666667,name:"chocolate raspberry cheesecake trifle"},{image:"https://images.unsplash.com/photo-1542384557-0824d90731ee?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80",matchfactor:.4,name:"oriental crunch burgers"},{image:"https://images.unsplash.com/photo-1552246098-2a991afa1c6c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80",matchfactor:-.4,name:"egg  ham and cheese open faced english muffin"},{image:"https://images.unsplash.com/photo-1550825570-8ae96cf12d87?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80",matchfactor:-.5333333333333333,name:"easy mango salsa"}],action:"Similar"})}},{key:"getFavorites",value:function(){for(var e=JSON.parse(localStorage.getItem("users")),t=null,a=e.length-1;a>=0;a--)e[a].Name===localStorage.getItem("currentUser")&&(t=e[a].Liked);null==t&&(t=[]);for(var i={action:"Favorites",prolist:[{name:"hot tamale  burgers",rating:.5}]},n=(JSON.parse(localStorage.getItem("boxes")),[]),s=0;s<t.length;s++){var r={};r.name=t[s],r.rating=1,n.push(r)}i.prolist=n,console.log(n),console.log(i),this.sendable&&(this.socket.send(JSON.stringify(i)),w.a.fire({title:"Loading...",text:"Please wait",showConfirmButton:!1,allowOutsideClick:!1}),this.loading=!0);this.fakemessage({favorites:[{image:"https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/11/05/46/picMI3hkn.jpg",name:"black   white vegetarian chipotle chili  crock pot",tags:["vegan","vegetarian","inexpensive"]},{image:"https://images.unsplash.com/photo-1542384557-0824d90731ee?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80",name:"oriental crunch burgers",tags:["oven","meat"]},{image:"https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/27/17/5/27175.jpg",name:"chocolate raspberry cheesecake trifle",tags:["vegetarian","desserts"]}],action:"favorites"})}},{key:"getRecommendations",value:function(){for(var e=JSON.parse(localStorage.getItem("users")),t=-1,a=null,i=null,n=e.length-1;n>=0;n--)if(e[n].Name===localStorage.getItem("currentUser")){for(t=n,a=[];a.size<e[n].Liked.Length||a.size<7;){var s=Math.random(e[n].Liked.length);a.includes(e[n].Liked[s],0)&&a.push(e[n].Liked[s])}for(i=[];i.size<e[n].Disliked.Length||i.size<5;){var r=Math.random(e[n].DisLiked.length);i.includes(e[n].Disliked[r],0)&&i.push(e[n].Disliked[r])}}null==a&&(a=[]),null==i&&(i=[]);var o={action:"Recommend",account:{vegan:1,easy:1,preparation:1},amount:7,prolist:[{name:"hot tamale  burgers",rating:.5}]},l=7;null!=a&&void 0!==a&&(l+=a.length),null!=i&&void 0!==i&&(l+=i.length),o.amount=l;for(var c=e[t].Preferences,m=e[t].booleansPreferences,u=0;u<c.length;u++)c[u]=c[u].toLowerCase();for(var d={},g=0;g<c.length;g++)!0===m[g]&&(d[c[g]]=1);console.log(d),o.account=d,console.log(o);for(var h=[],p=0;p<a.length;p++){var f={};f.name=a[p],f.rating=1,h.push(f)}for(var v=0;v<i.length;v++){var k={};k.name=i[v],k.rating=-1,h.push(k)}o.prolist=h,console.log(h),o.account=d,console.log(o),console.log(o),this.sendable&&(this.socket.send(JSON.stringify(o)),w.a.fire({title:"Loading...",text:"Please wait",showConfirmButton:!1,allowOutsideClick:!1}),this.state.initialised=!1,this.loading=!0);this.fakemessage({action:"Recommends",images:["https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/18/66/50/pic7Hlb5A.jpg","https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/26/47/02/picTs7xCP.jpg","https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/68/16/0/picHY17iL.jpg","https://images.unsplash.com/photo-1467630144534-da2b634ce269?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80","https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/31/95/96/picQRQQwF.jpg","https://images.unsplash.com/photo-1464052259809-c19ec2ddfc5f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80","https://img.sndimg.com/food/image/upload/w_555,h_416,c_fit,fl_progressive,q_95/v1/img/recipes/31/16/97/piczU9Utc.jpg"],recommends:["cocoa pebbles cereal cookies","ana s asian ny strip steak","pb j energy oat bars","pistachio pudding pie","kittencal s chicken parmesan  low fat and delicious","tilapia tatsuta age","wisconsin cheese soup"],tags:[["desserts"],["meat"],["oven","vegetarian","desserts"],["desserts"],["oven","meat"],["fish"],["meat"]]})}},{key:"nutritionalPopup",value:function(e){var t=["Carbs","Total Fats","Sugar","Sodium","Protein","Saturated Fats","Carbohydrates"],a=this.getNutritionInfo(e),i=[],s=[],r=[],o=[],l=this.getExplanation(),c=C(e);if(void 0!==a)for(var m=0;m<a.length;m++)s.push(n.a.createElement("div",{className:"popupText"},t[m],n.a.createElement("br",null))),r.push(n.a.createElement("div",{className:"popupText"},a[m],n.a.createElement("br",null)));var u=!0;if(void 0!==l)for(var d=0;d<l.length;d++){var g=Math.floor(100*l[d].matchfactor),h=F(g);g>=60&&(u=!1,o.push(n.a.createElement("div",{className:"popupText2"},n.a.createElement("div",{className:"container2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:this.goToFavorites,title:l[d].name,align:"left",src:l[d].image,alt:"Food"}),n.a.createElement("button",{className:"OnTopButton",style:{backgroundColor:h}},g,"%")),n.a.createElement("br",null))))}return u?i.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},s),n.a.createElement("div",{className:"textcolumn2"},r))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"You did not try anything like this! Try it out!",n.a.createElement("br",null))))):i.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},s),n.a.createElement("div",{className:"textcolumn2"},r))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"Because you liked:",n.a.createElement("br",null)),o))),[n.a.createElement(k.a,{modal:!0,trigger:n.a.createElement("button",{title:"nutrition",className:"IconLayout NutritionIcon"})},n.a.createElement("div",{className:"popUp2"},n.a.createElement("div",{className:"popupHeader"},"Nutritional info for",n.a.createElement("br",null),c),n.a.createElement("br",null),i))]}},{key:"recipePopup",value:function(e,t){var a=this,i=this.getRecipe(),s=[],r=this.getIngredients(),o=[],l=[],c=C(e);if(void 0!==r)for(var m=0;m<r.length;m++)l.push(n.a.createElement("div",{className:"popupText"},r[m],n.a.createElement("br",null)));if(void 0!==i)for(var u=0;u<i.length;u++)s.push(n.a.createElement("div",{className:"popupRecipeText"},u+1,". ",i[u],n.a.createElement("br",null)));o.push(n.a.createElement("div",{className:"row:after"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"rowingredi"},n.a.createElement("div",{className:"popupTextTitle"},"Ingredients:",n.a.createElement("br",null)),l),n.a.createElement("div",{className:"row2"},n.a.createElement("img",{className:"FoodPhotoLarge",align:"left",src:t,alt:"Food"}))),n.a.createElement("div",{className:"column2"},n.a.createElement("div",{className:"reciperow"},n.a.createElement("div",{className:"popupTextTitleRecipe"},"Steps:",n.a.createElement("br",null)),s))));var d=[];return d.push(n.a.createElement(k.a,{className:"poptry",modal:!0,trigger:n.a.createElement("button",{title:"recipe",className:"IconLayout RecipeIcon",onClick:function(){return a.sendRecipe(e)}}),position:"right center"},n.a.createElement("div",{className:"popUp2"},n.a.createElement("div",{className:"popupHeader"},"Recipe for",n.a.createElement("br",null),c),n.a.createElement("br",null),o))),d}},{key:"recipePopupForTinder",value:function(e,t){var a,i=this,s=this.getRecipe(),r=[],o=this.getIngredients(),l=[],c=[],m=C(e);if(void 0!==o)for(var u=0;u<o.length;u++)c.push(n.a.createElement("div",{className:"popupText"},o[u],n.a.createElement("br",null)));if(void 0!==s)for(var d=0;d<s.length;d++)r.push(n.a.createElement("div",{className:"popupRecipeText"},d+1,". ",s[d],n.a.createElement("br",null)));l.push(n.a.createElement("div",{className:"row:after"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"rowingredi"},n.a.createElement("div",{className:"popupTextTitle"},"Ingredients:",n.a.createElement("br",null)),c),n.a.createElement("div",{className:"row2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:function(){return i.setState({open:!1})},align:"left",src:t,alt:"Food"}))),n.a.createElement("div",{className:"column2"},n.a.createElement("div",{className:"reciperow"},n.a.createElement("div",{className:"popupTextTitleRecipe"},"Steps:",n.a.createElement("br",null)),r))));var g=[];return g.push(n.a.createElement("div",null,n.a.createElement("button",(a={title:"recipe",className:"RecipeButton"},Object(p.a)(a,"title","recipe"),Object(p.a)(a,"align","left"),Object(p.a)(a,"onClick",(function(){i.sendRecipe(e),i.setState({opened:e}),i.logAction("get recipe",e)})),Object(p.a)(a,"src",t),a)),n.a.createElement(k.a,{open:this.state.opened==e,onClick:function(){return i.setState({opened:"none"})},closeOnDocumentClick:!0,position:"right center"},n.a.createElement("div",{className:"popUp3",onClick:function(){i.setState({opened:"none"}),i.logAction("get recipe",e)}},n.a.createElement("div",{className:"popupHeader",onClick:function(){return i.setState({opened:"none"})}},"Recipe for",n.a.createElement("br",null),m),n.a.createElement("br",null),l)))),g}},{key:"recipePopupFromImage",value:function(e,t){var a=this,i=this.getRecipe(),s=[],r=this.getIngredients(),o=[],l=[],c=C(e);if(void 0!==r)for(var m=0;m<r.length;m++)l.push(n.a.createElement("div",{className:"popupText"},r[m],n.a.createElement("br",null)));if(void 0!==i)for(var u=0;u<i.length;u++)s.push(n.a.createElement("div",{className:"popupRecipeText"},u+1,". ",i[u],n.a.createElement("br",null)));o.push(n.a.createElement("div",{className:"row:after"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"rowingredi"},n.a.createElement("div",{className:"popupTextTitle"},"Ingredients:",n.a.createElement("br",null)),l),n.a.createElement("div",{className:"row2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:function(){return a.setState({open:!1})},align:"left",src:t,alt:"Food"}))),n.a.createElement("div",{className:"column2"},n.a.createElement("div",{className:"reciperow"},n.a.createElement("div",{className:"popupTextTitleRecipe"},"Steps:",n.a.createElement("br",null)),s))));var d=[];return d.push(n.a.createElement("div",null,n.a.createElement("img",{className:"FoodPhotoTinder",title:"recipe",align:"left",onClick:function(){a.sendRecipe(e),a.setState({open:!0})},src:t}),n.a.createElement(k.a,{open:!1,onClick:function(){return a.setState({open:!1})},closeOnDocumentClick:!0,position:"right center"},n.a.createElement("div",{className:"popUp3",onClick:function(){return a.setState({open:!1})}},n.a.createElement("div",{className:"popupHeader",onClick:function(){return a.setState({open:!1})}},"Recipe for",n.a.createElement("br",null),c),n.a.createElement("br",null),o)))),d}},{key:"nutritionalPopupForTinder",value:function(e,t){var a,i=this,s=["Carbs","Total Fats","Sugar","Sodium","Protein","Saturated Fats","Carbohydrates"],r=this.getNutritionInfo(e),o=[],l=[],c=[],m=[],u=this.getExplanation(),d=C(e);if(void 0!==r)for(var g=0;g<r.length;g++)l.push(n.a.createElement("div",{className:"popupText"},s[g],n.a.createElement("br",null))),c.push(n.a.createElement("div",{className:"popupText"},r[g],n.a.createElement("br",null)));var h=!0;if(void 0!==u)for(var f=0;f<u.length;f++){var v=Math.floor(100*u[f].matchfactor),b=F(v);v>=60&&(h=!1,m.push(n.a.createElement("div",{className:"popupText2"},n.a.createElement("div",{className:"container2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:this.goToFavorites,title:u[f].name,align:"left",src:u[f].image,alt:"Food"}),n.a.createElement("button",{className:"OnTopButton",style:{backgroundColor:b}},v,"%")),n.a.createElement("br",null))))}h?o.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},l),n.a.createElement("div",{className:"textcolumn2"},c))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"You did not try anything like this! Try it out!",n.a.createElement("br",null))))):o.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},l),n.a.createElement("div",{className:"textcolumn2"},c))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"Because you liked:",n.a.createElement("br",null)),m)));var E=[];return E.push(n.a.createElement("div",null,n.a.createElement("button",(a={title:"recipe",className:"NutritionButton"},Object(p.a)(a,"title","Nutrition"),Object(p.a)(a,"align","left"),Object(p.a)(a,"onClick",(function(){i.sendNuttritionSimilar(e),i.setState({nutritionopened:e}),i.logAction("get nutritional values",e)})),Object(p.a)(a,"src",t),a)),n.a.createElement(k.a,{open:this.state.nutritionopened==e,onClick:function(){return i.setState({nutritionopened:"none"})},closeOnDocumentClick:!0,position:"right center"},n.a.createElement("div",{className:"popUp3",onClick:function(){return i.setState({nutritionopened:"none"})}},n.a.createElement("div",{className:"popupHeader",onClick:function(){i.setState({nutritionopened:"none"}),i.logAction("get nutritional values",e)}},"Recipe for",n.a.createElement("br",null),d),n.a.createElement("br",null),o)))),E}},{key:"getIngredients",value:function(e){return this.state.ingredients}},{key:"getRecipe",value:function(e){return this.state.recipe}},{key:"getNutritionInfo",value:function(e){return this.state.nutrition}},{key:"getExplanation",value:function(){return this.state.similar}},{key:"getAssets",value:function(){return this.state.tags}},{key:"saveAlert",value:function(){this.getRecommendations()}},{key:"swipeItem",value:function(e){var t=this.state.foods[this.state.swipednumber];"left"===e?this.dislike(t):"right"===e&&this.like(t)}},{key:"resetSwipes",value:function(){this.state.swipednumber=0,this.getRecommendations(),this.setState({view:1}),this.setState({favorite:!1}),localStorage.setItem("view",1)}},{key:"switchViews",value:function(){this.state.swipednumber=0;var e=(this.state.view+1)%2;localStorage.setItem("viewInit",e),this.setState({view:e}),this.setState({favorite:!1}),localStorage.setItem("view",e)}},{key:"goToFavorites",value:function(){this.getFavorites(),localStorage.setItem("favorite",JSON.stringify(!0)),this.setState({favorite:!0})}},{key:"goToRecommends",value:function(){this.getRecommendations(),localStorage.setItem("favorite",JSON.stringify(!1)),this.setState({view:0,favorite:!1,initialised:!1})}},{key:"createCards",value:function(){for(var e=[],t=0;t<this.state.foods.length;t++){var a="card"+t;e.push(n.a.createElement("div",{className:"card",ref:a},n.a.createElement("div",{className:"FoodHeader"},n.a.createElement("b",null,C(this.state.foods[t]))),this.recipePopupFromImage(this.getname(t),this.getimage(t)),this.generateBadges(t),n.a.createElement("div",{className:"tablerow3"},this.recipePopupForTinder(this.state.foods[t],this.getimage(t)),this.nutritionalPopupForTinder(this.state.foods[t]))))}return e}},{key:"generateView",value:function(){var e=this;return this.state.favorite?n.a.createElement("div",null,n.a.createElement("div",{className:"Listing"},"favoritestate",this.generateFavorites())):0===this.state.view?n.a.createElement("div",null,n.a.createElement("div",{className:"Listing"},this.generateMeal()),n.a.createElement("div",{className:"buttons"},n.a.createElement("br",null),n.a.createElement("button",{className:"NextButton Green",onClick:this.saveAlert},n.a.createElement("b",null,"Recommend!")))):n.a.createElement("div",null,n.a.createElement("div",{id:"viewport"},n.a.createElement("div",{className:"dislikeStack"},n.a.createElement("b",null,"Dislike")),n.a.createElement("div",{className:"likeStack"},n.a.createElement("b",null,"Like")),n.a.createElement(x.a,{className:"stack",tagName:"div",setStack:function(t){return e.setState({stack:t})},ref:this.stackEl,throwoutleft:function(){return e.dislike("")},throwoutright:function(){return e.like("")}},this.createCards())),n.a.createElement("div",{className:"buttons"},n.a.createElement("br",null),n.a.createElement("button",{className:"NextButton Green",onClick:this.saveAlert},n.a.createElement("b",null,"Recommend!"))))}},{key:"generateFavorites",value:function(){var e=this,t=this.state.favorites;if(null!=t&&void 0!=t){for(var a=[],i=function(i){var s=t[i],r=s.name,o=s.image,l=[];void 0==s.tags||0!=s.tags.length&&(s.tags.length<=1?l.push(n.a.createElement("button",{className:"FoodBadge "+s.tags})):s.tags.forEach((function(e,t){var a="FoodBadge "+e;"15-minutes-or-less"===e&&(a="FoodBadge fifteen-minutes-or-less"),l.push(n.a.createElement("button",{className:a}))})));var c="FoodItem fadeInLeft"+i,m={onSwiped:function(){return e.endSwipe()},onSwipedLeft:function(){return e.unlike(r)},display:"flex",preventDefaultTouchmoveEvent:!0,trackMouse:!0,transition:"transform 1s ease",delta:10},u=[];e.state.showThumbs!=r&&void 0==e.state.translation||e.state.showThumbs!=r&&void 0==e.state.translation[r]||(Math.abs(e.state.shadownr)>10&&e.state.shadownr>0?u.push(n.a.createElement("div",null,n.a.createElement("img",{className:"dislikedimagewithshadow2"}))):u.push(n.a.createElement("div",null,n.a.createElement("img",{className:"dislikedimage2"})))),a.push(n.a.createElement("div",{className:"icanswipe"},u,n.a.createElement(N.a,Object.assign({onSwiping:function(t){return e.swiped(t,r)}},m),n.a.createElement("button",{onMouseEnter:function(){return e.setState({showThumbs:r})},onMouseLeave:function(){return e.setState({showThumbs:""})},className:c,style:{transform:e.transformfunc(r),opacity:e.transparfunc(r)}},n.a.createElement("div",{className:"rowbutton"},n.a.createElement("div",{className:"columbuttonimage"},n.a.createElement("img",{className:"FoodPhoto",align:"left",src:o,alt:"Food"})),n.a.createElement("div",{className:"columtitle"},n.a.createElement("div",{className:"foodtitle2"}," ",n.a.createElement("b",{className:"FoodTitle"},r)," ",n.a.createElement("br",null)," "),n.a.createElement("div",{className:"foodtags2"},n.a.createElement("div",{className:"badgesContainer"},l))),n.a.createElement("div",{className:"informationbuttonscolum"},n.a.createElement("div",{className:"informationbutton1",onClick:function(){e.logAction("get recipe",r),e.sendRecipe(r)}},e.recipePopup(r,e.getimage(i))),n.a.createElement("div",{className:"informationbutton2",onClick:function(){e.logAction("get nutritional values",r),e.sendNuttritionSimilar(r)}},e.nutritionalPopup(r))))))))},s=0;s<t.length;s++)i(s);return a}}},{key:"generateBadges",value:function(e){var t=[],a=this.getAssets();return void 0!=a&&a.length>0&&void 0!=a[e]&&a[e].forEach((function(e,a){var i="FoodBadge "+e;"15-minutes-or-less"===e&&(i="FoodBadge fifteen-minutes-or-less"),t.push(n.a.createElement(I.a,{position:"bottom center",content:n.a.createElement("h5",null,e),trigger:n.a.createElement("button",{className:i}," ")}))})),t}},{key:"generateMeal",value:function(){var e=this;if(void 0!==this.state.foods){for(var t=this.state.foods,a=this.getAssets(),i=[],s=function(s){var r=C(t[s]),o=[];void 0!=a&&a.length>0&&void 0!=a[s]&&a[s].forEach((function(e,t){var a="FoodBadge "+e;"15-minutes-or-less"===e&&(a="FoodBadge fifteen-minutes-or-less"),o.push(n.a.createElement(I.a,{position:"bottom center",content:n.a.createElement("h5",null,e),trigger:n.a.createElement("button",{className:a}," ")}))}));var l="FoodItem fadeInLeft"+s,c={onSwiped:function(){return e.endSwipe()},onSwipedRight:function(){return e.like(r)},onSwipedLeft:function(){return e.dislike(r)},display:"flex",preventDefaultTouchmoveEvent:!0,trackMouse:!0,transition:"transform 1s ease",delta:10},m=[];e.state.showThumbs!=r&&void 0==e.state.translation||e.state.showThumbs!=r&&void 0==e.state.translation[r]||(Math.abs(e.state.shadownr)>10?e.state.shadownr>0?m.push(n.a.createElement("div",null,n.a.createElement("img",{className:"likedimage"}),n.a.createElement("img",{className:"dislikedimagewithshadow"}))):m.push(n.a.createElement("div",null,n.a.createElement("img",{className:"likedimagewithshadow"}),n.a.createElement("img",{className:"dislikedimage"}))):m.push(n.a.createElement("div",null,n.a.createElement("img",{className:"likedimage"}),n.a.createElement("img",{className:"dislikedimage"})))),i.push(n.a.createElement("div",{className:"icanswipe"},m,n.a.createElement(N.a,Object.assign({onSwiping:function(t){return e.swiped(t,r)}},c),n.a.createElement("button",{onMouseEnter:function(){return e.setState({showThumbs:r})},onMouseLeave:function(){return e.setState({showThumbs:""})},className:l,style:{transform:e.transformfunc(r),opacity:e.transparfunc(r)},onClick:function(){}},n.a.createElement("div",{className:"rowbutton"},n.a.createElement("div",{className:"columbuttonimage"},n.a.createElement("img",{className:"FoodPhoto",align:"left",src:e.getimage(s),alt:"Food"})),n.a.createElement("div",{className:"columtitle"},n.a.createElement("div",{className:"foodtitle2"}," ",n.a.createElement("b",{className:"FoodTitle"},r)," ",n.a.createElement("br",null)," "),n.a.createElement("div",{className:"foodtags2"},n.a.createElement("div",{className:"badgesContainer"},o))),n.a.createElement("div",{className:"informationbuttonscolum"},n.a.createElement("div",{className:"informationbutton1",onClick:function(){e.logAction("get recipe",r),e.sendRecipe(r)}},e.recipePopup(t[s],e.getimage(s))),n.a.createElement("div",{className:"informationbutton2",onClick:function(){e.logAction("get nutritional values",r),e.sendNuttritionSimilar(r)}},e.nutritionalPopup(t[s]))))))))},r=0;r<t.length;r++)s(r);return i}}},{key:"transformfunc",value:function(e){return void 0!=this.state.translation?this.state.translation[e]:""}},{key:"transparfunc",value:function(e){return void 0!=this.state.transparency?this.state.transparency[e]:1}},{key:"like",value:function(e){""===e&&(e=this.state.foods[this.state.foods.length-1]);for(var t=e.toLowerCase(),a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--)if(a[i].Name===localStorage.getItem("currentUser")){for(var n=a[i].Liked,s=this.state.foods,r=this.state.tags,o=this.state.images,l=0,c=0;c<s.length;c++){if(void 0!=s[c])s[c].toLowerCase()===t&&(l=c)}if(void 0==n.length){var m=[];void 0!=n&&m.push(n),m.push(t),n=m}else n.push(t);s.splice(l,1),this.setState({foods:s}),r.splice(l,1),this.setState({tags:r}),o.splice(l,1),this.setState({images:o}),this.setState({likedItems:n}),a[i].Liked=n,localStorage.setItem("users",JSON.stringify(a)),this.logAction("like",e);break}}},{key:"unlike",value:function(e){for(var t=e.toLowerCase(),a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--){if(a[i].Name===localStorage.getItem("currentUser")){for(var n=a[i].Liked,s=0,r=0;r<n.length;r++){if(void 0!=n[r])n[r].toLowerCase()===t&&(s=r)}void 0==n&&(n=[]),n.splice(s,1);var o=this.state.favorites;o.splice(s,1),this.setState({liked:n}),this.setState({favorites:o}),a[i].Liked=n,localStorage.setItem("users",JSON.stringify(a)),this.setState({likedItems:n}),this.logAction("unlike",e);break}this.setState({favorite:!0})}}},{key:"dislike",value:function(e){""===e&&(e=this.state.foods[this.state.foods.length-1]);for(var t=e.toLowerCase(),a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--)if(a[i].Name===localStorage.getItem("currentUser")){for(var n=a[i].Disliked,s=this.state.foods,r=this.state.tags,o=this.state.images,l=0,c=0;c<s.length;c++){if(void 0!=s[c])s[c].toLowerCase()===t&&(localStorage.setItem("n","kked"),l=c)}s.splice(l,1),this.setState({foods:s}),r.splice(l,1),this.setState({tags:r}),o.splice(l,1),this.setState({images:o}),null==n&&(n=[]),n.push(t),this.setState({dislikedItems:n}),a[i].Disliked=n,localStorage.setItem("users",JSON.stringify(a)),this.logAction("dislike",t);break}}},{key:"logAction",value:function(e,t){for(var a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--)if(a[i].Name===localStorage.getItem("currentUser")){t,e;var n=[];n.push(Date.now()),n.push(e);var s=0;s=0===JSON.parse(localStorage.getItem("viewInit"))?"list mode":"swipe mode",n.push(s),n.push(t),a[i].Log.push(n),localStorage.setItem("users",JSON.stringify(a));break}}},{key:"endSwipe",value:function(){this.setState({swiping:!1}),this.setState({shadownr:0});var e={};this.setState({translation:e,transparency:e})}},{key:"swiped",value:function(e,t){this.setState({swiping:!0}),this.setState({shadownr:e.deltaX});var a=-1*e.deltaX,i={};i[t]="translate("+a+"px,0%)";var n={};n[t]=10/Math.abs(e.deltaX),this.setState({translation:i,transparency:n})}},{key:"getname",value:function(e){return void 0!==this.state.foods?this.state.foods[e]:""}},{key:"getimage",value:function(e){return void 0!==this.state.images?this.state.images[e]:""}},{key:"render",value:function(){return this.state.favorite?n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{className:"PageHeader"}," ",n.a.createElement("b",{className:"PageTitle"},"Favorites"),n.a.createElement(d.b,{to:"/profile"},n.a.createElement("button",{title:"profile",className:"profile"},n.a.createElement("b",null," "))),n.a.createElement("button",{className:"favorites",title:"favorites",onClick:this.goToFavorites},n.a.createElement("b",null)),n.a.createElement("button",{className:"toRecommendButton",title:"recommends",onClick:this.goToRecommends},n.a.createElement("b",null))),this.generateView())):(this.state.tutor,n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{className:"PageHeader"}," ",n.a.createElement("b",{className:"PageTitle"},"Recommendations"),n.a.createElement(d.b,{to:"/profile"},n.a.createElement("button",{title:"profile",className:"profile"},n.a.createElement("b",null," "))),n.a.createElement("button",{className:"favorites",title:"favorites",onClick:this.goToFavorites},n.a.createElement("b",null)),n.a.createElement("button",{className:"toRecommendButton",title:"recommends",onClick:this.goToRecommends},n.a.createElement("b",null))),this.generateView())))}}]),t}(n.a.Component),R={position:"relative",width:"250px",height:"250px"},J={display:"flex",justifyContent:"space-between",marginTop:12},B=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).remove=function(){return a.setState((function(e){var t=e.cards;return{cards:t.slice(1,t.length)}}))},a.swipeItem=a.swipeItem.bind(Object(f.a)(a));var i=[],n=[];return null!=localStorage.getItem("likedItems")?i=JSON.parse(localStorage.getItem("likedItems")):localStorage.setItem("likedItems",JSON.stringify(i)),null!=localStorage.getItem("dislikedItems")?n=JSON.parse(localStorage.getItem("dislikedItems")):localStorage.setItem("dislikedItems",JSON.stringify(n)),a.state={cards:["little kick  jalapeno burgers","hot tamale  burgers","hot tamale  burgers"],likedItems:i,dislikedItems:n},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"swipeItem",value:function(e){var t=this.state.cards[0],a=JSON.parse(localStorage.getItem("likedItems")),i=JSON.parse(localStorage.getItem("dislikedItems"));if("left"===e){var n=a.indexOf(t);n>=0&&a.splice(n,1),i.includes(t)||i.push(t)}else if("right"===e){var s=i.indexOf(t);s>=0&&i.splice(s,1),a.includes(t)||a.push(t)}this.state.likedItems=a,this.state.dislikedItems=i,localStorage.setItem("likedItems",JSON.stringify(this.state.likedItems)),localStorage.setItem("dislikedItems",JSON.stringify(this.state.dislikedItems))}},{key:"render",value:function(){var e=this.state.cards;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{className:"PageHeader"}," ",n.a.createElement("b",{className:"PageTitle"},"Recommendations")),n.a.createElement("div",{style:R},e.length>0?n.a.createElement("div",{style:R},n.a.createElement(E.a,{buttons:function(e){var t=e.left,a=e.right;return n.a.createElement("div",{style:J},n.a.createElement("button",{className:"tinderButton dislike",onClick:t},n.a.createElement("b",null,"Reject")),n.a.createElement("button",{className:"tinderButton like",onClick:a},n.a.createElement("b",null,"Accept")))},onAfterSwipe:this.remove,onSwipe:this.swipeItem},n.a.createElement("div",{className:"FoodCard"},n.a.createElement("div",{className:"FoodHeader"},n.a.createElement("b",null,e[0])),n.a.createElement("p",null,"Recipe goes here.")))):n.a.createElement("div",{className:"FoodItem",zIndex:-2},"No more cards"))))}}]),t}(i.Component),P=function(e){function t(){var e;if(Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState({name:t.target.value})},null===localStorage.getItem("users")){localStorage.setItem("users",JSON.stringify([]))}return e.state={name:""},e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"updateUsers",value:function(){for(var e=JSON.parse(localStorage.getItem("users")),t=!1,a=0;a<e.length;a++)if(e[a].Name===this.state.name){t=!0;break}if(!t){var i={Name:this.state.name,Preferences:["vegan","vegetarian","gluten-free"],Allergies:["nuts","lactose","seafood"],Log:[],Liked:[],Disliked:[],FirstTime:!0,FirstTime1:!0,FirstTime2:!0,FirstTime3:!0,booleansPreferences:[!1,!1,!1],booleanAllergies:[!1,!1,!1]};e.push(i),localStorage.setItem("users",JSON.stringify(e))}localStorage.setItem("currentUser",this.state.name)}},{key:"handleTest",value:function(e){if(void 0==localStorage.getItem("viewInit")&&localStorage.setItem("viewInit","1"),e.ctrlKey&&13==e.charCode)localStorage.setItem("viewInit",(JSON.parse(localStorage.getItem("viewInit"))+1)%2);else if(13==e.charCode){for(var t=JSON.parse(localStorage.getItem("users")),a=t[0].Log,i="",n="",s=0;s<t.length;s++){a=t[s].Log,n+=t[s].Name,s!=t.length-1&&(n+=", ");for(var r=0;r<a.length;r++)i+=a[r],r!=a.length-1&&(i+=", ");s!=t.length-1&&(i+="; ")}localStorage.setItem("logForUser",i),localStorage.setItem("usersString",n)}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{className:"DarkBackground"},n.a.createElement("div",null,n.a.createElement("h4",{className:"fadeInLeft0"},"Hello there! Thank you for wanting to participate in our test."),n.a.createElement("h4",{className:"fadeInLeft1"}," Before we start, can we please get your name?"),n.a.createElement("input",{type:"text",name:"username",className:"textBox fadeInLeft2",placeholder:"Your name",value:this.state.username,onChange:this.handleChange,onKeyPress:this.handleTest})),n.a.createElement(d.b,{to:"/home"},n.a.createElement("button",{className:"NextButton White fadeInLeft3",onClick:function(){e.updateUsers()}},n.a.createElement("b",null,"NEXT"))))))}}]),t}(n.a.Component);function A(){var e=Object(v.a)(["\n  display: flex;\n  transition: ",";\n  transform: ",";\n"]);return A=function(){return e},e}y.a.div(A(),(function(e){return e.sliding?"none":"transform 1s ease"}),(function(e){return e.sliding?"PREV"===e.dir?"translateX(calc(2 * (-80% - 20px)))":"translateX(0%)":"translateX(calc(-80% - 20px))"}));var D={position:"relative",width:"250px",height:"300px"},M={display:"flex",justifyContent:"space-between",marginTop:12};function U(e){var t=e;try{t=e[0].toUpperCase()+e.slice(1)}catch(a){}return t}function _(e){var t,a;return e<50?(t=255,a=Math.round(5.1*e)):(a=255,t=Math.round(510-5.1*e)),"#"+("000000"+(65536*t+256*a+0).toString(16)).slice(-6)}n.a.Component;var H=function(e){function t(e,a){var i;return Object(o.a)(this,t),(i=Object(c.a)(this,Object(m.a)(t).call(this,e,a))).stackEl=n.a.createRef(),i.state={stack:null,foods:["Turkey","Ham","Pineapple","Test","Seeds"]},i.createCards=i.createCards.bind(Object(f.a)(i)),i}return Object(u.a)(t,e),Object(l.a)(t,[{key:"createCards",value:function(){for(var e=[],t=0;t<this.state.foods.length;t++){var a="card"+t;e.push(n.a.createElement("div",{className:"card clubs",ref:a},n.a.createElement("div",{className:"FoodHeader"},n.a.createElement("b",null,this.state.foods[t]))))}return e}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{id:"viewport"},n.a.createElement("div",{className:"dislikeStack"},n.a.createElement("b",null,"Dislike")),n.a.createElement("div",{className:"likeStack"},n.a.createElement("b",null,"Like")),n.a.createElement(x.a,{className:"stack",tagName:"div",setStack:function(t){return e.setState({stack:t})},ref:this.stackEl},this.createCards())))}}]),t}(i.Component);function q(){var e=Object(v.a)(["\n  display: flex;\n  transition: ",";\n  transform: ",";\n"]);return q=function(){return e},e}y.a.div(q(),(function(e){return e.sliding?"none":"transform 1s ease"}),(function(e){return e.sliding?"PREV"===e.dir?"translateX(calc(2 * (-80% - 20px)))":"translateX(0%)":"translateX(calc(-80% - 20px))"}));function z(e){var t=e;try{t=e[0].toUpperCase()+e.slice(1)}catch(a){}return t}function V(e){var t,a;return e<50?(t=255,a=Math.round(5.1*e)):(a=255,t=Math.round(510-5.1*e)),"#"+("000000"+(65536*t+256*a+0).toString(16)).slice(-6)}var X=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Y=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={foods:[],tags:[],images:[],recipe:[],nutrition:[],ingredients:[],similar:[]},e.socket=e.initialiseSocket(),e.sendable=!1,e.generateMeal=e.generateMeal.bind(Object(f.a)(e)),e.getRecommendations=e.getRecommendations.bind(Object(f.a)(e)),e.switchViews=e.switchViews.bind(Object(f.a)(e)),e.generateView=e.generateView.bind(Object(f.a)(e)),e.resetSwipes=e.resetSwipes.bind(Object(f.a)(e)),e.generateFavorites=e.generateFavorites.bind(Object(f.a)(e)),e.goToFavorites=e.goToFavorites.bind(Object(f.a)(e)),e.goToRecommends=e.goToRecommends.bind(Object(f.a)(e)),e.generateBadges=e.generateBadges.bind(Object(f.a)(e)),e.swipeItem=e.swipeItem.bind(Object(f.a)(e)),e.saveAlert=e.saveAlert.bind(Object(f.a)(e)),e.createCards=e.createCards.bind(Object(f.a)(e)),e.socket.onopen=function(){for(var t=JSON.parse(localStorage.getItem("users")),a={action:"initialise"},i=t.length-1;i>=0;i--){if(t[i].Name===localStorage.getItem("currentUser"))t[i].FirstTime1=!1,localStorage.setItem("users",JSON.stringify(t)),a={action:"initialise",favorites:t[i].Liked,name:localStorage.getItem("currentUser")}}e.socket.send(JSON.stringify(a)),e.sendable||(e.loading=!1,e.sendable=!0,e.state.favorite?e.goToFavorites():e.getRecommendations())},e.state.favorite=JSON.parse(localStorage.getItem("favorite")),e.socket.onmessage=function(t){var a=JSON.parse(t.data);switch(console.log(a),a.action){case"Recommends":e.loading&&(e.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3})),w.a.fire({title:"Great!",text:"Now let's choose some meals you like or dislike, so we can get a small glimpse into your preferences.",icon:"success",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:" Drag an item left to dislike it, or right to like it.",icon:"info",confirmButtonText:"Okay!"}).then((function(){S.clickConfirm&&w.a.fire({text:" If you're ready, press the button down bellow for some personalized recommendations!",icon:"info",confirmButtonText:"Okay!"})}))}));var i=a.recommends,n=a.tags,s=a.images,r=e.filterfoods(i,n,s),o=r[0],l=r[1],c=r[2];e.setState({tags:l}),e.setState({foods:o}),e.setState({images:c}),1==JSON.parse(localStorage.getItem("viewInit"))&&1!=e.state.initialised&&(e.state.view=0,X(5).then((function(){if(e.state.view=JSON.parse(localStorage.getItem("viewInit")),1==e.state.view){e.state.swipednumber=0;var t=(e.state.view+1)%2;localStorage.setItem("view",t),e.state.initialised=!0,e.setState({view:1})}})));break;case"favorites":e.loading&&(e.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3})),e.setState({favorites:a.favorites});break;case"Similar":e.loading=!1,w.a.fire({title:"Finished!",showConfirmButton:!1,timer:1e3}),e.setState({similar:a.similar});break;case"Recipe":e.setState({recipe:a.recipe});break;case"Nutrition":e.setState({nutrition:a.nutrition});break;case"Ingredients":e.setState({ingredients:a.ingredients})}},void 0===e.state.swipednumber&&(e.state.swipednumber=0),e.state.favorite&&e.goToFavorites(),void 0!=e.state.initialised&&0!=e.state.initialised||(e.state.view=0),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"filterfoods",value:function(e,t,a){for(var i=function(e,t,a){for(var i,n,s=e.length;0!==s;)n=Math.floor(Math.random()*s),i=e[s-=1],e[s]=e[n],e[n]=i,i=t[s],t[s]=t[n],t[n]=i,i=a[s],a[s]=a[n],a[n]=i;var r=[];return r.push(e,t,a),r}(e,t,a),n=i[0],s=i[1],r=i[2],o=null,l=null,c=JSON.parse(localStorage.getItem("users")),m=c.length-1;m>=0;m--)c[m].Name===localStorage.getItem("currentUser")&&(o=c[m].Liked,l=c[m].Disliked);null==o&&(o=[]),null==l&&(l=[]);for(var u=[],d=[],g=[],h=0,p=0;h<7;p++)""===n[p]||o.includes(n[p])||l.includes(n[p])||(h++,u.push(n[p]),d.push(s[p]),g.push(r[p]));var f=[];return f.push(u,d,g),f}},{key:"initialiseSocket",value:function(){return void 0!==this.socket?this.socket:(this.setState({favorite:!1}),new WebSocket("ws://localhost:9000"))}},{key:"getInfo",value:function(e){this.sendRecipe(e),this.sendNuttritionSimilar(e)}},{key:"sendRecipe",value:function(e){e=e.toLowerCase(),console.log("send recipe"),this.socket=this.initialiseSocket();var t={action:"Recipe",recipe:e},a={action:"Ingredients",name:e};void 0!==this.sendable&&this.sendable&&(this.socket.send(JSON.stringify(t)),this.socket.send(JSON.stringify(a)))}},{key:"sendNuttritionSimilar",value:function(e){e=e.toLowerCase(),this.socket=this.initialiseSocket();var t={action:"Nutrition",name:e};void 0!==this.sendable&&this.sendable&&this.socket.send(JSON.stringify(t));for(var a={action:"Similar",recipe:e,prolist:[]},i=JSON.parse(localStorage.getItem("users")),n=null,s=null,r=i.length-1;r>=0;r--)i[r].Name===localStorage.getItem("currentUser")&&(n=i[r].Liked,s=i[r].Disliked);null==n&&(n=[]),null==s&&(s=[]);for(var o=[],l=0;l<n.length;l++)if(n[l]!=e){var c={};c.name=n[l],c.rating=1,o.push(c)}for(var m=0;m<s.length;m++){var u={};u.name=s[m],u.rating=-1,o.push(u)}a.prolist=o,this.state.proto=!this.state.proto,this.sendable&&this.state.proto&&(this.socket.send(JSON.stringify(a)),w.a.fire({title:"Loading...",text:"Please wait",showConfirmButton:!1,allowOutsideClick:!1}))}},{key:"getFavorites",value:function(){for(var e=JSON.parse(localStorage.getItem("users")),t=null,a=e.length-1;a>=0;a--)e[a].Name===localStorage.getItem("currentUser")&&(t=e[a].Liked);null==t&&(t=[]);for(var i={action:"Favorites",prolist:[{name:"hot tamale  burgers",rating:.5}]},n=(JSON.parse(localStorage.getItem("boxes")),[]),s=0;s<t.length;s++){var r={};r.name=t[s],r.rating=1,n.push(r)}i.prolist=n,console.log(n),console.log(i),this.sendable&&(this.socket.send(JSON.stringify(i)),w.a.fire({title:"Loading...",text:"Please wait",showConfirmButton:!1,allowOutsideClick:!1}),this.loading=!0)}},{key:"getRecommendations",value:function(){for(var e=JSON.parse(localStorage.getItem("users")),t=-1,a=null,i=null,n=e.length-1;n>=0;n--)e[n].Name===localStorage.getItem("currentUser")&&(t=n,a=e[n].Liked,i=e[n].Disliked);null==a&&(a=[]),null==i&&(i=[]);var s={action:"Recommend",account:{vegan:1,easy:1,preparation:1},amount:7,prolist:[{name:"hot tamale  burgers",rating:.5}]},r=7;null!=a&&void 0!==a&&(r+=a.length),null!=i&&void 0!==i&&(r+=i.length),s.amount=r;for(var o=e[t].Preferences,l=e[t].booleansPreferences,c=0;c<o.length;c++)o[c]=o[c].toLowerCase();for(var m={},u=0;u<o.length;u++)!0===l[u]&&(m[o[u]]=1);console.log(m),s.account=m,console.log(s);for(var d=[],g=0;g<a.length;g++){var h={};h.name=a[g],h.rating=1,d.push(h)}for(var p=0;p<i.length;p++){var f={};f.name=i[p],f.rating=-1,d.push(f)}s.prolist=d,console.log(d),s.account=m,console.log(s),console.log(s),this.sendable&&(this.socket.send(JSON.stringify(s)),w.a.fire({title:"Loading...",text:"Please wait",showConfirmButton:!1,allowOutsideClick:!1}),this.state.initialised=!1,this.loading=!0)}},{key:"nutritionalPopup",value:function(e){var t=["Carbs","Total Fats","Sugar","Sodium","Protein","Saturated Fats","Carbohydrates"],a=this.getNutritionInfo(e),i=[],s=[],r=[],o=[],l=this.getExplanation(),c=z(e);if(void 0!==a)for(var m=0;m<a.length;m++)s.push(n.a.createElement("div",{className:"popupText"},t[m],n.a.createElement("br",null))),r.push(n.a.createElement("div",{className:"popupText"},a[m],n.a.createElement("br",null)));var u=!0;if(void 0!==l)for(var d=0;d<l.length;d++){var g=Math.floor(100*l[d].matchfactor),h=V(g);g>=60&&(u=!1,o.push(n.a.createElement("div",{className:"popupText2"},n.a.createElement("div",{className:"container2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:this.goToFavorites,title:l[d].name,align:"left",src:l[d].image,alt:"Food"}),n.a.createElement("button",{className:"OnTopButton",style:{backgroundColor:h}},g,"%")),n.a.createElement("br",null))))}return u?i.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},s),n.a.createElement("div",{className:"textcolumn2"},r))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"You did not try anything like this! Try it out!",n.a.createElement("br",null))))):i.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},s),n.a.createElement("div",{className:"textcolumn2"},r))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"Because you liked:",n.a.createElement("br",null)),o))),[n.a.createElement(k.a,{modal:!0,trigger:n.a.createElement("button",{title:"nutrition",className:"IconLayout NutritionIcon"})},n.a.createElement("div",{className:"popUp2"},n.a.createElement("div",{className:"popupHeader"},"Nutritional info for",n.a.createElement("br",null),c),n.a.createElement("br",null),i))]}},{key:"recipePopup",value:function(e,t){var a=this,i=this.getRecipe(),s=[],r=this.getIngredients(),o=[],l=[],c=z(e);if(void 0!==r)for(var m=0;m<r.length;m++)l.push(n.a.createElement("div",{className:"popupText"},r[m],n.a.createElement("br",null)));if(void 0!==i)for(var u=0;u<i.length;u++)s.push(n.a.createElement("div",{className:"popupRecipeText"},u+1,". ",i[u],n.a.createElement("br",null)));o.push(n.a.createElement("div",{className:"row:after"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"rowingredi"},n.a.createElement("div",{className:"popupTextTitle"},"Ingredients:",n.a.createElement("br",null)),l),n.a.createElement("div",{className:"row2"},n.a.createElement("img",{className:"FoodPhotoLarge",align:"left",src:t,alt:"Food"}))),n.a.createElement("div",{className:"column2"},n.a.createElement("div",{className:"reciperow"},n.a.createElement("div",{className:"popupTextTitleRecipe"},"Steps:",n.a.createElement("br",null)),s))));var d=[];return d.push(n.a.createElement(k.a,{className:"poptry",modal:!0,trigger:n.a.createElement("button",{title:"recipe",className:"IconLayout RecipeIcon",onClick:function(){return a.sendRecipe(e)}}),position:"right center"},n.a.createElement("div",{className:"popUp2"},n.a.createElement("div",{className:"popupHeader"},"Recipe for",n.a.createElement("br",null),c),n.a.createElement("br",null),o))),d}},{key:"recipePopupForTinder",value:function(e,t){var a,i=this,s=this.getRecipe(),r=[],o=this.getIngredients(),l=[],c=[],m=z(e);if(void 0!==o)for(var u=0;u<o.length;u++)c.push(n.a.createElement("div",{className:"popupText"},o[u],n.a.createElement("br",null)));if(void 0!==s)for(var d=0;d<s.length;d++)r.push(n.a.createElement("div",{className:"popupRecipeText"},d+1,". ",s[d],n.a.createElement("br",null)));l.push(n.a.createElement("div",{className:"row:after"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"rowingredi"},n.a.createElement("div",{className:"popupTextTitle"},"Ingredients:",n.a.createElement("br",null)),c),n.a.createElement("div",{className:"row2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:function(){return i.setState({open:!1})},align:"left",src:t,alt:"Food"}))),n.a.createElement("div",{className:"column2"},n.a.createElement("div",{className:"reciperow"},n.a.createElement("div",{className:"popupTextTitleRecipe"},"Steps:",n.a.createElement("br",null)),r))));var g=[];return g.push(n.a.createElement("div",null,n.a.createElement("button",(a={title:"recipe",className:"RecipeButton"},Object(p.a)(a,"title","recipe"),Object(p.a)(a,"align","left"),Object(p.a)(a,"onClick",(function(){i.sendRecipe(e),i.setState({opened:e}),i.logAction("get recipe",e)})),Object(p.a)(a,"src",t),a)),n.a.createElement(k.a,{open:this.state.opened==e,onClick:function(){return i.setState({opened:"none"})},closeOnDocumentClick:!0,position:"right center"},n.a.createElement("div",{className:"popUp3",onClick:function(){i.setState({opened:"none"}),i.logAction("get recipe",e)}},n.a.createElement("div",{className:"popupHeader",onClick:function(){return i.setState({opened:"none"})}},"Recipe for",n.a.createElement("br",null),m),n.a.createElement("br",null),l)))),g}},{key:"recipePopupFromImage",value:function(e,t){var a=this,i=this.getRecipe(),s=[],r=this.getIngredients(),o=[],l=[],c=z(e);if(void 0!==r)for(var m=0;m<r.length;m++)l.push(n.a.createElement("div",{className:"popupText"},r[m],n.a.createElement("br",null)));if(void 0!==i)for(var u=0;u<i.length;u++)s.push(n.a.createElement("div",{className:"popupRecipeText"},u+1,". ",i[u],n.a.createElement("br",null)));o.push(n.a.createElement("div",{className:"row:after"},n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"rowingredi"},n.a.createElement("div",{className:"popupTextTitle"},"Ingredients:",n.a.createElement("br",null)),l),n.a.createElement("div",{className:"row2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:function(){return a.setState({open:!1})},align:"left",src:t,alt:"Food"}))),n.a.createElement("div",{className:"column2"},n.a.createElement("div",{className:"reciperow"},n.a.createElement("div",{className:"popupTextTitleRecipe"},"Steps:",n.a.createElement("br",null)),s))));var d=[];return d.push(n.a.createElement("div",null,n.a.createElement("img",{className:"FoodPhotoTinder",title:"recipe",align:"left",onClick:function(){a.sendRecipe(e),a.setState({open:!0})},src:t}),n.a.createElement(k.a,{open:!1,onClick:function(){return a.setState({open:!1})},closeOnDocumentClick:!0,position:"right center"},n.a.createElement("div",{className:"popUp3",onClick:function(){return a.setState({open:!1})}},n.a.createElement("div",{className:"popupHeader",onClick:function(){return a.setState({open:!1})}},"Recipe for",n.a.createElement("br",null),c),n.a.createElement("br",null),o)))),d}},{key:"nutritionalPopupForTinder",value:function(e,t){var a,i=this,s=["Carbs","Total Fats","Sugar","Sodium","Protein","Saturated Fats","Carbohydrates"],r=this.getNutritionInfo(e),o=[],l=[],c=[],m=[],u=this.getExplanation(),d=z(e);if(void 0!==r)for(var g=0;g<r.length;g++)l.push(n.a.createElement("div",{className:"popupText"},s[g],n.a.createElement("br",null))),c.push(n.a.createElement("div",{className:"popupText"},r[g],n.a.createElement("br",null)));var h=!0;if(void 0!==u)for(var f=0;f<u.length;f++){var v=Math.floor(100*u[f].matchfactor),b=V(v);v>=60&&(h=!1,m.push(n.a.createElement("div",{className:"popupText2"},n.a.createElement("div",{className:"container2"},n.a.createElement("img",{className:"FoodPhotoLarge3",onClick:this.goToFavorites,title:u[f].name,align:"left",src:u[f].image,alt:"Food"}),n.a.createElement("button",{className:"OnTopButton",style:{backgroundColor:b}},v,"%")),n.a.createElement("br",null))))}h?o.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},l),n.a.createElement("div",{className:"textcolumn2"},c))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"You did not try anything like this! Try it out!",n.a.createElement("br",null))))):o.push(n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"Nutritioncolumn"},n.a.createElement("div",{className:"popupTextTitle"},"Nutritional info:",n.a.createElement("br",null)),n.a.createElement("div",{className:"textrow"},n.a.createElement("div",{className:"textcolumn1"},l),n.a.createElement("div",{className:"textcolumn2"},c))),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"popupTextTitle2"},"Because you liked:",n.a.createElement("br",null)),m)));var E=[];return E.push(n.a.createElement("div",null,n.a.createElement("button",(a={title:"recipe",className:"NutritionButton"},Object(p.a)(a,"title","Nutrition"),Object(p.a)(a,"align","left"),Object(p.a)(a,"onClick",(function(){i.sendNuttritionSimilar(e),i.setState({nutritionopened:e}),i.logAction("get nutritional values",e)})),Object(p.a)(a,"src",t),a)),n.a.createElement(k.a,{open:this.state.nutritionopened==e,onClick:function(){return i.setState({nutritionopened:"none"})},closeOnDocumentClick:!0,position:"right center"},n.a.createElement("div",{className:"popUp3",onClick:function(){return i.setState({nutritionopened:"none"})}},n.a.createElement("div",{className:"popupHeader",onClick:function(){i.setState({nutritionopened:"none"}),i.logAction("get nutritional values",e)}},"Recipe for",n.a.createElement("br",null),d),n.a.createElement("br",null),o)))),E}},{key:"getIngredients",value:function(e){return this.state.ingredients}},{key:"getRecipe",value:function(e){return this.state.recipe}},{key:"getNutritionInfo",value:function(e){return this.state.nutrition}},{key:"getExplanation",value:function(){return this.state.similar}},{key:"getAssets",value:function(){return this.state.tags}},{key:"saveAlert",value:function(){w.a.fire({title:"Saved!",text:"Your liked and disliked meals are saved.",icon:"success",confirmButtonText:"Great!"}),this.getRecommendations()}},{key:"swipeItem",value:function(e){var t=this.state.foods[this.state.swipednumber];"left"===e?this.dislike(t):"right"===e&&this.like(t)}},{key:"resetSwipes",value:function(){this.state.swipednumber=0,this.getRecommendations(),this.setState({view:1}),this.setState({favorite:!1}),localStorage.setItem("view",1)}},{key:"switchViews",value:function(){this.state.swipednumber=0;var e=(this.state.view+1)%2;localStorage.setItem("viewInit",e),this.setState({view:e}),this.setState({favorite:!1}),localStorage.setItem("view",e)}},{key:"goToFavorites",value:function(){this.getFavorites(),localStorage.setItem("favorite",JSON.stringify(!0)),this.setState({favorite:!0})}},{key:"goToRecommends",value:function(){this.getRecommendations(),localStorage.setItem("favorite",JSON.stringify(!1)),this.setState({favorite:!1})}},{key:"createCards",value:function(){for(var e=[],t=0;t<this.state.foods.length;t++){var a="card"+t;e.push(n.a.createElement("div",{className:"card",ref:a},n.a.createElement("div",{className:"FoodHeader"},n.a.createElement("b",null,z(this.state.foods[t]))),this.recipePopupFromImage(this.getname(t),this.getimage(t)),this.generateBadges(t),n.a.createElement("div",{className:"tablerow3"},this.recipePopupForTinder(this.state.foods[t],this.getimage(t)),this.nutritionalPopupForTinder(this.state.foods[t]))))}return e}},{key:"generateView",value:function(){var e=this;return this.state.favorite?n.a.createElement("div",null,n.a.createElement("div",{className:"Listing"},"favoritestate",this.generateFavorites())):0===this.state.view?n.a.createElement("div",null,n.a.createElement("div",{className:"Listing"},this.generateMeal()),n.a.createElement("div",{className:"buttons"},n.a.createElement("br",null),n.a.createElement(d.b,{to:"/recommendations"},n.a.createElement("button",{className:"NextButton Green"},n.a.createElement("b",null,"Recommend!"))))):n.a.createElement("div",null,n.a.createElement("div",{id:"viewport"},n.a.createElement("div",{className:"dislikeStack"},n.a.createElement("b",null,"Dislike")),n.a.createElement("div",{className:"likeStack"},n.a.createElement("b",null,"Like")),n.a.createElement(x.a,{className:"stack",tagName:"div",setStack:function(t){return e.setState({stack:t})},ref:this.stackEl,throwoutleft:function(){return e.dislike("")},throwoutright:function(){return e.like("")}},this.createCards())),n.a.createElement("div",{className:"buttons"},n.a.createElement("br",null),n.a.createElement(d.b,{to:"/recommendations"},n.a.createElement("button",{className:"NextButton Green"},n.a.createElement("b",null,"Recommend!")))))}},{key:"generateFavorites",value:function(){var e=this,t=this.state.favorites;if(null!=t&&void 0!=t){for(var a=[],i=function(i){var s=t[i],r=s.name,o=s.image,l=[];void 0==s.tags||(s.tags.length<=1?l.push(n.a.createElement("button",{className:"FoodBadge "+s.tags}," ")):s.tags.forEach((function(e,t){var a="FoodBadge "+e;"15-minutes-or-less"===e&&(a="FoodBadge fifteen-minutes-or-less"),l.push(n.a.createElement("button",{className:a}," "))})));var c="FoodItem fadeInLeft"+i,m={onSwiped:function(){return e.endSwipe()},onSwipedLeft:function(){return e.unlike(r)},display:"flex",preventDefaultTouchmoveEvent:!0,trackMouse:!0,transition:"transform 1s ease",delta:10},u=[];e.state.showThumbs!=r&&void 0==e.state.translation||e.state.showThumbs!=r&&void 0==e.state.translation[r]||(Math.abs(e.state.shadownr)>10&&e.state.shadownr>0?u.push(n.a.createElement("div",null,n.a.createElement("img",{className:"dislikedimagewithshadow2"}))):u.push(n.a.createElement("div",null,n.a.createElement("img",{className:"dislikedimage2"})))),a.push(n.a.createElement("div",{className:"icanswipe"},u,n.a.createElement(N.a,Object.assign({onSwiping:function(t){return e.swiped(t,r)}},m),n.a.createElement("button",{onMouseEnter:function(){return e.setState({showThumbs:r})},onMouseLeave:function(){return e.setState({showThumbs:""})},className:c,style:{transform:e.transformfunc(r),opacity:e.transparfunc(r)}},n.a.createElement("div",{className:"rowbutton"},n.a.createElement("div",{className:"columbuttonimage"},n.a.createElement("img",{className:"FoodPhoto",align:"left",src:o,alt:"Food"})),n.a.createElement("div",{className:"columtitle"},n.a.createElement("div",{className:"foodtitle2"}," ",n.a.createElement("b",{className:"FoodTitle"},r)," ",n.a.createElement("br",null)," "),n.a.createElement("div",{className:"foodtags2"},n.a.createElement("div",{className:"badgesContainer"},l))),n.a.createElement("div",{className:"informationbuttonscolum"},n.a.createElement("div",{className:"informationbutton1",onClick:function(){e.logAction("get recipe",r),e.sendRecipe(r)}},e.recipePopup(r,e.getimage(i))),n.a.createElement("div",{className:"informationbutton2",onClick:function(){e.logAction("get nutritional values",r),e.sendNuttritionSimilar(r)}},e.nutritionalPopup(r))))))))},s=0;s<t.length;s++)i(s);return a}}},{key:"generateBadges",value:function(e){var t=[],a=this.getAssets();return void 0!=a&&a.length>0&&void 0!=a[e]&&a[e].forEach((function(e,a){var i="FoodBadge "+e;"15-minutes-or-less"===e&&(i="FoodBadge fifteen-minutes-or-less"),t.push(n.a.createElement(I.a,{position:"bottom center",content:n.a.createElement("h5",null,e),trigger:n.a.createElement("button",{className:i}," ")}))})),t}},{key:"generateMeal",value:function(){var e=this;if(void 0!==this.state.foods){for(var t=this.state.foods,a=this.getAssets(),i=[],s=function(s){var r=z(t[s]),o=[];void 0!=a&&a.length>0&&void 0!=a[s]&&a[s].forEach((function(e,t){var a="FoodBadge "+e;"15-minutes-or-less"===e&&(a="FoodBadge fifteen-minutes-or-less"),o.push(n.a.createElement(I.a,{position:"bottom center",content:n.a.createElement("h5",null,e),trigger:n.a.createElement("button",{className:a}," ")}))}));var l="FoodItem fadeInLeft"+s,c={onSwiped:function(){return e.endSwipe()},onSwipedRight:function(){return e.like(r)},onSwipedLeft:function(){return e.dislike(r)},display:"flex",preventDefaultTouchmoveEvent:!0,trackMouse:!0,transition:"transform 1s ease",delta:10},m=[];e.state.showThumbs!=r&&void 0==e.state.translation||e.state.showThumbs!=r&&void 0==e.state.translation[r]||(Math.abs(e.state.shadownr)>10?e.state.shadownr>0?m.push(n.a.createElement("div",null,n.a.createElement("img",{className:"likedimage"}),n.a.createElement("img",{className:"dislikedimagewithshadow"}))):m.push(n.a.createElement("div",null,n.a.createElement("img",{className:"likedimagewithshadow"}),n.a.createElement("img",{className:"dislikedimage"}))):m.push(n.a.createElement("div",null,n.a.createElement("img",{className:"likedimage"}),n.a.createElement("img",{className:"dislikedimage"})))),i.push(n.a.createElement("div",{className:"icanswipe"},m,n.a.createElement(N.a,Object.assign({onSwiping:function(t){return e.swiped(t,r)}},c),n.a.createElement("button",{onMouseEnter:function(){return e.setState({showThumbs:r})},onMouseLeave:function(){return e.setState({showThumbs:""})},className:l,style:{transform:e.transformfunc(r),opacity:e.transparfunc(r)},onClick:function(){}},n.a.createElement("div",{className:"rowbutton"},n.a.createElement("div",{className:"columbuttonimage"},n.a.createElement("img",{className:"FoodPhoto",align:"left",src:e.getimage(s),alt:"Food"})),n.a.createElement("div",{className:"columtitle"},n.a.createElement("div",{className:"foodtitle2"}," ",n.a.createElement("b",{className:"FoodTitle"},r)," ",n.a.createElement("br",null)," "),n.a.createElement("div",{className:"foodtags2"},n.a.createElement("div",{className:"badgesContainer"},o))),n.a.createElement("div",{className:"informationbuttonscolum"},n.a.createElement("div",{className:"informationbutton1",onClick:function(){e.logAction("get recipe",r),e.sendRecipe(r)}},e.recipePopup(t[s],e.getimage(s))),n.a.createElement("div",{className:"informationbutton2",onClick:function(){e.logAction("get nutritional values",r),e.sendNuttritionSimilar(r)}},e.nutritionalPopup(t[s]))))))))},r=0;r<t.length;r++)s(r);return i}}},{key:"transformfunc",value:function(e){return void 0!=this.state.translation?this.state.translation[e]:""}},{key:"transparfunc",value:function(e){return void 0!=this.state.transparency?this.state.transparency[e]:1}},{key:"like",value:function(e){""===e&&(e=this.state.foods[this.state.foods.length-1]);for(var t=e.toLowerCase(),a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--)if(a[i].Name===localStorage.getItem("currentUser")){for(var n=a[i].Liked,s=this.state.foods,r=this.state.tags,o=this.state.images,l=0,c=0;c<s.length;c++){if(void 0!=s[c])s[c].toLowerCase()===t&&(l=c)}if(void 0==n.length){var m=[];void 0!=n&&m.push(n),m.push(t),n=m}else n.push(t);s.splice(l,1),this.setState({foods:s}),r.splice(l,1),this.setState({tags:r}),o.splice(l,1),this.setState({images:o}),this.setState({likedItems:n}),a[i].Liked=n,localStorage.setItem("users",JSON.stringify(a)),this.logAction("like",e);break}}},{key:"unlike",value:function(e){for(var t=e.toLowerCase(),a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--){if(a[i].Name===localStorage.getItem("currentUser")){for(var n=a[i].Liked,s=0,r=0;r<n.length;r++){if(void 0!=n[r])n[r].toLowerCase()===t&&(s=r)}void 0==n&&(n=[]),n.splice(s,1);var o=this.state.favorites;o.splice(s,1),this.setState({liked:n}),this.setState({favorites:o}),a[i].Liked=n,localStorage.setItem("users",JSON.stringify(a)),this.setState({likedItems:n}),this.logAction("unlike",e);break}this.setState({favorite:!0})}}},{key:"dislike",value:function(e){""===e&&(e=this.state.foods[this.state.foods.length-1]);for(var t=e.toLowerCase(),a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--)if(a[i].Name===localStorage.getItem("currentUser")){for(var n=a[i].Disliked,s=this.state.foods,r=this.state.tags,o=this.state.images,l=0,c=0;c<s.length;c++){if(void 0!=s[c])s[c].toLowerCase()===t&&(l=c)}s.splice(l,1),this.setState({foods:s}),r.splice(l,1),this.setState({tags:r}),o.splice(l,1),this.setState({images:o}),null==n&&(n=[]),n.push(e),this.setState({dislikedItems:n}),a[i].Disliked=n,localStorage.setItem("users",JSON.stringify(a)),this.logAction("dislike",e);break}}},{key:"logAction",value:function(e,t){for(var a=JSON.parse(localStorage.getItem("users")),i=a.length-1;i>=0;i--)if(a[i].Name===localStorage.getItem("currentUser")){t,e;var n=[];n.push(Date.now()),n.push(e);var s=0;s=0===JSON.parse(localStorage.getItem("viewInit"))?"list mode":"tinder mode",n.push(s),n.push(t),a[i].Log.push(n),localStorage.setItem("users",JSON.stringify(a));break}}},{key:"endSwipe",value:function(){this.setState({swiping:!1}),this.setState({shadownr:0});var e={};this.setState({translation:e,transparency:e})}},{key:"swiped",value:function(e,t){this.setState({swiping:!0}),this.setState({shadownr:e.deltaX});var a=-1*e.deltaX,i={};i[t]="translate("+a+"px,0%)";var n={};n[t]=10/Math.abs(e.deltaX),this.setState({translation:i,transparency:n})}},{key:"getname",value:function(e){return void 0!==this.state.foods?this.state.foods[e]:""}},{key:"getimage",value:function(e){return void 0!==this.state.images?this.state.images[e]:""}},{key:"render",value:function(){return this.state.favorite?n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{className:"PageHeader"}," ",n.a.createElement("b",{className:"PageTitle"},"Favorites"),n.a.createElement(d.b,{to:"/profile"},n.a.createElement("button",{title:"profile",className:"profile"},n.a.createElement("b",null," "))),n.a.createElement("button",{className:"favorites",title:"favorites",onClick:this.goToFavorites},n.a.createElement("b",null)),n.a.createElement("button",{className:"toRecommendButton",title:"recommends",onClick:this.goToRecommends},n.a.createElement("b",null))),this.generateView())):n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{className:"PageHeader"}," ",n.a.createElement("b",{className:"PageTitle"},"Let's get to know you!")),this.generateView()))}}]),t}(n.a.Component),W=(a(336),a(155),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggleChange=function(){a.setState({isChecked:!a.state.isChecked});for(var e=JSON.parse(localStorage.getItem("users")),t=0;t<e.length;t++)if(e[t].Name===localStorage.getItem("currentUser")){var i=e[t].booleansPreferences,n=e[t].booleanAllergies;!0===a.state.prefs?(i[a.state.id]=!i[a.state.id],e[t].booleansPreferences=i):(n[-a.state.id-1]=!n[-a.state.id-1],e[t].booleanAllergies=n)}localStorage.setItem("users",JSON.stringify(e))},a.state={isChecked:e.checked,name:e.name,id:e.id,prefs:e.prefs},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("li",null,n.a.createElement("input",{type:"checkbox",checked:this.state.isChecked,onChange:this.toggleChange,id:this.state.id}),n.a.createElement("label",{for:this.state.id},this.state.name))}}]),t}(n.a.Component)),Q=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onTextChangedLiked=function(t){var a=t.target.value,i=[];if(a.length>0){var n=new RegExp("^".concat(a),"i");i=e.items.sort().filter((function(e){return n.test(e)}))}e.setState((function(){return{suggestionsLiked:i,textLiked:a}}))},e.onTextChangedDisliked=function(t){var a=t.target.value,i=[];if(a.length>0){var n=new RegExp("^".concat(a),"i");i=e.items.sort().filter((function(e){return n.test(e)}))}e.setState((function(){return{suggestionsDisliked:i,textDisliked:a}}))};var a=!1;if(e.amountOfLikes=0,e.amountOfDislikes=0,null!=localStorage.getItem("users"))for(var i=JSON.parse(localStorage.getItem("users")),n=0;n<i.length;n++)if(i[n].Name===localStorage.getItem("currentUser")&&i[n].Preferences&&i[n].Preferences.length&&i[n].Allergies&&i[n].Preferences){a=!0,e.amountOfDislikes=i[n].Allergies.length,e.amountOfLikes=i[n].Preferences.length;break}if(!a);return e.items=["60-minutes-or-less","time-to-make","course","main-ingredient","cuisine","preparation","occasion","north-american","side-dishes","vegetables","mexican","easy","fall","holiday-event","vegetarian","winter","dietary","christmas","seasonal","squash","30-minutes-or-less","breakfast","main-dish","pork","american","oven","kid-friendly","pizza","northeastern-united-states","meat","equipment","chili","crock-pot-slow-cooker","4-hours-or-less","eggs-dairy","potatoes","dinner-party","easter","cheese","stove-top","new-years","thanksgiving","independence-day","st-patricks-day","valentines-day","inexpensive","brunch","superbowl","presentation","served-hot","weeknight","canning","condiments-etc","heirloom-historical","amish-mennonite","number-of-servings","technique","15-minutes-or-less","low-protein","5-ingredients-or-less","beverages","fruit","low-sodium","shakes","low-calorie","low-in-something","apples","served-cold","3-steps-or-less","appetizers","canadian","vegan","freezer","south-west-pacific","hawaiian","spicy","copycat","pork-ribs","super-bowl","novelty","taste-mood","savory","sweet","pies-and-tarts","desserts","lunch","snacks","no-cook","refrigerator","frozen-desserts","pies","chocolate","breads","oamc-freezer-make-ahead","quick-breads","tropical-fruit","bananas","healthy","1-day-or-more","comfort-food","berries","strawberries","beans","potluck","to-go","greens","collard-greens","pork-chops","southwestern-united-states","deep-fry","candy","beef","one-dish-meal","lactose","bisques-cream-soups","soups-stews","spring","food-processor-blender","free-of-something","cauliflower","small-appliance","beginner-cook","low-cholesterol","low-carb","healthy-2","spinach","low-saturated-fat","high-calcium","high-in-something","very-low-carbs","sauces","eggs","savory-sauces","asian","indian","herb-and-spice-mixes","cooking-mixes","peppers","poultry","chicken","gluten-free","californian","black-beans","grilling","picnic","cookies-and-brownies","bar-cookies","brownies","gifts","casseroles","ground-beef","wild-game","deer","low-fat","summer","toddler-friendly","mixer","clear-soups","salads","pasta","pasta-rice-and-grains","for-large-groups","muffins","sandwiches","cakes","nuts","pineapple","corn","german","european","yeast","italian","lasagna","omelets-and-frittatas","for-1-or-2","romantic","ramadan","chicken-breasts","diabetic","dips","barbecue","marinades-and-rubs","finger-food","infant-baby-friendly","roast","veal","garnishes","cheesecake","grains","wedding","kosher","high-protein","mushrooms","seafood","fish","tuna","saltwater-fish","elbow-macaroni","pancakes-and-waffles","midwestern","southern-united-states","chicken-thighs-legs","salmon","indonesian","soy-tofu","tempeh","spreads","beef-ribs","grapes","smoothies","bacon","broil","pacific-northwest","tomatoes","cocktails","no-shell-fish","squid","polish","chinese","steam","onions","british-columbian","broccoli","kwanzaa","meatloaf","simply-potatoes2","rolled-cookies","drop-cookies","cake-fillings-and-frostings","lettuces","stews","lentils","danish","scandinavian","swiss","swedish","french","from-scratch","microwave","granola-and-porridge","bread-machine","asparagus","gumbo","african","cajun","shrimp","creole","shellfish","savory-pies","salad-dressings","orange-roughy","leftovers","simply-potatoes","crab","mango","curries","egg-free","roast-beef","pork-sausage","brown-bag","turkey","whole-turkey","green-yellow-beans","beef-sausage","australian","rice","brown-rice","white-rice","long-grain-rice","caribbean","central-american","stuffings-dressings","english","spaghetti","coconut","quebec","freshwater-fish","catfish","middle-eastern","lebanese","ravioli-tortellini","steak","clams","rolls-biscuits","gelatin","greek","citrus","oranges","papaya","punch","pitted-fruit","peaches","moose","wings","pasta-shells","blueberries","fudge","celebrity","south-american","sweet-sauces","russian","pork-loins","ham","burgers","biscotti","peanut-butter","baja","halloween","dairy-free","high-fiber","zucchini","puddings-and-mousses","japanese","lemon","chick-peas-garbanzos","cobblers-and-crisps","lamb-sheep","flat-shapes","turkey-burgers","carrots","penne","micro-melanesia","yams-sweet-potatoes","cinco-de-mayo","native-american","artichoke","salsas","cupcakes","puerto-rican","stir-fry","hand-formed-cookies","spanish","steaks","irish","scones","oaxacan","lime","camping","thai","polynesian","melons","jewish-ashkenazi","hanukkah","rosh-hashana","iraqi","saudi-arabian","whole-chicken","sourdough","baking","medium-grain-rice","pakistani","scottish","chutneys","somalian","non-alcoholic","mardi-gras-carnival","ontario","raspberries","crusts-pastry-dough-2","coffee-cakes","memorial-day","tex-mex","south-african","passover","new-zealand","","chowders","pressure-cooker","whitefish","halibut","bok-choys","pennsylvania-dutch","ice-cream","pears","scallops","pheasant","water-bath","stocks","tarts","chinese-new-year","chicken-livers","manicotti","szechuan","birthday","nut-free","fillings-and-frostings-chocolate","jams-and-preserves","unprocessed-freezer","cherries","chard","tilapia","colombian","welsh","short-grain-rice","kiwifruit","breakfast-eggs","eggs-breakfast","czech","filipino","turkey-breasts","cuban","perch","smoker","college","belgian","costa-rican","guatemalan","honduran","finnish","moroccan","a1-sauce","avocado","jellies","labor-day","iranian-persian","jewish-sephardi","dutch","pumpkin","cod","sole-and-flounder","plums","turkish","portuguese","soul","hungarian","georgian","brazilian","nigerian","ethiopian","fathers-day","sudanese","congolese","ecuadorean","mussels","peruvian","meatballs","egyptian","argentine","mahi-mahi","chilean","hidden-valley-ranch","dehydrator","crawfish","oatmeal","reynolds-wrap","malaysian","duck","rosh-hashanah","nepalese","eggplant","goose","icelandic","veggie-burgers","mothers-day","mashed-potatoes","chocolate-chip-cookies","vietnamese","elk","oysters","palestinian","rabbit","norwegian","lobster","main-dish-beef","beef-crock-pot","pot-roast","hunan","austrian","halloween-cocktails","libyan","april-fools-day","beef-organ-meats","beef-liver","angolan","korean","cantonese","whole-duck","halloween-cupcakes","halloween-cakes","ragu-recipe-contest","macaroni-and-cheese","trout","irish-st-patricks-day","bass","beijing","quail","pickeral","main-dish-chicken","bear","brewing","cambodian","beef-kidney","beef-sauces","spaghetti-sauce","heirloom-historical-recipes","pot-pie","dips-lunch-snacks","pressure-canning","main-dish-pork","pork-loins-roast","quiche","sugar-cookies","venezuelan","octopus","side-dishes-beans","beans-side-dishes","baked-beans","snacks-kid-friendly","snacks-sweet","duck-breasts","main-dish-pasta","pasta-salad","pasta-elbow-macaroni","namibian","mushroom-soup","beef-barley-soup","pork-crock-pot","crock-pot-main-dish","desserts-fruit","desserts-easy","lasagne","laotian","cabbage","prepared-potatoes","middle-eastern-main-dish","high-in-something-diabetic-friendly","dips-summer","black-bean-soup","bean-soup","served-hot-new-years","ham-and-bean-soup","lamb-sheep-main-dish","mongolian","for-large-groups-holiday-event","stews-poultry","pasta-rice-and-grains-elbow-macaroni","pork-loin","cranberry-sauce","marinara-sauce","breakfast-casseroles","breakfast-potatoes","main-dish-seafood","shrimp-main-dish","pumpkin-bread","bread-pudding","less_thansql:name_topics_of_recipegreater_than","chicken-crock-pot","chicken-stews","chicken-stew","Throw the ultimate fiesta with this sopaipillas recipe from Food.com.","roast-beef-main-dish","roast-beef-comfort-food"],e.state={boxes:e.getItemLocal("boxes"),suggestionsLiked:[],suggestionsDisliked:[],textLiked:"",textDisliked:""},e.success=e.success.bind(Object(f.a)(e)),e.updateAccount=e.updateAccount.bind(Object(f.a)(e)),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"getItemLocal",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"getRender",value:function(){for(var e=this,t=JSON.parse(localStorage.getItem("users")),a=-1,i=t.length-1;i>=0;i--)if(t[i].Name===localStorage.getItem("currentUser")&&(a=i,localStorage.setItem("favorite",JSON.stringify(!1)),t[i].FirstTime)){w.a.fire({title:"Welcome!",text:"Let's set you up! First, choose your preferences and things you dislike, like allergies for example.",icon:"info",confirmButtonText:"Okay!"}),t[i].FirstTime=!1,localStorage.setItem("users",JSON.stringify(t));break}var s=[],r=[];s.push(n.a.createElement("h3",null," Things you like "));for(var o=this.state.textLiked,l=this.state.textDisliked,c=0;c<this.amountOfLikes;c++)r.push(n.a.createElement(W,{name:t[a].Preferences[c],checked:t[a].booleansPreferences[c],id:c,prefs:!0}));s.push(n.a.createElement("div",{class:"container"},n.a.createElement("ul",{class:"ks-cboxtags"}," ",r," "))),s.push(n.a.createElement("input",{className:"textBoxAdd",value:o,onChange:this.onTextChangedLiked,type:"text"})),s.push(this.renderSuggestionsLiked()),s.push(n.a.createElement("input",{className:"addButton",type:"submit",value:"Add something you like",onClick:function(){return e.doChange(o,1)}})),s.push(n.a.createElement("h3",null," Things you dislike ")),r=[];for(var m=0;m<this.amountOfDislikes;m++)r.push(n.a.createElement(W,{name:t[a].Allergies[m],checked:t[a].booleanAllergies[m],id:-m-1,prefs:!1}));return s.push(n.a.createElement("div",{class:"container"},n.a.createElement("ul",{class:"ks-cboxtags"}," ",r," "))),s.push(n.a.createElement("input",{className:"textBoxAdd",value:l,onChange:this.onTextChangedDisliked,type:"text"})),s.push(this.renderSuggestionsDisliked()),s.push(n.a.createElement("input",{className:"addButton",type:"submit",value:"Add something you dislike",onClick:function(){return e.doChange(l,2)}})),s}},{key:"success",value:function(){}},{key:"updateAccount",value:function(){for(var e=JSON.parse(localStorage.getItem("users")),t=0;t<e.length&&e[t].Name!==localStorage.getItem("currentUser");t++);localStorage.setItem("users",JSON.stringify(e)),this.success()}},{key:"renderButton",value:function(){for(var e=JSON.parse(localStorage.getItem("users")),t=e.length-1;t>=0;t--)if(e[t].Name===localStorage.getItem("currentUser"))return e[t].FirstTime1?(localStorage.setItem("users",JSON.stringify(e)),n.a.createElement(d.b,{to:"/recommendations"},n.a.createElement("button",{className:"NextButton Green",onClick:this.updateAccount},n.a.createElement("b",null,"Recommend!")))):n.a.createElement(d.b,{to:"/recommendations"},n.a.createElement("button",{className:"NextButton Green",onClick:this.updateAccount},n.a.createElement("b",null,"Recommend!")))}},{key:"suggestionSelectedLiked",value:function(e){this.setState((function(){return{textLiked:e,suggestionsLiked:[]}})),this.state.textLiked=e}},{key:"suggestionSelectedDisliked",value:function(e){this.setState((function(){return{textDisliked:e,suggestionsDisliked:[]}})),this.state.textDisliked=e}},{key:"renderSuggestionsLiked",value:function(){var e=this,t=this.state.suggestionsLiked;return 0===t.length?null:n.a.createElement("div",{className:"AutoCompleteText"},n.a.createElement("ul",null,t.map((function(t){return n.a.createElement("li",{onClick:function(){return e.suggestionSelectedLiked(t)}},t)}))))}},{key:"renderSuggestionsDisliked",value:function(){var e=this,t=this.state.suggestionsDisliked;return 0===t.length?null:n.a.createElement("div",{className:"AutoCompleteText"},n.a.createElement("ul",null,t.map((function(t){return n.a.createElement("li",{onClick:function(){return e.suggestionSelectedDisliked(t)}},t)}))))}},{key:"doChange",value:function(e,t){for(var a=this.items,i=JSON.parse(localStorage.getItem("users")),n=0;n<i.length;n++)if(i[n].Name===localStorage.getItem("currentUser")&&a.includes(e)&&""!==e){1===t?(i[n].Preferences.push(e),i[n].booleansPreferences.push(!0),this.amountOfLikes=this.amountOfLikes+1,this.setState((function(){return{textLiked:e}}))):2===t&&(i[n].Allergies.push(e),i[n].booleanAllergies.push(!0),this.amountOfDislikes=this.amountOfDislikes+1,this.setState((function(){return{textDisliked:e}}))),a.splice(this.items.indexOf(e),1),this.items=a;break}localStorage.setItem("users",JSON.stringify(i))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"PageHeader"}," ",n.a.createElement("b",{className:"PageTitle"},"Your profile"),n.a.createElement(d.b,{to:"/profile"},n.a.createElement("button",{className:"profile"},n.a.createElement("b",null," "))),n.a.createElement(d.b,{to:"/recommendations"},n.a.createElement("button",{onClick:function(){localStorage.setItem("favorite",JSON.stringify(!0))},title:"favorites",className:"favorites"},n.a.createElement("b",null," "))),n.a.createElement(d.b,{to:"/recommendations"},n.a.createElement("button",{onClick:function(){return localStorage.setItem("favorite",JSON.stringify(!1))},title:"recommends",className:"toRecommendButton"},n.a.createElement("b",null," ")))),n.a.createElement("header",{className:"App-header"},this.getRender(),this.renderButton()))}}]),t}(n.a.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"sendmessage",value:function(e){new WebSocket("ws://localhost:9000");this.socket.send(e)}},{key:"startwebsocket",value:function(){var e=this;this.socket=new WebSocket("ws://localhost:9000");var t={action:"initialise"};this.socket.onopen=function(){e.socket.send(JSON.stringify(t))},this.socket.onmessage=function(t){e.initialised=!0}}},{key:"render",value:function(){return this.initialised=!1,this.startwebsocket(),n.a.createElement(d.a,{basename:"/react-auth-ui/"},n.a.createElement("div",{className:"App"},n.a.createElement(g.c,null,n.a.createElement(g.a,{exact:!0,path:"/test",component:H}),n.a.createElement(g.a,{exact:!0,path:"/",component:P}),n.a.createElement(g.a,{exact:!0,path:"/recommendations",component:L}),n.a.createElement(g.a,{exact:!0,path:"/profile",component:Q}),n.a.createElement(g.a,{exact:!0,path:"/tinderCards",component:B}),n.a.createElement(g.a,{exact:!0,path:"/home",component:h}),n.a.createElement(g.a,{exact:!0,path:"/gettingToKnow",component:L}),n.a.createElement(g.a,{exact:!0,path:"/recommendationsA",component:Y}))))}}],[{key:"socketchange",value:function(e){this.socket.onopen=e}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){}},[[182,1,2]]]);
//# sourceMappingURL=main.aa629eca.chunk.js.map